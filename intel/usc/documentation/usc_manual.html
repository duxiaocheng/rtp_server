<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="application/xhtml+xml; charset=UTF-8" />
<meta name="generator" content="AsciiDoc 8.6.8" />
<title>Intel&#174; Integrated Performance Primitives: Unified Speech Component Interface</title>
<style type="text/css">
/* Custom theme based on CSS for AsciiDoc xhtml11 and html5 backends */

/* Default font. */
body, thead, p.table.header, div.title, caption.title
{
    font-family: Verdana, Arial, sans-serif;
    font-size: 10pt;
}
/*
thead, p.table.header
{
    font-size: 1em;
}*/

/* Title font. */
/*h1, h2, h3, h4, h5, h6,
#toctitle, #author, #revnumber, #revdate, #revremark, #footer
{
    font-family: "Neo Sans Intel",Tahoma,Arial,Helvetica,sans-serif;
}*/

body
{
    color: #333333;
    background-color: #ffffff;
    margin: 1em 5% 1em 5%;
}

img
{
    max-width: 100%;
    table-layout: fixed;
}

div.imageblock img
{
    border-bottom: 1px solid #bababa;
    border-top: 1px solid #bababa;
}

div.listingblock > div.content
{
    font-size: 0.9em;
    overflow: auto;
}

a
{
    color: #0860a8;
    text-decoration: underline;
}
a:visited
{
    color: #0860a8;
}

em
{
    font-style: italic;
/*    color: navy;*/
}

strong
{
    font-weight: bold;
/*    color: #0860a8;*/
}

h1, h2, h3, h4, h5, h6
{
    font-weight: normal;
    color: #0860a8;
    margin-top: 1.0em;
    margin-bottom: 0.5em;
/*    line-height: 1.3;*/
}

h1 {
  border-bottom: 2px solid #0860A8;
  font-size: 2.0em;
/*  color: black;*/
}
h2
{
/*    border-bottom: 1px solid #0860A8;*/
    font-size: 1.5em;
}
h3
{
/*  margin-top: 0.5em;*/
    font-size: 1.5em;
/*  float: left;*/
}/*
h3 + * {
  clear: left;
}*/
h4
{
    font-size: 1.5em;
}
h5
{
/*  margin-top: 1.5em;*/
    font-size: 1.5em;
}

div.sectionbody
{
    margin-left: 0;
}

hr
{
    border: 1px solid #0860A8;
}

p {
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}

ul, ol, li > p {
  margin-top: 0;
}
ul > li     { color: #aaa; }
ul > li > * { color: #333333; }

.monospaced, code, pre {
  font-family: "Courier New", Courier, monospace;
  font-size: inherit;
/*  color: navy;*/
  padding: 0;
  margin: 0;
}

#author {
  color: #527bbd;
  font-weight: bold;
  font-size: 1.1em;
}
#email {
}
#revnumber, #revdate, #revremark {
}

#footer {
  font-size: small;
  border-top: 2px solid silver;
  padding-top: 0.5em;
  margin-top: 4.0em;
}
#footer-text {
  float: left;
  padding-bottom: 0.5em;
}
#footer-badges {
  float: right;
  padding-bottom: 0.5em;
}

#preamble {
  margin-top: 1.5em;
  margin-bottom: 1.5em;
}
div.imageblock, div.exampleblock, div.verseblock,
div.quoteblock, div.literalblock, div.listingblock, div.sidebarblock,
div.admonitionblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.admonitionblock {
  margin-top: 2.0em;
  margin-bottom: 2.0em;
  margin-right: 10%;
  color: #606060;
}

div.content { /* Block element content. */
  padding: 0;
}

/* Block element titles. */
div.title, caption.title {
    font-weight: bold;
    text-align: left;
    margin-top: 1em;
    margin-bottom: 0.5em;
}
div.title + * {
  margin-top: 0;
}

td div.title:first-child {
  margin-top: 0.0em;
}
div.content div.title:first-child {
  margin-top: 0.0em;
}
div.content + div.title {
  margin-top: 0.0em;
}

div.sidebarblock > div.content {
  background: #ffffee;
  border: 1px solid #dddddd;
  border-left: 4px solid #f0f0f0;
  padding: 0.5em;
}

div.listingblock > div.content {
  border: 1px solid #dddddd;
  border-left: 5px solid #f0f0f0;
  background: #f8f8f8;
  padding: 0.5em;
}

div.quoteblock, div.verseblock {
  padding-left: 1.0em;
  margin-left: 1.0em;
  margin-right: 10%;
  border-left: 5px solid #f0f0f0;
  color: #888;
}

div.quoteblock > div.attribution {
  padding-top: 0.5em;
  text-align: right;
}

div.verseblock > pre.content {
  font-family: inherit;
  font-size: inherit;
}
div.verseblock > div.attribution {
  padding-top: 0.75em;
  text-align: left;
}
/* DEPRECATED: Pre version 8.2.7 verse style literal block. */
div.verseblock + div.attribution {
  text-align: left;
}

div.admonitionblock .icon {
  vertical-align: top;
  font-size: 1.1em;
  font-weight: bold;
  text-decoration: underline;
  color: #527bbd;
  padding-right: 0.5em;
}
div.admonitionblock td.content {
  padding-left: 0.5em;
  border-left: 3px solid #dddddd;
}

div.exampleblock > div.content {
  border-left: 3px solid #dddddd;
  padding-left: 0.5em;
}

div.imageblock div.content { padding-left: 0; }
span.image img { border-style: none; }
a.image:visited { color: white; }

dl {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
dt {
  margin-top: 0.5em;
  margin-bottom: 0;
  font-style: normal;
  font-weight: bold;
}
dd > *:first-child {
  margin-top: 0.1em;
}

ul, ol {
    list-style-position: outside;
}
ol.arabic {
  list-style-type: decimal;
}
ol.loweralpha {
  list-style-type: lower-alpha;
}
ol.upperalpha {
  list-style-type: upper-alpha;
}
ol.lowerroman {
  list-style-type: lower-roman;
}
ol.upperroman {
  list-style-type: upper-roman;
}

div.compact ul, div.compact ol,
div.compact p, div.compact p,
div.compact div, div.compact div {
  margin-top: 0.1em;
  margin-bottom: 0.1em;
}

tfoot {
  font-weight: bold;
}
td > div.verse {
  white-space: pre;
}

div.hdlist {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
div.hdlist tr {
  padding-bottom: 15px;
}
dt.hdlist1.strong, td.hdlist1.strong {
  font-weight: bold;
}
td.hdlist1 {
  vertical-align: top;
  font-style: normal;
  padding-right: 0.2em;
  font-weight: normal;
  white-space: nowrap;
}
td.hdlist2 {
  vertical-align: top;
}
div.hdlist.compact tr {
  margin: 0;
  padding-bottom: 0;
}

.comment {
  background: yellow;
}

.footnote, .footnoteref {
  font-size: 0.8em;
}

span.footnote, span.footnoteref {
  vertical-align: super;
}

#footnotes {
  margin: 20px 0 20px 0;
  padding: 7px 0 0 0;
}

#footnotes div.footnote {
  margin: 0 0 5px 0;
}

#footnotes hr {
  border: none;
  border-top: 1px solid silver;
  height: 1px;
  text-align: left;
  margin-left: 0;
  width: 20%;
  min-width: 100px;
}

div.colist td {
  padding-right: 0.5em;
  padding-bottom: 0.3em;
  vertical-align: top;
}
div.colist td img {
  margin-top: 0.3em;
}

@media print {
  #footer-badges { display: none; }
}

/*
 * TOC control
*/

#toc
{
    background-color: #f1f1f1;
}

#toctitle
{
    border-bottom: 2px solid silver;
    color: #333333;
    font-size: 15pt;
    font-weight: normal;
    margin-top: 1.0em;
    margin-bottom: 0.5em;
}

div.toclevel0, div.toclevel1, div.toclevel2, div.toclevel3, div.toclevel4
{
    margin-top: 0;
    margin-bottom: 0;
}
div.toclevel0 > a, div.toclevel1 > a, div.toclevel2 > a, div.toclevel3 > a, div.toclevel4 > a
{
    text-decoration: none;
    color: #333333;
}
div.toclevel0 > a:hover, div.toclevel1 > a:hover, div.toclevel2 > a:hover, div.toclevel3 > a:hover, div.toclevel4 > a:hover
{
    text-decoration: underline;
}
div.toclevel0
{
    margin-top: 0.5em;
    color: black;
    font-weight: bold;
}
div.toclevel1
{
    margin-top: 0.5em;
    margin-left: 0.8em;
}
div.toclevel2
{
    list-style-type: circle;
    display: list-item;
    margin-top: 0.5em;
    margin-left: 2em;
}
div.toclevel3
{
    list-style-type: square;
    display: list-item;
    margin-top: 0.2em;
    margin-left: 3.8em;
    font-size: 0.8em;
}
div.toclevel4
{
    display: list-item;
    margin-top: 0.2em;
    margin-left: 5.1em;
    font-size: 0.8em;
}

span.aqua { color: aqua; }
span.black { color: black; }
span.blue { color: blue; }
span.fuchsia { color: fuchsia; }
span.gray { color: gray; }
span.green { color: green; }
span.lime { color: lime; }
span.maroon { color: maroon; }
span.navy { color: navy; }
span.olive { color: olive; }
span.purple { color: purple; }
span.red { color: red; }
span.silver { color: silver; }
span.teal { color: teal; }
span.white { color: white; }
span.yellow { color: yellow; }

span.aqua-background { background: aqua; }
span.black-background { background: black; }
span.blue-background { background: blue; }
span.fuchsia-background { background: fuchsia; }
span.gray-background { background: gray; }
span.green-background { background: green; }
span.lime-background { background: lime; }
span.maroon-background { background: maroon; }
span.navy-background { background: navy; }
span.olive-background { background: olive; }
span.purple-background { background: purple; }
span.red-background { background: red; }
span.silver-background { background: silver; }
span.teal-background { background: teal; }
span.white-background { background: white; }
span.yellow-background { background: yellow; }

span.big { font-size: 2em; }
span.small { font-size: 0.6em; }

span.underline { text-decoration: underline; }
span.overline { text-decoration: overline; }
span.line-through { text-decoration: line-through; }

div.unbreakable { page-break-inside: avoid; }


/*
 * Tables control
*/

div.tableblock
{
    margin-top: 1.0em;
    margin-bottom: 1.5em;
    border-color: #bababa;
}
div.tableblock > table
{
    border-collapse: collapse;
    border: 1px solid #bababa;
}
td, th, tr, thead, tfoot, tbody, table,p.table
{
    border-color: #bababa;
}
thead, p.table.header
{
    font-weight: bold;
    background-color: #555555;
    border-color: #bababa;
    color: #FFFFFF;
}
p.table
{
    margin-top: 0;
}
/* Because the table frame attribute is overriden by CSS in most browsers. */
div.tableblock > table[frame="void"]
{
    border-style: none;
}
div.tableblock > table[frame="hsides"]
{
    border-left-style: none;
    border-right-style: none;
}
div.tableblock > table[frame="vsides"]
{
    border-top-style: none;
    border-bottom-style: none;
}

/* TOC2 and images width control */
@media print
{
    body.manpage div#toc { display: none; }
}

@media screen
{
    body
    {
        max-width: 60em; /* approximately 80 characters wide */
        margin-left: 25em;
    }
    #toc
    {
        min-width: 17em;
        max-width: 22em;
    }
}


@media screen {
  #toc {
    position: fixed;
    top: 0;
    left: 0;
    bottom: 0;
    padding: 0.5em;
    margin: 0;
    overflow: auto;
  }
}
</style>
<script type="text/javascript">
/*<![CDATA[*/
var asciidoc = {  // Namespace.

/////////////////////////////////////////////////////////////////////
// Table Of Contents generator
/////////////////////////////////////////////////////////////////////

/* Author: Mihai Bazon, September 2002
 * http://students.infoiasi.ro/~mishoo
 *
 * Table Of Content generator
 * Version: 0.4
 *
 * Feel free to use this script under the terms of the GNU General Public
 * License, as long as you do not remove or alter this notice.
 */

 /* modified by Troy D. Hanson, September 2006. License: GPL */
 /* modified by Stuart Rackham, 2006, 2009. License: GPL */

// toclevels = 1..4.
toc: function (toclevels) {

  function getText(el) {
    var text = "";
    for (var i = el.firstChild; i != null; i = i.nextSibling) {
      if (i.nodeType == 3 /* Node.TEXT_NODE */) // IE doesn't speak constants.
        text += i.data;
      else if (i.firstChild != null)
        text += getText(i);
    }
    return text;
  }

  function TocEntry(el, text, toclevel) {
    this.element = el;
    this.text = text;
    this.toclevel = toclevel;
  }

  function tocEntries(el, toclevels) {
    var result = new Array;
    var re = new RegExp('[hH]([1-'+(toclevels+1)+'])');
    // Function that scans the DOM tree for header elements (the DOM2
    // nodeIterator API would be a better technique but not supported by all
    // browsers).
    var iterate = function (el) {
      for (var i = el.firstChild; i != null; i = i.nextSibling) {
        if (i.nodeType == 1 /* Node.ELEMENT_NODE */) {
          var mo = re.exec(i.tagName);
          if (mo && (i.getAttribute("class") || i.getAttribute("className")) != "float") {
            result[result.length] = new TocEntry(i, getText(i), mo[1]-1);
          }
          iterate(i);
        }
      }
    }
    iterate(el);
    return result;
  }

  var toc = document.getElementById("toc");
  if (!toc) {
    return;
  }

  // Delete existing TOC entries in case we're reloading the TOC.
  var tocEntriesToRemove = [];
  var i;
  for (i = 0; i < toc.childNodes.length; i++) {
    var entry = toc.childNodes[i];
    if (entry.nodeName.toLowerCase() == 'div'
     && entry.getAttribute("class")
     && entry.getAttribute("class").match(/^toclevel/))
      tocEntriesToRemove.push(entry);
  }
  for (i = 0; i < tocEntriesToRemove.length; i++) {
    toc.removeChild(tocEntriesToRemove[i]);
  }

  // Rebuild TOC entries.
  var entries = tocEntries(document.getElementById("content"), toclevels);
  for (var i = 0; i < entries.length; ++i) {
    var entry = entries[i];
    if (entry.element.id == "")
      entry.element.id = "_toc_" + i;
    var a = document.createElement("a");
    a.href = "#" + entry.element.id;
    a.appendChild(document.createTextNode(entry.text));
    var div = document.createElement("div");
    div.appendChild(a);
    div.className = "toclevel" + entry.toclevel;
    toc.appendChild(div);
  }
  if (entries.length == 0)
    toc.parentNode.removeChild(toc);
},


/////////////////////////////////////////////////////////////////////
// Footnotes generator
/////////////////////////////////////////////////////////////////////

/* Based on footnote generation code from:
 * http://www.brandspankingnew.net/archive/2005/07/format_footnote.html
 */

footnotes: function () {
  // Delete existing footnote entries in case we're reloading the footnodes.
  var i;
  var noteholder = document.getElementById("footnotes");
  if (!noteholder) {
    return;
  }
  var entriesToRemove = [];
  for (i = 0; i < noteholder.childNodes.length; i++) {
    var entry = noteholder.childNodes[i];
    if (entry.nodeName.toLowerCase() == 'div' && entry.getAttribute("class") == "footnote")
      entriesToRemove.push(entry);
  }
  for (i = 0; i < entriesToRemove.length; i++) {
    noteholder.removeChild(entriesToRemove[i]);
  }

  // Rebuild footnote entries.
  var cont = document.getElementById("content");
  var spans = cont.getElementsByTagName("span");
  var refs = {};
  var n = 0;
  for (i=0; i<spans.length; i++) {
    if (spans[i].className == "footnote") {
      n++;
      var note = spans[i].getAttribute("data-note");
      if (!note) {
        // Use [\s\S] in place of . so multi-line matches work.
        // Because JavaScript has no s (dotall) regex flag.
        note = spans[i].innerHTML.match(/\s*\[([\s\S]*)]\s*/)[1];
        spans[i].innerHTML =
          "[<a id='_footnoteref_" + n + "' href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
        spans[i].setAttribute("data-note", note);
      }
      noteholder.innerHTML +=
        "<div class='footnote' id='_footnote_" + n + "'>" +
        "<a href='#_footnoteref_" + n + "' title='Return to text'>" +
        n + "</a>. " + note + "</div>";
      var id =spans[i].getAttribute("id");
      if (id != null) refs["#"+id] = n;
    }
  }
  if (n == 0)
    noteholder.parentNode.removeChild(noteholder);
  else {
    // Process footnoterefs.
    for (i=0; i<spans.length; i++) {
      if (spans[i].className == "footnoteref") {
        var href = spans[i].getElementsByTagName("a")[0].getAttribute("href");
        href = href.match(/#.*/)[0];  // Because IE return full URL.
        n = refs[href];
        spans[i].innerHTML =
          "[<a href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
      }
    }
  }
},

install: function(toclevels) {
  var timerId;

  function reinstall() {
    asciidoc.footnotes();
    if (toclevels) {
      asciidoc.toc(toclevels);
    }
  }

  function reinstallAndRemoveTimer() {
    clearInterval(timerId);
    reinstall();
  }

  timerId = setInterval(reinstall, 500);
  if (document.addEventListener)
    document.addEventListener("DOMContentLoaded", reinstallAndRemoveTimer, false);
  else
    window.onload = reinstallAndRemoveTimer;
}

}
asciidoc.install(3);
/*]]>*/
</script>
</head>
<body class="book">
<div id="header">
<h1>Intel&#174; Integrated Performance Primitives: Unified Speech Component Interface</h1>
<div id="toc">
  <div id="toctitle">Table of Contents</div>
  <noscript><p><b>JavaScript must be enabled in your browser to display the table of contents.</b></p></noscript>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<h1 id="disclaimer" style="font-size:6pt; color:#FFFFFF; border-style:hidden; margin:0px;">Disclaimer</h1>

<font size="-3">
<p><font size="-3"><h2 id="_legal_information">Legal Information</h2>
INFORMATION IN THIS DOCUMENT IS PROVIDED IN CONNECTION WITH INTEL PRODUCTS.
NO LICENSE, EXPRESS OR IMPLIED, BY ESTOPPEL OR OTHERWISE, TO ANY INTELLECTUAL
PROPERTY RIGHTS IS GRANTED BY THIS DOCUMENT. EXCEPT AS PROVIDED IN INTEL'S
TERMS AND CONDITIONS OF SALE FOR SUCH PRODUCTS, INTEL ASSUMES NO LIABILITY
WHATSOEVER, AND INTEL DISCLAIMS ANY EXPRESS OR IMPLIED WARRANTY, RELATING
TO SALE AND/OR USE OF INTEL PRODUCTS INCLUDING LIABILITY OR WARRANTIES
RELATING TO FITNESS FOR A PARTICULAR PURPOSE, MERCHANTABILITY, OR INFRINGEMENT
OF ANY PATENT, COPYRIGHT OR OTHER INTELLECTUAL PROPERTY RIGHT.<br>
A   "Mission Critical Application" is any application in which failure of the   Intel Product could result, directly or indirectly, in personal injury or death.   SHOULD YOU PURCHASE OR USE INTEL'S PRODUCTS FOR ANY SUCH MISSION CRITICAL   APPLICATION, YOU SHALL INDEMNIFY AND HOLD INTEL AND ITS SUBSIDIARIES,   SUBCONTRACTORS AND AFFILIATES, AND THE DIRECTORS, OFFICERS, AND EMPLOYEES OF   EACH, HARMLESS AGAINST ALL CLAIMS COSTS, DAMAGES, AND EXPENSES AND REASONABLE   ATTORNEYS' FEES ARISING OUT OF, DIRECTLY OR INDIRECTLY, ANY CLAIM OF PRODUCT   LIABILITY, PERSONAL INJURY, OR DEATH ARISING IN ANY WAY OUT OF SUCH MISSION   CRITICAL APPLICATION, WHETHER OR NOT INTEL OR ITS SUBCONTRACTOR WAS NEGLIGENT IN   THE DESIGN, MANUFACTURE, OR WARNING OF THE INTEL PRODUCT OR ANY OF ITS PARTS.</font></p>
</font>
<p><font size="-3"> Intel may make changes to specifications and product descriptions at any time,
  without notice. Designers must not rely on the absence or characteristics of any
  features or instructions marked "reserved" or "undefined." Intel reserves these
  for future definition and shall have no responsibility whatsoever for conflicts
  or incompatibilities arising from future changes to them. The information here
  is subject to change without notice. Do not finalize a design with this
  information. <br>
  The products described in this document may contain design defects or errors
  known as errata which may cause the product to deviate from published
  specifications. Current characterized errata are available on request. <br>
  Contact your local Intel sales office or your distributor to obtain the latest
  specifications and before placing your product order. <br>
  Copies of documents which have an order number and are referenced in this
  document, or other Intel literature, may be obtained by calling 1-800-548-4725,
  or go to:
  <a href="http://www.intel.com/design/literature.htm">http://www.intel.com/design/literature.htm</a><br></font></p>
  <p><font size="-3"> Intel processor numbers are not a measure of performance. Processor numbers
  differentiate features within each processor family, not across different
  processor families. Go to: <a href="http://www.intel.com/products/processor_number"> <a href="http://www.intel.com/products/processor_number/">http://www.intel.com/products/processor_number/</a></a></font></p>

<p><font size="-3"> BlueMoon, BunnyPeople, Celeron, Celeron Inside, Centrino, Centrino Inside, Core Inside,
  i960, Intel, the Intel logo, Intel Atom, Intel Atom Inside, Intel Core,
  Intel Inside, Intel Inside logo, Intel NetBurst, Intel NetMerge,
  Intel NetStructure, Intel SingleDriver, Intel SpeedStep,
  Intel Sponsors of Tomorrow., the Intel Sponsors of Tomorrow. logo,
  Intel StrataFlash, Intel Viiv, Intel vPro, Intel XScale, InTru, the InTru logo,
  InTru soundmark, Itanium, Itanium Inside, MCS, MMX, Moblin, Pentium,
  Pentium Inside, skoool, the skoool logo, Sound Mark, The Journey Inside,
  vPro Inside, VTune, Xeon, and Xeon Inside
  are trademarks of Intel Corporation in the U.S. and other countries. <br>
  * Other names and brands may be claimed as the property of others. </font></p>

<p><font size="-3"> Microsoft, Windows, Visual Studio, Visual C++, and the Windows logo are
  trademarks, or registered trademarks of Microsoft Corporation
  in the United States and/or other countries. </font></p>

<p><font size="-3">Java is a registered trademark of Oracle and/or its affiliates. </font></p>

<p><font size="-3">Copyright(C) 2013 Intel Corporation. All rights reserved.</font></p>

<p id="IPP_SAMPLES_OptNotice">
<div class="tablenoborder">
<table cellpadding="4" summary="" id="d3135e12" frame="border" border="1" cellspacing="0" rules="all">
  <thead align="left">
    <tr><th class="cellrowborder" align="left" valign="top" width="100%" id="d157258e36"><p>Optimization Notice</p></th></tr>
  </thead>

  <tbody>
    <tr><td class="bgcolor(#ccecff)" bgcolor="#ccecff" valign="top" width="100%" headers="d157258e36 ">
    <p>Intel's compilers may or may not optimize to the same degree for non-Intel microprocessors for optimizations that are not
    unique to Intel microprocessors. These optimizations include SSE2, SSE3, and SSSE3 instruction sets and
    other optimizations. Intel does not guarantee the availability, functionality, or effectiveness of
    any optimization on microprocessors not manufactured by Intel.
    <br>
    <br>
    Microprocessor-dependent optimizations in this product are intended for use with Intel microprocessors. Certain optimizations not specific to Intel microarchitecture are reserved for Intel microprocessors. Please refer to the applicable product User and Reference Guides for more information regarding the specific instruction sets covered by this notice.</p>
    <p>Notice revision #20110804 </p>
    </td></tr>
  </tbody>
</table>
</div>
</p>
</div>
</div>
<h1 id="_overview">Overview</h1>
<div class="paragraph"><p><strong>Unified Speech Component (USC)</strong> interface is designed for implementing speech codecs, echo cancellers and other algorithm modules in
the C language using <strong>Intel&#174; Integrated Performance Primitives (Intel&#174; IPP)</strong>.</p></div>
<div class="sect1">
<h2 id="_about_this_software">About This Software</h2>
<div class="sectionbody">
<div class="paragraph"><p>The purpose of the USC interface is to provide unified access to an algorithm module, the access being independent of the algorithm internals.
USC interface also enables binaries to be easily integrated into existing software applications. Decoupling the interface and the algorithm details
enables making development of system components independent of the algorithm implementation.</p></div>
<div class="paragraph"><p>The USC interface defines a global table of unified functions that are applicable to a USC algorithm. The table can be augmented for future
functionality expansions. Each USC algorithm <em>must</em> implement USC base functions and may implement algorithm-specific functions.</p></div>
<div class="paragraph"><p>Currently the USC library implements the following types of algorithms:</p></div>
<div class="ulist"><ul>
<li>
<p>
Speech codec
</p>
</li>
<li>
<p>
Echo cancellation algorithm, also referred to as echo canceller
</p>
</li>
<li>
<p>
Speech signal filter
</p>
</li>
<li>
<p>
Tone detection and generation algorithm, also referred to as tone detector.
</p>
</li>
</ul></div>
<div class="paragraph"><p>The interface defines base functions and their specializations for particular algorithm types as well as algorithm-specific functions for the algorithms.</p></div>
<div class="sect2">
<h3 id="_hardware_and_software_requirements">Hardware and Software Requirements</h3>
<div class="paragraph"><p>The USC interface is based on Intel&#174; IPP, which determines hardware and software requirements for the interface.
See the <strong>Intel&#174; IPP Release Notes</strong> for the specifics.</p></div>
<div class="paragraph"><p>USC interface can be used in an application/library written in C or C++.</p></div>
</div>
<div class="sect2">
<h3 id="_platforms_supported">Platforms Supported</h3>
<div class="paragraph"><p>USC interface can be used on the Windows*, Linux*, and OS* X platforms. All the code in this manual, that is, function declarations,
type definitions and code examples, is written in the ANSI C style. However, versions of USC objects for different processors or operating
systems may, of necessity, vary slightly.</p></div>
<table rules="none" border="1" cellpadding="5" cellspacing="0">
<tbody>
<tr>
<th style="background-color: #555555; height: 30px; color: white;" valign="middle" align="left">Optimization Notice</th>
</tr>
<tr bgcolor="#ccecff">
<td>
<p>Intel's compilers may or may not optimize to the same degree for non-Intel microprocessors for optimizations that are not unique to Intel microprocessors. These optimizations include SSE2, SSE3, and SSSE3 instruction sets and other optimizations. Intel does not guarantee the availability, functionality, or effectiveness of any optimization on microprocessors not manufactured by Intel. Microprocessor-dependent optimizations in this product are intended for use with Intel microprocessors. Certain optimizations not specific to Intel microarchitecture are reserved for Intel microprocessors. Please refer to the applicable product User and Reference Guides for more information regarding the specific instruction sets covered by this notice.</p>
<p align="right">Notice revision #20110804</p>
</td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_technical_support">Technical Support</h3>
<div class="paragraph"><p>The USC interface is subject to terms and conditions of support services provided for Intel&#174; IPP. For the latest information,
including product features, white papers, and technical articles, check: <a href="http://developer.intel.com/software/products/">http://developer.intel.com/software/products/</a></p></div>
<div class="paragraph"><p>Intel also provides a support web site that contains a rich repository of self help information, including getting started tips,
known product issues, product errata, license information, user forums, and more (visit <a href="http://www.intel.com/software/products/support/">http://www.intel.com/software/products/support/</a>).</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_about_this_manual">About This Manual</h2>
<div class="sectionbody">
<div class="paragraph"><p>This manual provides basic concepts of the USC interface and describes functions defined in the interface.</p></div>
<div class="paragraph"><p>Each function in reference sections in the document is introduced by its name, a short description of its purpose,
and the calling sequence, or syntax, for each type of a USC algorithm with which the function is used.
The following sections are also included:</p></div>
<div class="tableblock">
<table rules="none"
width="100%"
frame="void"
cellspacing="0" cellpadding="4">
<col width="25%" />
<col width="75%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><em>Description</em></p></td>
<td align="left" valign="top"><p class="table">Describes the function operation.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><em>Parameters</em></p></td>
<td align="left" valign="top"><p class="table">Specifies each parameter and its purpose.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><em>Return Values</em></p></td>
<td align="left" valign="top"><p class="table">Describes values indicating status codes set as a result of the function call.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_audience_for_this_manual">Audience for This Manual</h3>
<div class="paragraph"><p>The manual is intended for C/C++ developers of speech processing algorithms for various operating systems.
The audience should have thorough understanding of speech processing and be familiar with Intel&#174; IPP.</p></div>
</div>
<div class="sect2">
<h3 id="_manual_organization">Manual Organization</h3>
<div class="paragraph"><p>The manual contains the following chapters and appendices:</p></div>
<div class="tableblock">
<table rules="none"
width="100%"
frame="void"
cellspacing="0" cellpadding="4">
<col width="25%" />
<col width="75%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><em>Chapter 1 Overview.</em></p></td>
<td align="left" valign="top"><p class="table">Introduces the Unified Speech Components interface, provides information on the manual organization, and explains notational conventions.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><em><a href="#_unified_speech_component_interface_concepts">Chapter 2 Unified Speech Component Interface Concepts.</a></em></p></td>
<td align="left" valign="top"><p class="table">Explains basic concepts of the USC interface and describes data structures that the interface uses.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><em><a href="#_base_api">Chapter 3 Base API.</a></em></p></td>
<td align="left" valign="top"><p class="table">Provides a reference for USC base functions.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><em><a href="#_codec_api">Chapter 4 Codec API.</a></em></p></td>
<td align="left" valign="top"><p class="table">Provides a reference for USC codec functions.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><em><a href="#_echo_canceller_api">Chapter 5 Echo Canceller API.</a></em></p></td>
<td align="left" valign="top"><p class="table">Provides a reference for USC echo canceller functions.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><em><a href="#_signal_filter_api">Chapter 6 Signal Filter API.</a></em></p></td>
<td align="left" valign="top"><p class="table">Provides a reference for USC signal filter functions.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><em><a href="#_tone_detector_api">Chapter 7 Tone Detector API.</a></em></p></td>
<td align="left" valign="top"><p class="table">Provides a reference for USC tone detector functions.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><em><a href="#_appendix_a_code_examples">Appendix A Code Examples.</a></em></p></td>
<td align="left" valign="top"><p class="table">Gives usage examples for the USC interface. The manual also includes a Bibliography and Index.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_notational_conventions">Notational Conventions</h3>
<div class="paragraph"><p>This manual employs the following font conventions:</p></div>
<div class="tableblock">
<table rules="none"
width="100%"
frame="void"
cellspacing="0" cellpadding="4">
<col width="33%" />
<col width="66%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>UPPERCASE COURIER</code></p></td>
<td align="left" valign="top"><p class="table">Used in the text for constant identifiers; for example, <code>USC_BadArgument</code>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>lowercase courier mixed with UpperCase courier</code></p></td>
<td align="left" valign="top"><p class="table">Code examples, function names, and data types; for example, <code>USC_Options</code>, <code>GetOutStreamSize</code>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><em>lowercase courier mixed with UpperCase courier italic</em></p></td>
<td align="left" valign="top"><p class="table">Parameters in function prototype and parameters description; for example, <em>options</em>.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_online_version">Online Version</h3>
<div class="paragraph"><p>This manual is available in an electronic format (Portable Document Format, or PDF).
To obtain a hard copy of the manual, print the file using the printing capability of the Adobe Acrobat* software,
used for the online presentation of the document.</p></div>
</div>
</div>
</div>
<h1 id="_unified_speech_component_interface_concepts">Unified Speech Component Interface Concepts</h1>
<div class="paragraph"><p>This chapter explains basic concepts of the Unified Speech Component (USC) interface and describes data structures that the interface uses.</p></div>
<div class="sect1">
<h2 id="_usc_algorithm_interface">USC Algorithm Interface</h2>
<div class="sectionbody">
<div class="paragraph"><p>The interface for each USC algorithm module is defined as a global table of functions, which is exposed by the USC library or object file.
The functions must be reentrant. The memory model of the USC interface is designed so that any USC algorithm can be implemented with no memory
allocation inside the algorithm.</p></div>
<div class="paragraph"><p>A USC algorithm is identified by a unique name no longer than 64 symbols. An application must link to a USC algorithm by
the function table name (See examples in <a href="#_appendix_a_code_examples">Appendix A</a>)</p></div>
<div class="paragraph"><p>Each USC algorithm</p></div>
<div class="ulist"><ul>
<li>
<p>
<em>Must</em> implement mandatory functions, or <em>USC base functions</em>.
</p>
</li>
<li>
<p>
<em>May</em> implement <em>algorithm-specific functions</em>.
</p>
</li>
</ul></div>
<div class="paragraph"><div class="title">Base functions</div><p>USC base functions, which each USC algorithm must implement, provide the following functionality.
The  <code><a href="#_numalloc">NumAlloc</a></code> and <code><a href="#_memalloc">MemAlloc</a></code> functions let an application know the algorithm memory requirements.
The algorithm specifies its memory usage by filling in a memory table with the block sizes required.
An application allocates memory blocks and passes the pointers to the <code><a href="#_init">Init</a></code> function, which initializes the memory for the
new algorithm instance.</p></div>
<div class="paragraph"><p>The <code><a href="#_reinit">Reinit</a></code> function can be used to reinitialize the memory for an existing algorithm instance.
Each algorithm instance requires its own memory allocation. The number of algorithm instances an application can create has no
other restrictions than the amount of available memory.</p></div>
<div class="paragraph"><p>The <code><a href="#_getinfo">GetInfo</a></code> function provides general information on the type of
algorithm or the current state of a given algorithm instance.</p></div>
<div class="paragraph"><p>The function <code><a href="#_getinfosize">GetInfoSize</a></code> returns the size of memory to allocate
for the parameter of the <code><a href="#_getinfo">GetInfo</a></code> function that holds the information.</p></div>
<div class="paragraph"><p>The <code><a href="#_control">Control</a></code> function enables modifying
the algorithm modes asynchronously.</p></div>
<div class="paragraph"><div class="title">Algorithm-specific functions</div><p>Functions inherent to algorithms of a particular type augment the base function list for algorithms of this type.</p></div>
<div class="paragraph"><p>For example,</p></div>
<div class="ulist"><ul>
<li>
<p>
A <em>USC speech codec</em> augments the base function list with four functions: the <code><a href="#_encode">Encode</a></code> and <code><a href="#_decode">Decode</a></code> functions perform the
main codec operations. The <code><a href="#_encode">Encode</a></code> function encodes one single input PCM frame and produces one single
bitstream frame of the corresponding length and type. The <code><a href="#_decode">Decode</a></code> function performs the operation inverse to the
one of <code><a href="#_encode">Encode</a></code>. The <code><a href="#_getoutstreamsize">GetOutStreamSize</a></code> function is used to get the maximum output buffer size required for a
given-size input buffer when encoding or decoding the stream. If a codec supports multiple frame sizes,
the <code><a href="#_setframesize">SetFrameSize</a></code> function can be used to set desired frame size.
</p>
</li>
<li>
<p>
A <em>USC echo canceller</em> has only one algorithm-specific function: <code><a href="#_cancelecho">CancelEcho</a></code>.
</p>
</li>
</ul></div>
</div>
</div>
<div class="sect1">
<h2 id="_structures_and_enumerators">Structures and Enumerators</h2>
<div class="sectionbody">
<div class="paragraph"><p>USC interface functions operate on base data types and <em>algorithm-specific</em> types.</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
Base Structures and Enumerators
</dt>
<dd>
<p>
Below are base structures used by the USC interface.
</p>
</dd>
</dl></div>
<div class="sect3">
<h4 id="_algorithm_types">Algorithm types</h4>
<div class="paragraph"><p>The <code><a href="#_usc_algtype">USC_AlgType</a></code> enumerator stores information on USC algorithm types:</p></div>
<div class="listingblock">
<a id="_usc_algtype"></a>
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #0000ff">typedef</span><span style="color: #000000"> </span><span style="color: #0000ff">enum</span><span style="color: #000000"> </span><span style="color: #000000">{</span>
<span style="color: #000000">   USC_Codec     </span><span style="color: #000000">=</span><span style="color: #000000"> </span><span style="color: #000000">0</span><span style="color: #000000">,</span>
<span style="color: #000000">   USC_EC        </span><span style="color: #000000">=</span><span style="color: #000000"> </span><span style="color: #000000">1</span><span style="color: #000000">,</span>
<span style="color: #000000">   USC_Filter    </span><span style="color: #000000">=</span><span style="color: #000000"> </span><span style="color: #000000">2</span><span style="color: #000000">,</span>
<span style="color: #000000">   USC_TD        </span><span style="color: #000000">=</span><span style="color: #000000"> </span><span style="color: #000000">3</span><span style="color: #000000">,</span>
<span style="color: #000000">   USC_FilterVAD </span><span style="color: #000000">=</span><span style="color: #000000"> </span><span style="color: #000000">4</span><span style="color: #000000">,</span>
<span style="color: #000000">   USC_T38       </span><span style="color: #000000">=</span><span style="color: #000000"> </span><span style="color: #000000">5</span><span style="color: #000000">,</span>
<span style="color: #000000">   USC_MAX_ALG   </span><span style="color: #000000">=</span><span style="color: #000000"> </span><span style="color: #000000">0xffff</span>
<span style="color: #000000">}</span><span style="color: #000000">USC_AlgType</span><span style="color: #000000">;</span></tt></pre></div></div>
<div class="tableblock">
<table rules="rows"
width="100%"
frame="hsides"
cellspacing="0" cellpadding="4">
<col width="25%" />
<col width="75%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>USC_Codec</code></p></td>
<td align="left" valign="top"><p class="table">Codec algorithm</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>USC_EC</code></p></td>
<td align="left" valign="top"><p class="table">Echo cancellation algorithm</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>USC_Filter</code></p></td>
<td align="left" valign="top"><p class="table">Speech signal filter algorithm</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>USC_TD</code></p></td>
<td align="left" valign="top"><p class="table">Tone detection and generation algorithm.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>USC_FilterVad</code></p></td>
<td align="left" valign="top"><p class="table">Voice activity detection (VAD) algorithm based on Signal Filter API.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>USC_T38</code></p></td>
<td align="left" valign="top"><p class="table">T38 Fax algorithm.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>USC_MAX_ALG</code></p></td>
<td align="left" valign="top"><p class="table">Predefined bound of USC algorithms numbering.</p></td>
</tr>
</tbody>
</table>
</div>
<hr />
</div>
<div class="sect3">
<h4 id="_pcm_types">PCM types</h4>
<div class="paragraph"><p>The <code>USC_PCMType</code> structure, for storing parameters of a PCM stream supported by a USC algorithm, is defined as</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #0000ff">typedef</span><span style="color: #000000"> </span><span style="color: #0000ff">struct</span><span style="color: #000000"> </span><span style="color: #000000">{</span>
<span style="color: #000000">    </span><span style="color: #0000ff">int</span><span style="color: #000000"> sample_frequency</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #0000ff">int</span><span style="color: #000000"> bitPerSample</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #0000ff">int</span><span style="color: #000000"> nChannels</span><span style="color: #000000">;</span>
<span style="color: #000000">}</span><span style="color: #000000"> USC_PCMType</span><span style="color: #000000">;</span></tt></pre></div></div>
<div class="paragraph"><p>where the meaning of the parameters is as follows:</p></div>
<div class="tableblock">
<table rules="none"
width="100%"
frame="void"
cellspacing="0" cellpadding="4">
<col width="25%" />
<col width="75%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>sample_frequency</code></p></td>
<td align="left" valign="top"><p class="table">The sample frequency in Hz: 8000, 16000, etc.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>bitPerSample</code></p></td>
<td align="left" valign="top"><p class="table">The number of bits per sample: 8, 16, etc.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>nChannels</code></p></td>
<td align="left" valign="top"><p class="table">The number of channels: 1 - mono, 2 - stereo.</p></td>
</tr>
</tbody>
</table>
</div>
<hr />
</div>
<div class="sect3">
<h4 id="_pcm_stream">PCM stream</h4>
<div class="paragraph"><p>The <code>USC_PCMStream</code> structure, for storing information on a specific PCM stream, is defined as</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #0000ff">typedef</span><span style="color: #000000"> </span><span style="color: #0000ff">struct</span><span style="color: #000000"> </span><span style="color: #000000">{</span>
<span style="color: #000000">    </span><span style="color: #0000ff">char</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">pBuffer</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #0000ff">int</span><span style="color: #000000">  nbytes</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #000000">USC_PCMType</span><span style="color: #000000">  pcmType</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #0000ff">int</span><span style="color: #000000">  bitrate</span><span style="color: #000000">;</span>
<span style="color: #000000">}</span><span style="color: #000000"> USC_PCMStream</span><span style="color: #000000">;</span></tt></pre></div></div>
<div class="paragraph"><p>where the meaning of the variables is as follows:</p></div>
<div class="tableblock">
<table rules="none"
width="100%"
frame="void"
cellspacing="0" cellpadding="4">
<col width="25%" />
<col width="75%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>pBuffer</code></p></td>
<td align="left" valign="top"><p class="table">Pointer to the PCM stream in memory</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>nbytes</code></p></td>
<td align="left" valign="top"><p class="table">PCM stream length in bytes</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>pcmType</code></p></td>
<td align="left" valign="top"><p class="table">PCM type</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>bitrate</code></p></td>
<td align="left" valign="top"><p class="table">Desirable compression rate in bps.</p></td>
</tr>
</tbody>
</table>
</div>
<hr />
</div>
<div class="sect3">
<h4 id="_usc_memory_types">USC memory types</h4>
<div class="paragraph"><p>The <code>USC_MemType</code> enumerator defines the USC memory types:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #0000ff">typedef</span><span style="color: #000000"> </span><span style="color: #0000ff">enum</span><span style="color: #000000"> </span><span style="color: #000000">{</span>
<span style="color: #000000">   USC_OBJECT       </span><span style="color: #000000">=</span><span style="color: #000000"> </span><span style="color: #000000">0</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #008000">/* persistent memory             */</span>
<span style="color: #000000">   USC_BUFFER       </span><span style="color: #000000">=</span><span style="color: #000000"> </span><span style="color: #000000">1</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #008000">/* scratch memory                */</span>
<span style="color: #000000">   USC_CONST        </span><span style="color: #000000">=</span><span style="color: #000000"> </span><span style="color: #000000">2</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #008000">/* memory for tables, constants  */</span>
<span style="color: #000000">   USC_MAX_MEM_TYPES     </span><span style="color: #008000">/* Number of memory types        */</span>
<span style="color: #000000">}</span><span style="color: #000000"> USC_MemType</span><span style="color: #000000">;</span></tt></pre></div></div>
<hr />
</div>
<div class="sect3">
<h4 id="_usc_memory_space_types">USC memory space types</h4>
<div class="paragraph"><p>The <code>USC_MemSpaceType</code> enumerator defines the memory space types:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #0000ff">typedef</span><span style="color: #000000"> </span><span style="color: #0000ff">enum</span><span style="color: #000000"> </span><span style="color: #000000">{</span>
<span style="color: #000000">   USC_NORMAL    </span><span style="color: #000000">=</span><span style="color: #000000"> </span><span style="color: #000000">0</span><span style="color: #000000">,</span><span style="color: #000000">   </span><span style="color: #008000">/* normal memory space          */</span>
<span style="color: #000000">   USC_MEM_CHIP  </span><span style="color: #000000">=</span><span style="color: #000000"> </span><span style="color: #000000">1</span><span style="color: #000000">,</span><span style="color: #000000">   </span><span style="color: #008000">/* high speed memory            */</span>
<span style="color: #000000">   USC_MAX_SPACE        </span><span style="color: #008000">/* Number of memory space types */</span>
<span style="color: #000000">}</span><span style="color: #000000">USC_MemSpaceType</span><span style="color: #000000">;</span></tt></pre></div></div>
<hr />
</div>
<div class="sect3">
<h4 id="_usc_memory_bank">USC memory bank</h4>
<div class="paragraph"><p>The <code>USC_MemBank</code> structure, for storing memory buffer parameters, is defined as</p></div>
<div class="listingblock">
<a id="_usc_membank"></a>
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #0000ff">typedef</span><span style="color: #000000"> </span><span style="color: #0000ff">struct</span><span style="color: #000000"> </span><span style="color: #000000">{</span>
<span style="color: #000000">    </span><span style="color: #0000ff">char</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">pMem</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #0000ff">int</span><span style="color: #000000"> nbytes</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #0000ff">int</span><span style="color: #000000"> align</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #000000">USC_MemType</span><span style="color: #000000"> memType</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #000000">USC_MemSpaceType</span><span style="color: #000000"> memSpaceType</span><span style="color: #000000">;</span>
<span style="color: #000000">}</span><span style="color: #000000"> USC_MemBank</span><span style="color: #000000">;</span></tt></pre></div></div>
<div class="paragraph"><p>where the meaning of the parameters is as follows:</p></div>
<div class="tableblock">
<table rules="none"
width="100%"
frame="void"
cellspacing="0" cellpadding="4">
<col width="25%" />
<col width="75%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>pMem</code></p></td>
<td align="left" valign="top"><p class="table">Pointer to the buffer</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>nbytes</code></p></td>
<td align="left" valign="top"><p class="table">Buffer size in bytes</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>align</code></p></td>
<td align="left" valign="top"><p class="table">Number of bytes to align memory to, for example, 16 to align to paragraph; 0 - do not care for alignment</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>memType</code></p></td>
<td align="left" valign="top"><p class="table">Memory type</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>memSpaceType</code></p></td>
<td align="left" valign="top"><p class="table">Memory space type, normal for PC</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_codec_structures_and_enumerators">Codec Structures and Enumerators</h3>
<div class="paragraph"><p>This section presents structures used exclusively in USC Codec API.</p></div>
<hr />
<div class="sect3">
<h4 id="_codec_direction_types">Codec direction types</h4>
<div class="paragraph"><p>The USC_Direction enumerator stores information on possible direction types of a codec operation:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #0000ff">typedef</span><span style="color: #000000"> </span><span style="color: #0000ff">enum</span><span style="color: #000000"> </span><span style="color: #000000">{</span>
<span style="color: #000000">   USC_ENCODE </span><span style="color: #000000">=</span><span style="color: #000000"> </span><span style="color: #000000">0</span><span style="color: #000000">,</span><span style="color: #000000">          </span><span style="color: #008000">/* Encoder                   */</span>
<span style="color: #000000">   USC_DECODE </span><span style="color: #000000">=</span><span style="color: #000000"> </span><span style="color: #000000">1</span><span style="color: #000000">,</span><span style="color: #000000">          </span><span style="color: #008000">/* Decoder                   */</span>
<span style="color: #000000">   USC_DUPLEX </span><span style="color: #000000">=</span><span style="color: #000000"> </span><span style="color: #000000">2</span><span style="color: #000000">,</span><span style="color: #000000">          </span><span style="color: #008000">/* Both                      */</span>
<span style="color: #000000">   USC_MAX_DIRECTION_TYPES  </span><span style="color: #008000">/* Number of direction types */</span>
<span style="color: #000000">}</span><span style="color: #000000"> USC_Direction</span><span style="color: #000000">;</span></tt></pre></div></div>
<hr />
</div>
<div class="sect3">
<h4 id="_codec_output_modes">Codec output modes</h4>
<div class="paragraph"><p>The <code>USC_OutputMode</code> enumerator stores information on codec output modes:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #0000ff">typedef</span><span style="color: #000000"> </span><span style="color: #0000ff">enum</span><span style="color: #000000">  </span><span style="color: #000000">{</span>
<span style="color: #000000">    USC_OUT_NO_CONTROL     </span><span style="color: #000000">=</span><span style="color: #000000">0</span><span style="color: #000000">,</span>
<span style="color: #000000">    USC_OUT_MONO           </span><span style="color: #000000">=</span><span style="color: #000000">1</span><span style="color: #000000">,</span>
<span style="color: #000000">    USC_OUT_STEREO         </span><span style="color: #000000">=</span><span style="color: #000000">2</span><span style="color: #000000">,</span>
<span style="color: #000000">    USC_OUT_COMPATIBLE     </span><span style="color: #000000">=</span><span style="color: #000000">3</span><span style="color: #000000">,</span>
<span style="color: #000000">    USC_OUT_DELAY          </span><span style="color: #000000">=</span><span style="color: #000000">4</span><span style="color: #000000">,</span>
<span style="color: #000000">    USC_MAX_OUTPUT_MODES</span>
<span style="color: #000000">}</span><span style="color: #000000"> USC_OutputMode</span><span style="color: #000000">;</span></tt></pre></div></div>
<div class="tableblock">
<table rules="none"
width="100%"
frame="void"
cellspacing="0" cellpadding="4">
<col width="25%" />
<col width="75%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>USC_OUT_NO_CONTROL</code></p></td>
<td align="left" valign="top"><p class="table">Default PCM mode</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>USC_OUT_MONO</code></p></td>
<td align="left" valign="top"><p class="table">Mono PCM output</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>USC_OUT_STEREO</code></p></td>
<td align="left" valign="top"><p class="table">Stereo PCM output</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>USC_OUT_COMPATIBLE</code></p></td>
<td align="left" valign="top"><p class="table">Compatibility mode</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>USC_OUT_DELAY</code></p></td>
<td align="left" valign="top"><p class="table">Delayed output</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>USC_MAX_OUTPUT_MODES</code></p></td>
<td align="left" valign="top"><p class="table">The number of codec output modes</p></td>
</tr>
</tbody>
</table>
</div>
<hr />
</div>
<div class="sect3">
<h4 id="_codec_modes">Codec modes</h4>
<div class="paragraph"><p>The <code>USC_Modes</code> structure, used for storing information on the modes supported by a codec, is defined as</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #0000ff">typedef</span><span style="color: #000000"> </span><span style="color: #0000ff">struct</span><span style="color: #000000"> </span><span style="color: #000000">{</span>
<span style="color: #000000">    </span><span style="color: #0000ff">int</span><span style="color: #000000"> bitrate</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #0000ff">int</span><span style="color: #000000"> truncate</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #0000ff">int</span><span style="color: #000000"> vad</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #0000ff">int</span><span style="color: #000000"> hpf</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #0000ff">int</span><span style="color: #000000"> pf</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #000000">USC_OutputMode</span><span style="color: #000000"> outMode</span><span style="color: #000000">;</span>
<span style="color: #000000">}</span><span style="color: #000000"> USC_Modes</span><span style="color: #000000">;</span></tt></pre></div></div>
<div class="paragraph"><p>where the meaning of the variables is as follows:</p></div>
<div class="tableblock">
<table rules="none"
width="100%"
frame="void"
cellspacing="0" cellpadding="4">
<col width="25%" />
<col width="75%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>bitrate</code></p></td>
<td align="left" valign="top"><p class="table">Compression rate in bit per second (bps)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>truncate</code></p></td>
<td align="left" valign="top"><p class="table">If set to 1, indicates truncation of an input or output PCM to less than 16 bits.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>vad</code></p></td>
<td align="left" valign="top"><p class="table">Voice activity detection modes supported by the codec;<br />
if set to zero, VAD mode is disabled.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>hpf</code></p></td>
<td align="left" valign="top"><p class="table">If set to 1, indicates that high-pass filter is on. pf If set to 1, indicates that postfilter is on. outMode Codec output mode.</p></td>
</tr>
</tbody>
</table>
</div>
<hr />
</div>
<div class="sect3">
<h4 id="_bit_rates">Bit rates</h4>
<div class="paragraph"><p>The <code>USC_Rates structure</code>, used as an entry in the table of supported compression rates, is defined as</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #0000ff">typedef</span><span style="color: #000000"> </span><span style="color: #0000ff">struct</span><span style="color: #000000"> </span><span style="color: #000000">{</span>
<span style="color: #000000">    </span><span style="color: #0000ff">int</span><span style="color: #000000"> bitrate</span><span style="color: #000000">;</span>
<span style="color: #000000">}</span><span style="color: #000000"> USC_Rates</span><span style="color: #000000">;</span></tt></pre></div></div>
<div class="paragraph"><p>where <code>bitrate</code> is the compression rate in bit per second (bps).</p></div>
<hr />
</div>
<div class="sect3">
<h4 id="_codec_options">Codec options</h4>
<div class="paragraph"><p>The <code>USC_Option</code> structure, for storing codec options, that is, combinations of basic and additional modes of codec operation, is defined as</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #0000ff">typedef</span><span style="color: #000000"> </span><span style="color: #0000ff">struct</span><span style="color: #000000"> </span><span style="color: #000000">{</span>
<span style="color: #000000">    </span><span style="color: #000000">USC_Direction</span><span style="color: #000000"> direction</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #0000ff">int</span><span style="color: #000000"> law</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #0000ff">int</span><span style="color: #000000"> framesize</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #000000">USC_PCMType</span><span style="color: #000000"> pcmType</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #0000ff">int</span><span style="color: #000000"> nModes</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #000000">USC_Modes</span><span style="color: #000000"> modes</span><span style="color: #000000">;</span>
<span style="color: #000000">}</span><span style="color: #000000"> USC_Option</span><span style="color: #000000">;</span></tt></pre></div></div>
<div class="paragraph"><p>where the meaning of variables is as follows:</p></div>
<div class="tableblock">
<table rules="none"
width="100%"
frame="void"
cellspacing="0" cellpadding="4">
<col width="25%" />
<col width="75%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>direction</code></p></td>
<td align="left" valign="top"><p class="table">Direction(s) of the codec operation.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>law</code></p></td>
<td align="left" valign="top"><p class="table">For a PCM used as input to encode or output after decode, indicates the law to which the PCM conforms: 1- aLaw, 2 - ulaw, 0 - linear.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>framesize</code></p></td>
<td align="left" valign="top"><p class="table">Size of a codec frame in bytes, that is, the amount of PCM data (in bytes) that can be encoded by the  <code><a href="#_encode">Encode</a></code> function.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>pcmType</code></p></td>
<td align="left" valign="top"><p class="table">PCM type supported by the codec.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>nModes</code></p></td>
<td align="left" valign="top"><p class="table">The number of modes (should be equal to sizeof(USC_Modes)/sizeof(int)).</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>modes</code></p></td>
<td align="left" valign="top"><p class="table">Codec basic mode.</p></td>
</tr>
</tbody>
</table>
</div>
<hr />
</div>
<div class="sect3">
<h4 id="_codec_general_information">Codec general information</h4>
<div class="paragraph"><p>The <code>USC_CodecInfo structure</code>, for storing USC codec general information, is defined as</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #0000ff">typedef</span><span style="color: #000000"> </span><span style="color: #0000ff">struct</span><span style="color: #000000"> </span><span style="color: #000000">{</span>
<span style="color: #000000">    </span><span style="color: #0000ff">const</span><span style="color: #000000"> </span><span style="color: #0000ff">char</span><span style="color: #000000">      </span><span style="color: #000000">*</span><span style="color: #000000">name</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #0000ff">int</span><span style="color: #000000">              maxbitsize</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #0000ff">int</span><span style="color: #000000">              nPcmTypes</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #000000">USC_PCMType</span><span style="color: #000000">     </span><span style="color: #000000">*</span><span style="color: #000000">pPcmTypesTbl</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #0000ff">int</span><span style="color: #000000">              nRates</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #0000ff">const</span><span style="color: #000000"> </span><span style="color: #000000">USC_Rates</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">pRateTbl</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #000000">USC_Option</span><span style="color: #000000">       params</span><span style="color: #000000">;</span>
<span style="color: #000000">}</span><span style="color: #000000"> USC_CodecInfo</span><span style="color: #000000">;</span></tt></pre></div></div>
<div class="paragraph"><p>The structure encapsulates the entire set of codec-specific parameters:</p></div>
<div class="tableblock">
<table rules="none"
width="100%"
frame="void"
cellspacing="0" cellpadding="4">
<col width="25%" />
<col width="75%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>name</code></p></td>
<td align="left" valign="top"><p class="table">Codec name, must be not longer than 64 symbols.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>maxbitsize</code></p></td>
<td align="left" valign="top"><p class="table">Longest bitstream frame that can be obtained by encoding of one input PCM frame.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>nPcmTypes</code></p></td>
<td align="left" valign="top"><p class="table">The number of PCM types supported.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>pPcmTypesTbl</code></p></td>
<td align="left" valign="top"><p class="table">Supported PCM types lookup table.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>nRates</code></p></td>
<td align="left" valign="top"><p class="table">The number of different compression rates supported by the codec (number of entries in pRateTbl).</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>pRateTbl</code></p></td>
<td align="left" valign="top"><p class="table">Table of supported compression rates.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>params</code></p></td>
<td align="left" valign="top"><p class="table">Options supported by the codec type or the current options of an instance.</p></td>
</tr>
</tbody>
</table>
</div>
<hr />
</div>
<div class="sect3">
<h4 id="_bit_stream">Bit stream</h4>
<div class="paragraph"><p>The <code>USC_Bitstream</code> structure, for storing parameters of a bit stream produced by the codec, is defined as</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #0000ff">typedef</span><span style="color: #000000"> </span><span style="color: #0000ff">struct</span><span style="color: #000000"> </span><span style="color: #000000">{</span>
<span style="color: #000000">    </span><span style="color: #0000ff">char</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">pBuffer</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #0000ff">int</span><span style="color: #000000">   nbytes</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #0000ff">int</span><span style="color: #000000">   frametype</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #0000ff">int</span><span style="color: #000000">   bitrate</span><span style="color: #000000">;</span>
<span style="color: #000000">}</span><span style="color: #000000">USC_Bitstream</span><span style="color: #000000">;</span></tt></pre></div></div>
<div class="paragraph"><p>where the meaning of the parameters is as follows:</p></div>
<div class="tableblock">
<table rules="none"
width="100%"
frame="void"
cellspacing="0" cellpadding="4">
<col width="25%" />
<col width="75%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>pBuffer</code></p></td>
<td align="left" valign="top"><p class="table">Pointer to the buffer containing bitstream data.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>nbytes</code></p></td>
<td align="left" valign="top"><p class="table">Bitstream length in bytes.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>frametype</code></p></td>
<td align="left" valign="top"><p class="table">Type of bitstream frame, codec-specific.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>bitrate</code></p></td>
<td align="left" valign="top"><p class="table">Bitstream compression rate in bit per second (bps).</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_echo_canceller_structures_and_enumerators">Echo Canceller Structures and Enumerators</h3>
<div class="paragraph"><p>This section presents structures used exclusively in USC Echo Canceller (EC) API.</p></div>
<hr />
<div class="sect3">
<h4 id="_ec_algorithm_types">EC algorithm types</h4>
<div class="paragraph"><p>The <code>USC_EC_Algs</code> enumerator defines EC algorithm types:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #0000ff">typedef</span><span style="color: #000000"> </span><span style="color: #0000ff">enum</span><span style="color: #000000"> </span><span style="color: #000000">{</span>
<span style="color: #000000">   EC_SUBBAND     </span><span style="color: #000000">=</span><span style="color: #000000"> </span><span style="color: #000000">0</span><span style="color: #000000">,</span>
<span style="color: #000000">   EC_FULLBAND    </span><span style="color: #000000">=</span><span style="color: #000000"> </span><span style="color: #000000">1</span><span style="color: #000000">,</span>
<span style="color: #000000">   EC_FASTSUBBAND </span><span style="color: #000000">=</span><span style="color: #000000"> </span><span style="color: #000000">2</span>
<span style="color: #000000">}</span><span style="color: #000000"> USC_EC_Algs</span><span style="color: #000000">;</span></tt></pre></div></div>
<div class="tableblock">
<table rules="none"
width="100%"
frame="void"
cellspacing="0" cellpadding="4">
<col width="25%" />
<col width="75%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>EC_SUBBAND</code></p></td>
<td align="left" valign="top"><p class="table">Subband.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>EC_FULLBAND</code></p></td>
<td align="left" valign="top"><p class="table">Full band.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>EC_FASTSUBBAND</code></p></td>
<td align="left" valign="top"><p class="table">Fast subband.</p></td>
</tr>
</tbody>
</table>
</div>
<hr />
</div>
<div class="sect3">
<h4 id="_ec_adaptation_types">EC adaptation types</h4>
<div class="paragraph"><p>The <code>USC_AdaptType</code> enumerator defines EC adaptation types:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #0000ff">typedef</span><span style="color: #000000"> </span><span style="color: #0000ff">enum</span><span style="color: #000000"> </span><span style="color: #000000">{</span>
<span style="color: #000000">    AD_OFF </span><span style="color: #000000">=</span><span style="color: #000000"> </span><span style="color: #000000">0</span><span style="color: #000000">,</span><span style="color: #000000">       </span><span style="color: #008000">/* no adaptation*/</span>
<span style="color: #000000">    AD_FULLADAPT </span><span style="color: #000000">=</span><span style="color: #000000"> </span><span style="color: #000000">1</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #008000">/* full adaptation */</span>
<span style="color: #000000">    AD_LITEADAPT </span><span style="color: #000000">=</span><span style="color: #000000"> </span><span style="color: #000000">2</span><span style="color: #000000">  </span><span style="color: #008000">/* lite adaptation*/</span>
<span style="color: #000000">}</span><span style="color: #000000"> USC_AdaptType</span><span style="color: #000000">;</span></tt></pre></div></div>
<hr />
</div>
<div class="sect3">
<h4 id="_ec_modes">EC modes</h4>
<div class="paragraph"><p>The <code>USC_EC_Modes</code> structure, for storing modes supported by an echo canceller, is defined as</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #0000ff">typedef</span><span style="color: #000000"> </span><span style="color: #0000ff">struct</span><span style="color: #000000"> </span><span style="color: #000000">{</span>
<span style="color: #000000">    </span><span style="color: #000000">USC_AdaptType</span><span style="color: #000000"> adapt</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #0000ff">int</span><span style="color: #000000"> zeroCoeff</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #0000ff">int</span><span style="color: #000000"> cng</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #0000ff">int</span><span style="color: #000000"> nlp</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #0000ff">int</span><span style="color: #000000"> td</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #0000ff">int</span><span style="color: #000000"> ah</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #0000ff">int</span><span style="color: #000000"> ap</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #0000ff">int</span><span style="color: #000000"> nr</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #0000ff">int</span><span style="color: #000000"> nr_smooth</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #0000ff">int</span><span style="color: #000000"> dcFlag</span><span style="color: #000000">;</span>
<span style="color: #000000">}</span><span style="color: #000000"> USC_EC_Modes</span><span style="color: #000000">;</span></tt></pre></div></div>
<div class="paragraph"><p>where the meaning of the variables is as follows:</p></div>
<div class="tableblock">
<table rules="none"
width="100%"
frame="void"
cellspacing="0" cellpadding="4">
<col width="20%" />
<col width="80%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>adapt</code></p></td>
<td align="left" valign="top"><p class="table">Type of the adaptation.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>zeroCoeff</code></p></td>
<td align="left" valign="top"><p class="table">The use of zero filter&#8217;s coefficient:<br />
            0 - disable,<br />
            1 - enable.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>cng</code></p></td>
<td align="left" valign="top"><p class="table">The use of comfort noise generation (CNG):<br />
            0 - disable CNG,<br />
            1 - enable general-type CNG,<br />
            2 - enable SBF algorithm-specific CNG.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>nlp</code></p></td>
<td align="left" valign="top"><p class="table">The use of non-linear processor (NLP):<br />
            0 - disable NLP,<br />
            1 - enable general-type NLP,<br />
            2 - enable subband fast (SBF) algorithm-specific NLP,<br />
            3 - general NLP with initial howling suppressor, SBF only.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>td</code></p></td>
<td align="left" valign="top"><p class="table">The use of tone disabler (TD):<br />
            0 - disable,<br />
            1 - enable.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>ah</code></p></td>
<td align="left" valign="top"><p class="table">The use of anti-howling (AH):<br />
            0 - disable,<br />
            1 - use cosine frequency shifting up for anti-howling.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>ap</code></p></td>
<td align="left" valign="top"><p class="table">Order of the affine projection to be used. May have any positive integer value. 1 and 4 are recommended values.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>nr</code></p></td>
<td align="left" valign="top"><p class="table">Noise reduction (NR) level:<br />
            0 - without NR,<br />
            1- Low NR,<br />
            2- Medium NR,<br />
            3- Normal NR,<br />
            4- High NR, default,<br />
            5- Auto NR. Basically, the bigger number the higher level of NR.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>nr_smooth</code></p></td>
<td align="left" valign="top"><p class="table">NR smoothing mode:<br />
            0 - no smoothing filter after NR,<br />
            1 - static smoothing,<br />
            2 - dynamic smoothing.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>dcFlag</code></p></td>
<td align="left" valign="top"><p class="table">Direct current (DC) offset compensation flag:<br />
            0 - DC offset is not compensated,<br />
            1 - DC offset is compensated.</p></td>
</tr>
</tbody>
</table>
</div>
<hr />
</div>
<div class="sect3">
<h4 id="_ec_options">EC options</h4>
<div class="paragraph"><p>The <code>USC_EC_Option</code> structure, for storing EC options, that is, combinations of EC
operation modes, is defined as</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #0000ff">typedef</span><span style="color: #000000"> </span><span style="color: #0000ff">struct</span><span style="color: #000000"> </span><span style="color: #000000">{</span>
<span style="color: #000000">    </span><span style="color: #000000">USC_EC_Algs</span><span style="color: #000000">  algType</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #000000">USC_PCMType</span><span style="color: #000000">  pcmType</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #0000ff">int</span><span style="color: #000000">          echotail</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #0000ff">int</span><span style="color: #000000">          framesize</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #0000ff">int</span><span style="color: #000000">          nModes</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #000000">USC_EC_Modes</span><span style="color: #000000"> modes</span><span style="color: #000000">;</span>
<span style="color: #000000">}</span><span style="color: #000000"> USC_EC_Option</span><span style="color: #000000">;</span></tt></pre></div></div>
<div class="paragraph"><p>where the meanings of the variables is as follows:</p></div>
<div class="tableblock">
<table rules="none"
width="100%"
frame="void"
cellspacing="0" cellpadding="4">
<col width="20%" />
<col width="80%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>algType</code></p></td>
<td align="left" valign="top"><p class="table">Type of the EC algorithm</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>pcmType</code></p></td>
<td align="left" valign="top"><p class="table">Supported PCM type.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>nModes</code></p></td>
<td align="left" valign="top"><p class="table">Number of modes (should be equal to <code>sizeof(USC_EC_Modes)/sizeof(int))</code>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>echotail</code></p></td>
<td align="left" valign="top"><p class="table">Maximal echo tail length supported, in ms.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>framesize</code></p></td>
<td align="left" valign="top"><p class="table">EC frame size.</p></td>
</tr>
</tbody>
</table>
</div>
<hr />
</div>
<div class="sect3">
<h4 id="_ec_general_information">EC general information</h4>
<div class="paragraph"><p>The <code>USC_EC_Info structure</code>, encapsulating the entire set of EC-specific parameters, is defined as</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #0000ff">typedef</span><span style="color: #000000"> </span><span style="color: #0000ff">struct</span><span style="color: #000000"> </span><span style="color: #000000">{</span>
<span style="color: #000000">    </span><span style="color: #0000ff">const</span><span style="color: #000000"> </span><span style="color: #0000ff">char</span><span style="color: #000000">   </span><span style="color: #000000">*</span><span style="color: #000000">name</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #0000ff">int</span><span style="color: #000000">           nPcmTypes</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #000000">USC_PCMType</span><span style="color: #000000">  </span><span style="color: #000000">*</span><span style="color: #000000">pPcmTypesTbl</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #000000">USC_EC_Option</span><span style="color: #000000"> params</span><span style="color: #000000">;</span>
<span style="color: #000000">}</span><span style="color: #000000"> USC_EC_Info</span><span style="color: #000000">;</span></tt></pre></div></div>
<div class="paragraph"><p>where the meaning of the variables is as follows:</p></div>
<div class="tableblock">
<table rules="none"
width="100%"
frame="void"
cellspacing="0" cellpadding="4">
<col width="20%" />
<col width="80%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>name</code></p></td>
<td align="left" valign="top"><p class="table">EC name, must be not longer than 64 symbols.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>nPcmTypes</code></p></td>
<td align="left" valign="top"><p class="table">The number of supported PCM types.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>pPcmTypesTbl</code></p></td>
<td align="left" valign="top"><p class="table">Supported PCM type lookup table.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>params</code></p></td>
<td align="left" valign="top"><p class="table">Options supported by the EC type or the current options of an instance.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_signal_filter_structures_and_enumerators">Signal Filter Structures and Enumerators</h3>
<div class="paragraph"><p>This section presents structures used exclusively in USC Signal Filter API.</p></div>
<hr />
<div class="sect3">
<h4 id="_frame_type">Frame Type</h4>
<div class="paragraph"><p>The <code>USC_FrameType</code> enumerator defines types of a signal filter frame:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #0000ff">typedef</span><span style="color: #000000"> </span><span style="color: #0000ff">enum</span>
<span style="color: #000000">{</span>
<span style="color: #000000">    NODECISION    </span><span style="color: #000000">=</span><span style="color: #000000"> </span><span style="color: #000000">-</span><span style="color: #000000">1</span><span style="color: #000000">,</span>
<span style="color: #000000">    ACTIVE        </span><span style="color: #000000">=</span><span style="color: #000000"> </span><span style="color: #000000">0</span><span style="color: #000000">,</span>
<span style="color: #000000">    INACTIVE      </span><span style="color: #000000">=</span><span style="color: #000000"> </span><span style="color: #000000">1</span><span style="color: #000000">,</span>
<span style="color: #000000">    END_OF_STREAM </span><span style="color: #000000">=</span><span style="color: #000000"> </span><span style="color: #000000">2</span>
<span style="color: #000000">}</span><span style="color: #000000"> USC_FrameType</span><span style="color: #000000">;</span></tt></pre></div></div>
<div class="tableblock">
<table rules="none"
width="100%"
frame="void"
cellspacing="0" cellpadding="4">
<col width="25%" />
<col width="75%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>NODECISION</code></p></td>
<td align="left" valign="top"><p class="table">Frame cannot be classified.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>ACTIVE</code></p></td>
<td align="left" valign="top"><p class="table">Frame contains active voice.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>INACTIVE</code></p></td>
<td align="left" valign="top"><p class="table">Frame does not contain active voice.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>END_OF_STREAM</code></p></td>
<td align="left" valign="top"><p class="table">Last frame in the stream.</p></td>
</tr>
</tbody>
</table>
</div>
<hr />
</div>
<div class="sect3">
<h4 id="_filter_modes">Filter modes</h4>
<div class="paragraph"><p>The <code>USC_FilterModes</code> structure, for storing modes supported by a USC filter, is defined as</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #0000ff">typedef</span><span style="color: #000000"> </span><span style="color: #0000ff">struct</span><span style="color: #000000"> </span><span style="color: #000000">{</span>
<span style="color: #000000">    </span><span style="color: #0000ff">int</span><span style="color: #000000"> vad</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #0000ff">int</span><span style="color: #000000"> reserved2</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #0000ff">int</span><span style="color: #000000"> reserved3</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #0000ff">int</span><span style="color: #000000"> reserved4</span><span style="color: #000000">;</span>
<span style="color: #000000">}</span><span style="color: #000000"> USC_FilterModes</span><span style="color: #000000">;</span></tt></pre></div></div>
<div class="paragraph"><p>where the meaning of the variable <code>vad</code> is as follows:</p></div>
<div class="tableblock">
<table rules="none"
width="100%"
frame="void"
cellspacing="0" cellpadding="4">
<col width="16%" />
<col width="83%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>vad</code></p></td>
<td align="left" valign="top"><p class="table">The number of voice activity detection modes supported by the signal filter algorithm; if set to zero, VAD is not supported by the filter.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>All of the other variables are reserved for future use.</p></div>
<hr />
</div>
<div class="sect3">
<h4 id="_filter_options">Filter options</h4>
<div class="paragraph"><p>The <code>USC_FilterOption</code> structure for storing filter options, that is, combinations of basic and additional modes of filter operation, is defined as</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #0000ff">typedef</span><span style="color: #000000"> </span><span style="color: #0000ff">struct</span><span style="color: #000000"> </span><span style="color: #000000">{</span>
<span style="color: #000000">    </span><span style="color: #0000ff">int</span><span style="color: #000000">             minframesize</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #0000ff">int</span><span style="color: #000000">             framesize</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #0000ff">int</span><span style="color: #000000">             maxframesize</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #000000">USC_PCMType</span><span style="color: #000000">     pcmType</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #000000">USC_FilterModes</span><span style="color: #000000"> modes</span><span style="color: #000000">;</span>
<span style="color: #000000">}</span><span style="color: #000000"> USC_FilterOption</span><span style="color: #000000">;</span></tt></pre></div></div>
<div class="paragraph"><p>where the meaning of the variables is as follows:</p></div>
<div class="tableblock">
<table rules="none"
width="100%"
frame="void"
cellspacing="0" cellpadding="4">
<col width="25%" />
<col width="75%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>minframesize</code></p></td>
<td align="left" valign="top"><p class="table">Minimum filter frame size in bytes.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>framesize</code></p></td>
<td align="left" valign="top"><p class="table">Optimum filter frame size in bytes.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>maxframesize</code></p></td>
<td align="left" valign="top"><p class="table">Maximum filter frame size in bytes.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>pcmType</code></p></td>
<td align="left" valign="top"><p class="table">PCM type supported by the filter.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>modes</code></p></td>
<td align="left" valign="top"><p class="table">Filter modes.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>Note that the <code>framesize</code> value must be in the interval <code>[minframesize, maxframesize]</code>.</p></div>
<hr />
</div>
<div class="sect3">
<h4 id="_filter_general_information">Filter general information</h4>
<div class="paragraph"><p>The <code>USC_FilterInfo</code> structure, encapsulating the entire set of filter-specific parameters, is defined as</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #0000ff">typedef</span><span style="color: #000000"> </span><span style="color: #0000ff">struct</span><span style="color: #000000"> </span><span style="color: #000000">{</span>
<span style="color: #000000">    </span><span style="color: #0000ff">const</span><span style="color: #000000"> </span><span style="color: #0000ff">char</span><span style="color: #000000">      </span><span style="color: #000000">*</span><span style="color: #000000">name</span>
<span style="color: #000000">    </span><span style="color: #0000ff">int</span><span style="color: #000000">              nOptions</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #000000">USC_FilterOption</span><span style="color: #000000"> params</span><span style="color: #000000">[</span><span style="color: #000000">1</span><span style="color: #000000">];</span>
<span style="color: #000000">}</span><span style="color: #000000"> USC_FilterInfo</span><span style="color: #000000">;</span></tt></pre></div></div>
<div class="paragraph"><p>where the meaning of the variables is as follows:</p></div>
<div class="tableblock">
<table rules="none"
width="100%"
frame="void"
cellspacing="0" cellpadding="4">
<col width="25%" />
<col width="75%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>name</code></p></td>
<td align="left" valign="top"><p class="table">Filter name, must be not longer than 64 symbols</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>nOptions</code></p></td>
<td align="left" valign="top"><p class="table">The number of options supported by the filter</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>params</code></p></td>
<td align="left" valign="top"><p class="table">Array of options supported by the filter. Has length <code>nOptions</code>.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_tone_detector_structures_and_enumerators">Tone Detector Structures and Enumerators</h3>
<div class="paragraph"><p>This section presents structures used exclusively in USC Tone Detector (TD) API.</p></div>
<hr />
<div class="sect3">
<h4 id="_supported_tones">Supported tones</h4>
<div class="paragraph"><p>The enumerator <code>USC_ToneID</code> defines IDs of tones supported by a USC TD:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #0000ff">typedef</span><span style="color: #000000"> </span><span style="color: #0000ff">enum</span><span style="color: #000000"> </span><span style="color: #000000">{</span>
<span style="color: #000000">   USC_NoTone          </span><span style="color: #000000">=</span><span style="color: #000000"> </span><span style="color: #000000">-</span><span style="color: #000000">1</span><span style="color: #000000">,</span>
<span style="color: #000000">   USC_Tone_0          </span><span style="color: #000000">=</span><span style="color: #000000">  </span><span style="color: #000000">0</span><span style="color: #000000">,</span><span style="color: #000000">  </span><span style="color: #008000">/*  941 Hz + 1336 Hz */</span>
<span style="color: #000000">   USC_Tone_1          </span><span style="color: #000000">=</span><span style="color: #000000">  </span><span style="color: #000000">1</span><span style="color: #000000">,</span><span style="color: #000000">  </span><span style="color: #008000">/*  697 Hz + 1209 Hz */</span>
<span style="color: #000000">   USC_Tone_2          </span><span style="color: #000000">=</span><span style="color: #000000">  </span><span style="color: #000000">2</span><span style="color: #000000">,</span><span style="color: #000000">  </span><span style="color: #008000">/*  697 Hz + 1336 Hz */</span>
<span style="color: #000000">   USC_Tone_3          </span><span style="color: #000000">=</span><span style="color: #000000">  </span><span style="color: #000000">3</span><span style="color: #000000">,</span><span style="color: #000000">  </span><span style="color: #008000">/*  697 Hz + 1477 Hz */</span>
<span style="color: #000000">   USC_Tone_4          </span><span style="color: #000000">=</span><span style="color: #000000">  </span><span style="color: #000000">4</span><span style="color: #000000">,</span><span style="color: #000000">  </span><span style="color: #008000">/*  770 Hz + 1209 Hz */</span>
<span style="color: #000000">   USC_Tone_5          </span><span style="color: #000000">=</span><span style="color: #000000">  </span><span style="color: #000000">5</span><span style="color: #000000">,</span><span style="color: #000000">  </span><span style="color: #008000">/*  770 Hz + 1336 Hz */</span>
<span style="color: #000000">   USC_Tone_6          </span><span style="color: #000000">=</span><span style="color: #000000">  </span><span style="color: #000000">6</span><span style="color: #000000">,</span><span style="color: #000000">  </span><span style="color: #008000">/*  770 Hz + 1477 Hz */</span>
<span style="color: #000000">   USC_Tone_7          </span><span style="color: #000000">=</span><span style="color: #000000">  </span><span style="color: #000000">7</span><span style="color: #000000">,</span><span style="color: #000000">  </span><span style="color: #008000">/*  852 Hz + 1209 Hz */</span>
<span style="color: #000000">   USC_Tone_8          </span><span style="color: #000000">=</span><span style="color: #000000">  </span><span style="color: #000000">8</span><span style="color: #000000">,</span><span style="color: #000000">  </span><span style="color: #008000">/*  852 Hz + 1336 Hz */</span>
<span style="color: #000000">   USC_Tone_9          </span><span style="color: #000000">=</span><span style="color: #000000">  </span><span style="color: #000000">9</span><span style="color: #000000">,</span><span style="color: #000000">  </span><span style="color: #008000">/*  852 Hz + 1477 Hz */</span>
<span style="color: #000000">   USC_Tone_ASTERISK   </span><span style="color: #000000">=</span><span style="color: #000000"> </span><span style="color: #000000">10</span><span style="color: #000000">,</span><span style="color: #000000">  </span><span style="color: #008000">/*  941 Hz + 1209 Hz */</span>
<span style="color: #000000">   USC_Tone_HASH       </span><span style="color: #000000">=</span><span style="color: #000000"> </span><span style="color: #000000">11</span><span style="color: #000000">,</span><span style="color: #000000">  </span><span style="color: #008000">/*  941 Hz + 1477 Hz */</span>
<span style="color: #000000">   USC_Tone_A          </span><span style="color: #000000">=</span><span style="color: #000000"> </span><span style="color: #000000">12</span><span style="color: #000000">,</span><span style="color: #000000">  </span><span style="color: #008000">/*  697 Hz + 1633 Hz */</span>
<span style="color: #000000">   USC_Tone_B          </span><span style="color: #000000">=</span><span style="color: #000000"> </span><span style="color: #000000">13</span><span style="color: #000000">,</span><span style="color: #000000">  </span><span style="color: #008000">/*  770 Hz + 1633 Hz */</span>
<span style="color: #000000">   USC_Tone_C          </span><span style="color: #000000">=</span><span style="color: #000000"> </span><span style="color: #000000">14</span><span style="color: #000000">,</span><span style="color: #000000">  </span><span style="color: #008000">/*  852 Hz + 1633 Hz */</span>
<span style="color: #000000">   USC_Tone_D          </span><span style="color: #000000">=</span><span style="color: #000000"> </span><span style="color: #000000">15</span><span style="color: #000000">,</span><span style="color: #000000">  </span><span style="color: #008000">/*  941 Hz + 1633 Hz */</span>
<span style="color: #000000">   USC_ANS             </span><span style="color: #000000">=</span><span style="color: #000000"> </span><span style="color: #000000">32</span><span style="color: #000000">,</span><span style="color: #000000">  </span><span style="color: #008000">/*  2100+/-15 Hz   */</span>
<span style="color: #000000">   USC_slashANS        </span><span style="color: #000000">=</span><span style="color: #000000"> </span><span style="color: #000000">33</span><span style="color: #000000">,</span><span style="color: #000000">  </span><span style="color: #008000">/*  2100+/-15 Hz, Phase rev 450+/-25 ms */</span>
<span style="color: #000000">   USC_ANSam           </span><span style="color: #000000">=</span><span style="color: #000000"> </span><span style="color: #000000">34</span><span style="color: #000000">,</span><span style="color: #000000">  </span><span style="color: #008000">/*  2100+/-1 Hz AM at 15+/-0.1 Hz */</span>
<span style="color: #000000">   USC_slashANSam      </span><span style="color: #000000">=</span><span style="color: #000000"> </span><span style="color: #000000">35</span><span style="color: #000000">   </span><span style="color: #008000">/*  2100+/-1 Hz, Phase rev 450+/-25 ms, AM at 15+/-0.1 Hz */</span>
<span style="color: #000000">}</span><span style="color: #000000">USC_ToneID</span><span style="color: #000000">;</span></tt></pre></div></div>
<div class="paragraph"><p>In this enumeration, values are assigned according to <a href="#RFC2833">[RFC2833]</a> (value names originate from respective event names defined in this document).</p></div>
<hr />
</div>
<div class="sect3">
<h4 id="_td_modes">TD modes</h4>
<div class="paragraph"><p>The <code>USC_TD_Modes</code> structure, for storing modes supported by a USC TD, is defined as</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #0000ff">typedef</span><span style="color: #000000"> </span><span style="color: #0000ff">struct</span><span style="color: #000000"> </span><span style="color: #000000">{</span>
<span style="color: #000000">    </span><span style="color: #0000ff">int</span><span style="color: #000000"> reserved1</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #0000ff">int</span><span style="color: #000000"> reserved2</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #0000ff">int</span><span style="color: #000000"> reserved3</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #0000ff">int</span><span style="color: #000000"> reserved4</span><span style="color: #000000">;</span>
<span style="color: #000000">}</span><span style="color: #000000"> USC_TD_Modes</span><span style="color: #000000">;</span></tt></pre></div></div>
<div class="paragraph"><p>Currently they are reserved for future use.</p></div>
<hr />
</div>
<div class="sect3">
<h4 id="_td_options">TD options</h4>
<div class="paragraph"><p>The <code>USC_TD_Option</code> structure, for storing USC TD options, that is, combinations of basic and additional modes of TD operation, is defined as</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #0000ff">typedef</span><span style="color: #000000"> </span><span style="color: #0000ff">struct</span><span style="color: #000000"> </span><span style="color: #000000">{</span>
<span style="color: #000000">   </span><span style="color: #0000ff">int</span><span style="color: #000000">          minframesize</span><span style="color: #000000">;</span><span style="color: #000000"> </span><span style="color: #008000">/* Minimum frame size in bytes */</span>
<span style="color: #000000">   </span><span style="color: #0000ff">int</span><span style="color: #000000">          framesize</span><span style="color: #000000">;</span><span style="color: #000000">    </span><span style="color: #008000">/* Optimal frame size in bytes */</span>
<span style="color: #000000">   </span><span style="color: #0000ff">int</span><span style="color: #000000">          maxframesize</span><span style="color: #000000">;</span><span style="color: #000000"> </span><span style="color: #008000">/* Maximim frame size in bytes */</span>
<span style="color: #000000">   </span><span style="color: #000000">USC_PCMType</span><span style="color: #000000">  pcmType</span><span style="color: #000000">;</span><span style="color: #000000">      </span><span style="color: #008000">/* PCM type supported by the filter*/</span>
<span style="color: #000000">   </span><span style="color: #000000">USC_TD_Modes</span><span style="color: #000000"> modes</span><span style="color: #000000">;</span><span style="color: #000000">        </span><span style="color: #008000">/* Filter modes*/</span>
<span style="color: #000000">}</span><span style="color: #000000">USC_TD_Option</span><span style="color: #000000">;</span></tt></pre></div></div>
<hr />
</div>
<div class="sect3">
<h4 id="_td_general_information">TD general information</h4>
<div class="paragraph"><p>The <code>USC_TD_Info structure</code>, encapsulating the entire set of TD-specific parameters, is defined as</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #0000ff">typedef</span><span style="color: #000000"> </span><span style="color: #0000ff">struct</span><span style="color: #000000"> </span><span style="color: #000000">{</span>
<span style="color: #000000">   </span><span style="color: #0000ff">const</span><span style="color: #000000"> </span><span style="color: #0000ff">char</span><span style="color: #000000">        </span><span style="color: #000000">*</span><span style="color: #000000">name</span><span style="color: #000000">;</span>
<span style="color: #000000">   </span><span style="color: #0000ff">int</span><span style="color: #000000">               nToneIDs</span><span style="color: #000000">;</span>
<span style="color: #000000">   </span><span style="color: #0000ff">const</span><span style="color: #000000"> </span><span style="color: #000000">USC_ToneID</span><span style="color: #000000">  </span><span style="color: #000000">*</span><span style="color: #000000">pToneIDsTbl</span><span style="color: #000000">;</span>
<span style="color: #000000">   </span><span style="color: #0000ff">int</span><span style="color: #000000">               nOptions</span><span style="color: #000000">;</span>
<span style="color: #000000">   </span><span style="color: #000000">USC_TD_Option</span><span style="color: #000000">    params</span><span style="color: #000000">[</span><span style="color: #000000">1</span><span style="color: #000000">];</span>
<span style="color: #000000">}</span><span style="color: #000000">USC_TD_Info</span><span style="color: #000000">;</span></tt></pre></div></div>
<div class="paragraph"><p>where the meaning of the variables is as follows:</p></div>
<div class="tableblock">
<table rules="none"
width="100%"
frame="void"
cellspacing="0" cellpadding="4">
<col width="25%" />
<col width="75%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>name</code></p></td>
<td align="left" valign="top"><p class="table">Tone detector name, must be not longer than 64 symbols</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>nToneIDs</code></p></td>
<td align="left" valign="top"><p class="table">The number of tones that can be detected/generated</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>pToneIDsTbl</code></p></td>
<td align="left" valign="top"><p class="table">Supported detected/generated tones lookup table</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>nOptions</code></p></td>
<td align="left" valign="top"><p class="table">The number of options supported by tone detector</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>params</code></p></td>
<td align="left" valign="top"><p class="table">Array of options supported by the tone detector. Has length <code>nOptions</code>.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_error_reporting">Error Reporting</h2>
<div class="sectionbody">
<div class="paragraph"><p>The enumerator <code>USC_Status</code> defines all status codes that USC interface functions may return along with their values (see <a href="#tab_usc_2_1">table</a>).
Zero value indicates successful completion. Negative values indicate errors. Positive values correspond to warnings.</p></div>
<div class="tableblock" id="tab_usc_2_1">
<table rules="rows"
width="100%"
frame="hsides"
cellspacing="0" cellpadding="4">
<caption class="title">Table 1. USC Functions Return Codes</caption>
<col width="42%" />
<col width="14%" />
<col width="42%" />
<thead>
<tr>
<th align="left" valign="top">Status Code                </th>
<th align="left" valign="top">Value              </th>
<th align="left" valign="top">Comment</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>USC_BadArgument</code></p></td>
<td align="left" valign="top"><p class="table">-10</p></td>
<td align="left" valign="top"><p class="table">Wrong input data.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>USC_UnsupportedEchoTail</code></p></td>
<td align="left" valign="top"><p class="table">-9</p></td>
<td align="left" valign="top"><p class="table">Unsupported echo tail length (for echo cancellers).</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>USC_NotInitialized</code></p></td>
<td align="left" valign="top"><p class="table">-8</p></td>
<td align="left" valign="top"><p class="table">Initialization was not performed prior to operation or initialization cannot be performed.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>USC_InvalidHandler</code></p></td>
<td align="left" valign="top"><p class="table">-7</p></td>
<td align="left" valign="top"><p class="table">Algorithm instance handle is invalid.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>USC_NoOperation</code></p></td>
<td align="left" valign="top"><p class="table">-6</p></td>
<td align="left" valign="top"><p class="table">Operation cannot be performed.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>USC_UnsupportedPCMType</code></p></td>
<td align="left" valign="top"><p class="table">-5</p></td>
<td align="left" valign="top"><p class="table">Unsupported PCM type.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>USC_UnsupportedBitRate</code></p></td>
<td align="left" valign="top"><p class="table">-4</p></td>
<td align="left" valign="top"><p class="table">Unsupported compression rate.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>USC_UnsupportedFrameType</code></p></td>
<td align="left" valign="top"><p class="table">-3</p></td>
<td align="left" valign="top"><p class="table">Unsupported frame type.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>USC_UnsupportedVADType</code></p></td>
<td align="left" valign="top"><p class="table">-2</p></td>
<td align="left" valign="top"><p class="table">Unsupported VAD mode.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>USC_BadDataPointer</code></p></td>
<td align="left" valign="top"><p class="table">-1</p></td>
<td align="left" valign="top"><p class="table">Invalid data or buffer pointer.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>USC_NoError</code></p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">Operation completed successfully.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>USC_StateNotChanged</code></p></td>
<td align="left" valign="top"><p class="table">1</p></td>
<td align="left" valign="top"><p class="table">Operation had no effect.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<h1 id="_base_api">Base API</h1>
<div class="paragraph"><p>This chapter describes Unified Speech Component (USC) base functions.
Each base function can be applied to a USC algorithm of any type and may have specific features for codecs,
echo cancellers (ECs), filters and tone detectors.
Accordingly, the discussion of each function expands upon the general usage as well as focuses on a particular algorithm specifics, if any.</p></div>
<div class="paragraph"><p>The functions use type definitions supplied in the following header files:</p></div>
<div class="ulist"><ul>
<li>
<p>
Base type definitions in <strong>usc_base.h</strong>
</p>
</li>
<li>
<p>
Codec-specific type definitions in <strong>usc.h</strong>
</p>
</li>
<li>
<p>
EC-specific type definitions in <strong>usc_ec.h</strong>
</p>
</li>
<li>
<p>
Filter-specific type definitions in <strong>usc_filter.h</strong>
</p>
</li>
<li>
<p>
TD-specific type definitions in <strong>usc_td.h</strong>
</p>
</li>
</ul></div>
<div class="paragraph"><p>All the structures and enumerators defined in the header files are described in respective
subsections of the <a href="#_structures_and_enumerators">Structures and Enumerators</a> section.</p></div>
<div class="sect1">
<h2 id="_usc_base_function_table">USC Base Function Table</h2>
<div class="sectionbody">
<div class="paragraph"><p>The USC interface defines a table of functions that are supported by all USC objects.
Each USC object is visible only by its USC function table which is used for memory management,
creation, and operation of an algorithm instances. The structure of a USC base function table is defined as follows:</p></div>
<div class="listingblock">
<a id="_usc_stdfxns"></a>
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #0000ff">typedef</span><span style="color: #000000"> </span><span style="color: #0000ff">struct</span><span style="color: #000000"> </span><span style="color: #000000">{</span>
<span style="color: #000000">    </span><span style="color: #000000">USC_AlgType</span><span style="color: #000000"> algType</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #000000">USC_Status</span><span style="color: #000000"> </span><span style="color: #000000">(*</span><span style="color: #000000">GetInfoSize</span><span style="color: #000000">)(</span><span style="color: #0000ff">int</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">pSize</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #000000">USC_Status</span><span style="color: #000000"> </span><span style="color: #000000">(*</span><span style="color: #000000">GetInfo</span><span style="color: #000000">)(</span><span style="color: #000000">USC_Handle</span><span style="color: #000000"> handle</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #0000ff">void</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">pInfo</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #000000">USC_Status</span><span style="color: #000000"> </span><span style="color: #000000">(*</span><span style="color: #000000">NumAlloc</span><span style="color: #000000">)(</span><span style="color: #0000ff">const</span><span style="color: #000000"> </span><span style="color: #0000ff">void</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">memOptions</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #0000ff">int</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">nbanks</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #000000">USC_Status</span><span style="color: #000000"> </span><span style="color: #000000">(*</span><span style="color: #000000">MemAlloc</span><span style="color: #000000">)(</span><span style="color: #0000ff">const</span><span style="color: #000000"> </span><span style="color: #0000ff">void</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">memOptions</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #000000">USC_MemBank</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">pBanks</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #000000">USC_Status</span><span style="color: #000000"> </span><span style="color: #000000">(*</span><span style="color: #000000">Init</span><span style="color: #000000">)(</span><span style="color: #0000ff">const</span><span style="color: #000000"> </span><span style="color: #0000ff">void</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">initOptions</span><span style="color: #000000">,</span>
<span style="color: #000000">                       </span><span style="color: #0000ff">const</span><span style="color: #000000"> </span><span style="color: #000000">USC_MemBank</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">pBanks</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #000000">USC_Handle</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">handle </span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #000000">USC_Status</span><span style="color: #000000"> </span><span style="color: #000000">(*</span><span style="color: #000000">Reinit</span><span style="color: #000000">)(</span><span style="color: #0000ff">const</span><span style="color: #000000"> </span><span style="color: #0000ff">void</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">reinitParams</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #000000">USC_Handle</span><span style="color: #000000"> handle </span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #000000">USC_Status</span><span style="color: #000000"> </span><span style="color: #000000">(*</span><span style="color: #000000">Control</span><span style="color: #000000">)(</span><span style="color: #0000ff">const</span><span style="color: #000000"> </span><span style="color: #0000ff">void</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">controlParams</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #000000">USC_Handle</span><span style="color: #000000"> handle </span><span style="color: #000000">);</span>
<span style="color: #000000">}</span><span style="color: #000000"> USC_stdFxns</span><span style="color: #000000">;</span></tt></pre></div></div>
<hr />
<div class="paragraph"><div class="title">Algorithm types</div><p>In the USC base function table, algType may have values specified by the <code><a href="#_usc_algtype">USC_algType</a></code>
structure definition in the <a href="#_structures_and_enumerators">Structures and Enumerators</a> section).</p></div>
<div class="paragraph"><div class="title">USC Base Functions</div><p>The <a href="#tab_usc_3_1">table</a> lists all USC base functions along with a short description of their operation. All the functions are reentrant.</p></div>
<div class="tableblock" id="tab_usc_3_1">
<table rules="rows"
width="100%"
frame="hsides"
cellspacing="0" cellpadding="4">
<caption class="title">Table 2. USC Base Functions</caption>
<col width="25%" />
<col width="75%" />
<thead>
<tr>
<th align="left" valign="top">Function Name                  </th>
<th align="left" valign="top">Operation</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code><a href="#_getinfosize">GetInfoSize</a></code></p></td>
<td align="left" valign="top"><p class="table">Gets the size of a memory buffer that the <code><a href="#_getinfo">GetInfo</a></code> function requires.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code><a href="#_getinfo">GetInfo</a></code></p></td>
<td align="left" valign="top"><p class="table">Informs about algorithm features and instance status.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code><a href="#_numalloc">NumAlloc</a></code></p></td>
<td align="left" valign="top"><p class="table">Gets the number of memory blocks needed for the algorithm instance.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code><a href="#_memalloc">MemAlloc</a></code></p></td>
<td align="left" valign="top"><p class="table">Gets the sizes of the memory blocks required for the algorithm instance.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code><a href="#_init">Init</a></code></p></td>
<td align="left" valign="top"><p class="table">Creates an algorithm instance and sets it to the initial state.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code><a href="#_reinit">Reinit</a></code></p></td>
<td align="left" valign="top"><p class="table">Sets an algorithm to the initial state.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code><a href="#_control">Control</a></code></p></td>
<td align="left" valign="top"><p class="table">Changes the algorithm instance modes on fly.</p></td>
</tr>
</tbody>
</table>
</div>
<hr />
<div class="sect2">
<h3 id="_getinfosize">GetInfoSize</h3>
<div class="paragraph"><p><em>Gets the size of a memory buffer that the <code><a href="#_getinfo">GetInfo</a></code> function requires.</em></p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
Syntax
</dt>
<dd>
</dd>
</dl></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #000000">USC_Status</span><span style="color: #000000"> </span><span style="color: #000000">GetInfoSize</span><span style="color: #000000">(</span><span style="color: #0000ff">int</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">pSize</span><span style="color: #000000">);</span></tt></pre></div></div>
<div class="dlist"><dl>
<dt class="hdlist1">
Parameters
</dt>
<dd>
</dd>
</dl></div>
<div class="tableblock">
<table rules="none"
width="100%"
frame="void"
cellspacing="0" cellpadding="4">
<col width="25%" />
<col width="75%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><em>pSize</em></p></td>
<td align="left" valign="top"><p class="table">Pointer to the size of output buffer that the <code><a href="#_getinfo">GetInfo</a></code> function requires.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="dlist"><dl>
<dt class="hdlist1">
Description
</dt>
<dd>
<p>
The function returns the size of memory buffer the application should allocate for the
<code>pInfo</code> parameter of the <code><a href="#_getinfo">GetInfo</a></code> function.
</p>
</dd>
<dt class="hdlist1">
Return Values
</dt>
<dd>
</dd>
</dl></div>
<div class="tableblock">
<table rules="none"
width="100%"
frame="void"
cellspacing="0" cellpadding="4">
<col width="25%" />
<col width="75%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>USC_BadDataPointer</code></p></td>
<td align="left" valign="top"><p class="table">Indicates an error when the pSize pointer is <code>NULL</code>.</p></td>
</tr>
</tbody>
</table>
</div>
<hr />
</div>
<div class="sect2">
<h3 id="_getinfo">GetInfo</h3>
<div class="paragraph"><p><em>Informs about algorithm features and instance status.</em></p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
Syntax
</dt>
<dt class="hdlist1">
General syntax
</dt>
<dd>
</dd>
</dl></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #000000">USC_Status</span><span style="color: #000000"> </span><span style="color: #000000">GetInfo</span><span style="color: #000000">(</span><span style="color: #000000">USC_Handle</span><span style="color: #000000"> handle</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #0000ff">void</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">pInfo</span><span style="color: #000000">);</span></tt></pre></div></div>
<div class="dlist"><dl>
<dt class="hdlist1">
Codec
</dt>
<dd>
</dd>
</dl></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #000000">USC_Status</span><span style="color: #000000"> </span><span style="color: #000000">GetInfo</span><span style="color: #000000">(</span><span style="color: #000000">USC_Handle</span><span style="color: #000000"> handle</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #000000">USC_CodecInfo</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">pInfo</span><span style="color: #000000">);</span></tt></pre></div></div>
<div class="dlist"><dl>
<dt class="hdlist1">
EC
</dt>
<dd>
</dd>
</dl></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #000000">USC_Status</span><span style="color: #000000"> </span><span style="color: #000000">GetInfo</span><span style="color: #000000">(</span><span style="color: #000000">USC_Handle</span><span style="color: #000000"> handle</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #000000">USC_EC_Info</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">pInfo</span><span style="color: #000000">);</span></tt></pre></div></div>
<div class="dlist"><dl>
<dt class="hdlist1">
Filter
</dt>
<dd>
</dd>
</dl></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #000000">USC_Status</span><span style="color: #000000"> </span><span style="color: #000000">GetInfo</span><span style="color: #000000">(</span><span style="color: #000000">USC_Handle</span><span style="color: #000000"> handle</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #000000">USC_FilterInfo</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">pInfo</span><span style="color: #000000">);</span></tt></pre></div></div>
<div class="dlist"><dl>
<dt class="hdlist1">
TD
</dt>
<dd>
</dd>
</dl></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #000000">USC_Status</span><span style="color: #000000"> </span><span style="color: #000000">GetInfo</span><span style="color: #000000">(</span><span style="color: #000000">USC_Handle</span><span style="color: #000000"> handle</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #000000">USC_TD_Info</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">pInfo</span><span style="color: #000000">);</span></tt></pre></div></div>
<div class="dlist"><dl>
<dt class="hdlist1">
Parameters
</dt>
<dd>
</dd>
</dl></div>
<div class="tableblock">
<table rules="none"
width="100%"
frame="void"
cellspacing="0" cellpadding="4">
<col width="25%" />
<col width="75%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><em>handle</em></p></td>
<td align="left" valign="top"><p class="table">Pointer to the algorithm instance or <code>NULL</code> if the info for the algorithm type is queried.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><em>pInfo</em></p></td>
<td align="left" valign="top"><p class="table">Pointer to the buffer to fill in with the information structure. The pointer must have size returned by <a href="#_getinfosize">GetInfoSize</a>.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="dlist"><dl>
<dt class="hdlist1">
Description
</dt>
<dd>
<p>
If an algorithm instance is supplied, the function fills in the information structure with current status of the algorithm instantiation.
The structure depends upon the algorithm type. If <code>handle</code> is <code>NULL</code>, the function reports the features and modes supported by any instance
of an algorithm of the appropriate type, as described below:
</p>
<div class="ulist"><ul>
<li>
<p>
USC codec:
</p>
<div class="ulist"><ul>
<li>
<p>
The number of VAD mode variations supported, for example, <code>USC_Modes.vad=2</code> means that if enabled, the algorithm supports two VAD modes.
</p>
</li>
<li>
<p>
The number and table of compression rates supported.
</p>
</li>
<li>
<p>
Whether postfilter (<code>USC_Modes.pf</code>=1), high-pass filter (<code>USC_Modes.hpf=1</code>) or truncation modes are supported.
</p>
</li>
<li>
<p>
Maximal PCM frame length supported.
</p>
</li>
<li>
<p>
Directions supported: 0 - only encode, 1 - only decode, 2 - both.
</p>
</li>
<li>
<p>
Maximal bitstream frame size supported.
</p>
</li>
</ul></div>
</li>
<li>
<p>
USC EC:
</p>
<div class="ulist"><ul>
<li>
<p>
Default algorithm type (<code>EC_SUBBAND</code>).
</p>
</li>
<li>
<p>
Default adaptation type (<code>AD_FULLADAPT</code>).
</p>
</li>
<li>
<p>
Default echo tail length (16).
</p>
</li>
<li>
<p>
Whether tone disabler (<code>USC_EC_Modes.td</code>=1), zero filter&#8217;s coefficient (<code>USC_EC_Modes.zeroCoeff</code>=1), NLP (<code>USC_EC_Modes.nlp</code>=1), or
antihowling (<code>USC_EC_Modes.ah</code>=1) are supported.
</p>
</li>
<li>
<p>
Maximal PCM frame length supported.
</p>
</li>
</ul></div>
</li>
<li>
<p>
USC signal filter:
</p>
<div class="ulist"><ul>
<li>
<p>
The number of supported filter options.
</p>
</li>
<li>
<p>
For each option,
</p>
<div class="ulist"><ul>
<li>
<p>
Maximum supported length of a PCM frame
</p>
</li>
<li>
<p>
Type of a PCM stream.
</p>
</li>
</ul></div>
</li>
</ul></div>
</li>
<li>
<p>
USC TD:
</p>
<div class="ulist"><ul>
<li>
<p>
The number of supported TD options
</p>
</li>
<li>
<p>
The number and table of tones supported.
</p>
</li>
<li>
<p>
For each option,
</p>
<div class="ulist"><ul>
<li>
<p>
Maximal supported length of a PCM frame
</p>
</li>
<li>
<p>
PCM stream type.
</p>
</li>
</ul></div>
</li>
</ul></div>
</li>
</ul></div>
</dd>
<dt class="hdlist1">
Return Values
</dt>
<dd>
</dd>
</dl></div>
<div class="tableblock">
<table rules="none"
width="100%"
frame="void"
cellspacing="0" cellpadding="4">
<col width="25%" />
<col width="75%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>USC_BadDataPointer</code></p></td>
<td align="left" valign="top"><p class="table">Indicates an error when the <code>pInfo</code> pointer is <code>NULL</code>.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_see_also">See also</h5>
<div class="paragraph"><p><a href="#_structures_and_enumerators">Structures and Enumerators</a>. <a href="#_codec_structures_and_enumerators">Codec Structures and Enumerators</a>.
<a href="#_echo_canceller_structures_and_enumerators">Echo Canceller Structures and Enumerators</a>.
<a href="#_signal_filter_structures_and_enumerators">Signal Filter Structures and Enumerators</a>.
<a href="#_tone_detector_structures_and_enumerators">Tone Detector Structures and Enumerators</a>.</p></div>
<hr />
</div>
</div>
<div class="sect2">
<h3 id="_numalloc">NumAlloc</h3>
<div class="paragraph"><p><em>Gets the number of memory blocks needed for the algorithm instance.</em></p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
Syntax
</dt>
<dt class="hdlist1">
General syntax
</dt>
<dd>
</dd>
</dl></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #000000">USC_Status</span><span style="color: #000000"> </span><span style="color: #000000">NumAlloc</span><span style="color: #000000">(</span><span style="color: #0000ff">const</span><span style="color: #000000"> </span><span style="color: #0000ff">void</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">memOptions</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #0000ff">int</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">nbanks</span><span style="color: #000000">);</span></tt></pre></div></div>
<div class="dlist"><dl>
<dt class="hdlist1">
Codec
</dt>
<dd>
</dd>
</dl></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #000000">USC_Status</span><span style="color: #000000"> </span><span style="color: #000000">NumAlloc</span><span style="color: #000000">(</span><span style="color: #0000ff">const</span><span style="color: #000000"> </span><span style="color: #000000">USC_Option</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">options</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #0000ff">int</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">nbanks</span><span style="color: #000000">);</span></tt></pre></div></div>
<div class="dlist"><dl>
<dt class="hdlist1">
EC
</dt>
<dd>
</dd>
</dl></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #000000">USC_Status</span><span style="color: #000000"> </span><span style="color: #000000">NumAlloc</span><span style="color: #000000">(</span><span style="color: #0000ff">const</span><span style="color: #000000"> </span><span style="color: #000000">USC_EC_Option</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">options</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #0000ff">int</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">nbanks</span><span style="color: #000000">);</span></tt></pre></div></div>
<div class="dlist"><dl>
<dt class="hdlist1">
Filter
</dt>
<dd>
</dd>
</dl></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #000000">USC_Status</span><span style="color: #000000"> </span><span style="color: #000000">NumAlloc</span><span style="color: #000000">(</span><span style="color: #0000ff">const</span><span style="color: #000000"> </span><span style="color: #000000">USC_FilterOption</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">options</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #0000ff">int</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">nbanks</span><span style="color: #000000">);</span></tt></pre></div></div>
<div class="dlist"><dl>
<dt class="hdlist1">
TD
</dt>
<dd>
</dd>
</dl></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #000000">USC_Status</span><span style="color: #000000"> </span><span style="color: #000000">NumAlloc</span><span style="color: #000000">(</span><span style="color: #0000ff">const</span><span style="color: #000000"> </span><span style="color: #000000">USC_TD_Option</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">options</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #0000ff">int</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">nbanks</span><span style="color: #000000">);</span></tt></pre></div></div>
<div class="dlist"><dl>
<dt class="hdlist1">
Parameters
</dt>
<dd>
</dd>
</dl></div>
<div class="tableblock">
<table rules="none"
width="100%"
frame="void"
cellspacing="0" cellpadding="4">
<col width="25%" />
<col width="75%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><em>memOptions</em></p></td>
<td align="left" valign="top"><p class="table">Pointer to the input structure of options for the new instance to be created.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><em>nbanks</em></p></td>
<td align="left" valign="top"><p class="table">Pointer to the output number of memory blocks required for the new instance.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="dlist"><dl>
<dt class="hdlist1">
Description
</dt>
<dd>
<p>
You must create the options structure in your application prior to the function call. The function returns the number of memory blocks that an algorithm instance might require for proper operation in the configuration determined by the supplied options.
</p>
</dd>
<dt class="hdlist1">
Return Values
</dt>
<dd>
</dd>
</dl></div>
<div class="tableblock">
<table rules="none"
width="100%"
frame="void"
cellspacing="0" cellpadding="4">
<col width="25%" />
<col width="75%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>USC_BadDataPointer</code></p></td>
<td align="left" valign="top"><p class="table">Indicates an error when the memOptions or nbanks pointer is <code>NULL</code>.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_see_also_2">See also</h5>
<div class="paragraph"><p><a href="#_structures_and_enumerators">Structures and Enumerators</a>. <a href="#_codec_structures_and_enumerators">Codec Structures and Enumerators</a>.
<a href="#_echo_canceller_structures_and_enumerators">Echo Canceller Structures and Enumerators</a>.</p></div>
<div class="paragraph"><p><a href="#_signal_filter_structures_and_enumerators">Signal Filter Structures and Enumerators</a>. <a href="#_tone_detector_structures_and_enumerators">Tone Detector Structures and Enumerators</a>.</p></div>
<hr />
</div>
</div>
<div class="sect2">
<h3 id="_memalloc">MemAlloc</h3>
<div class="paragraph"><p><em>Gets the sizes of the memory blocks required for the algorithm instance.</em></p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
Syntax
</dt>
<dd>
<p>
General syntax:
</p>
</dd>
</dl></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #000000">USC_Status</span><span style="color: #000000"> </span><span style="color: #000000">MemAlloc</span><span style="color: #000000">(</span><span style="color: #0000ff">const</span><span style="color: #000000"> </span><span style="color: #0000ff">void</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">memOptions</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #000000">USC_MemBank</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">pBanks</span><span style="color: #000000">);</span></tt></pre></div></div>
<div class="dlist"><dl>
<dt class="hdlist1">
Codec
</dt>
<dd>
</dd>
</dl></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #000000">USC_Status</span><span style="color: #000000"> </span><span style="color: #000000">MemAlloc</span><span style="color: #000000">(</span><span style="color: #0000ff">const</span><span style="color: #000000"> </span><span style="color: #000000">USC_Option</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">options</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #000000">USC_MemBank</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">pBanks</span><span style="color: #000000">);</span></tt></pre></div></div>
<div class="dlist"><dl>
<dt class="hdlist1">
EC
</dt>
<dd>
</dd>
</dl></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #000000">USC_Status</span><span style="color: #000000"> </span><span style="color: #000000">MemAlloc</span><span style="color: #000000">(</span><span style="color: #0000ff">const</span><span style="color: #000000"> </span><span style="color: #000000">USC_EC_Option</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">options</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #000000">USC_MemBank</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">pBanks</span><span style="color: #000000">);</span></tt></pre></div></div>
<div class="dlist"><dl>
<dt class="hdlist1">
Filter
</dt>
<dd>
</dd>
</dl></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #000000">USC_Status</span><span style="color: #000000"> </span><span style="color: #000000">MemAlloc</span><span style="color: #000000">(</span><span style="color: #0000ff">const</span><span style="color: #000000"> </span><span style="color: #000000">USC_FilterOption</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">options</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #000000">USC_MemBank</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">pBanks</span><span style="color: #000000">);</span></tt></pre></div></div>
<div class="dlist"><dl>
<dt class="hdlist1">
TD
</dt>
<dd>
</dd>
</dl></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #000000">USC_Status</span><span style="color: #000000"> </span><span style="color: #000000">MemAlloc</span><span style="color: #000000">(</span><span style="color: #0000ff">const</span><span style="color: #000000"> </span><span style="color: #000000">USC_TD_Option</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">options</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #000000">USC_MemBank</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">pBanks</span><span style="color: #000000">);</span></tt></pre></div></div>
<div class="dlist"><dl>
<dt class="hdlist1">
Parameters
</dt>
<dd>
</dd>
</dl></div>
<div class="tableblock">
<table rules="none"
width="100%"
frame="void"
cellspacing="0" cellpadding="4">
<col width="25%" />
<col width="75%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><em>memOptions, options</em></p></td>
<td align="left" valign="top"><p class="table">Pointer to the input structure of options for the new instance to be created. Must be the same as used in <code><a href="#_numalloc">NumAlloc</a></code>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><em>pBanks</em></p></td>
<td align="left" valign="top"><p class="table">Pointer to the output array having the <code><a href="#_usc_membank">USC_MemBank</a></code> structure of length nbanks, determined by <code><a href="#_numalloc">NumAlloc</a></code>.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="dlist"><dl>
<dt class="hdlist1">
Description
</dt>
<dd>
<p>
The function fills in each element of the <code>*pBanks</code> array with the size (in bytes) of a memory block required for the instance to be created.
</p>
</dd>
<dt class="hdlist1">
Return Values
</dt>
<dd>
</dd>
</dl></div>
<div class="tableblock">
<table rules="none"
width="100%"
frame="void"
cellspacing="0" cellpadding="4">
<col width="25%" />
<col width="75%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>USC_BadDataPointer</code></p></td>
<td align="left" valign="top"><p class="table">Indicates an error when the <code>memOptions</code>(<code>options</code>) or pBanks pointer is <code>NULL</code>.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_see_also_3">See also</h5>
<div class="paragraph"><p><a href="#_structures_and_enumerators">Structures and Enumerators</a>. <a href="#_codec_structures_and_enumerators">Codec Structures and Enumerators</a>.
<a href="#_echo_canceller_structures_and_enumerators">Echo Canceller Structures and Enumerators</a>. <a href="#_signal_filter_structures_and_enumerators">Signal Filter Structures and Enumerators</a>.
<a href="#_tone_detector_structures_and_enumerators">Tone Detector Structures and Enumerators</a>.</p></div>
<hr />
</div>
</div>
<div class="sect2">
<h3 id="_init">Init</h3>
<div class="paragraph"><p><em>Creates an algorithm instance and sets it to the initial state.</em></p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
Syntax
</dt>
<dd>
<p>
General syntax:
</p>
</dd>
</dl></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #000000">USC_Status</span><span style="color: #000000"> </span><span style="color: #000000">Init</span><span style="color: #000000">(</span><span style="color: #0000ff">const</span><span style="color: #000000"> </span><span style="color: #0000ff">void</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">initOptions</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #0000ff">const</span><span style="color: #000000"> </span><span style="color: #000000">USC_MemBank</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">pBanks</span><span style="color: #000000">,</span>
<span style="color: #000000">            </span><span style="color: #000000">USC_Handle</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">handle</span><span style="color: #000000">);</span></tt></pre></div></div>
<div class="dlist"><dl>
<dt class="hdlist1">
Codec
</dt>
<dd>
</dd>
</dl></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #000000">USC_Status</span><span style="color: #000000"> </span><span style="color: #000000">Init</span><span style="color: #000000">(</span><span style="color: #0000ff">const</span><span style="color: #000000"> </span><span style="color: #000000">USC_Option</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">options</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #0000ff">const</span><span style="color: #000000"> </span><span style="color: #000000">USC_MemBank</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">pBanks</span><span style="color: #000000">,</span>
<span style="color: #000000">            </span><span style="color: #000000">USC_Handle</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">handle</span><span style="color: #000000">);</span></tt></pre></div></div>
<div class="dlist"><dl>
<dt class="hdlist1">
EC
</dt>
<dd>
</dd>
</dl></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #000000">USC_Status</span><span style="color: #000000"> </span><span style="color: #000000">Init</span><span style="color: #000000">(</span><span style="color: #0000ff">const</span><span style="color: #000000"> </span><span style="color: #000000">USC_EC_Option</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">options</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #0000ff">const</span><span style="color: #000000"> </span><span style="color: #000000">USC_MemBank</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">pBanks</span><span style="color: #000000">,</span>
<span style="color: #000000">            </span><span style="color: #000000">USC_Handle</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">handle</span><span style="color: #000000">);</span></tt></pre></div></div>
<div class="dlist"><dl>
<dt class="hdlist1">
Filter
</dt>
<dd>
</dd>
</dl></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #000000">USC_Status</span><span style="color: #000000"> </span><span style="color: #000000">Init</span><span style="color: #000000">(</span><span style="color: #0000ff">const</span><span style="color: #000000"> </span><span style="color: #000000">USC_FilterOption</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">options</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #0000ff">const</span><span style="color: #000000"> </span><span style="color: #000000">USC_MemBank</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">pBanks</span><span style="color: #000000">,</span>
<span style="color: #000000">            </span><span style="color: #000000">USC_Handle</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">handle</span><span style="color: #000000">);</span></tt></pre></div></div>
<div class="dlist"><dl>
<dt class="hdlist1">
TD
</dt>
<dd>
</dd>
</dl></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #000000">USC_Status</span><span style="color: #000000"> </span><span style="color: #000000">Init</span><span style="color: #000000">(</span><span style="color: #0000ff">const</span><span style="color: #000000"> </span><span style="color: #000000">USC_TD_Option</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">options</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #0000ff">const</span><span style="color: #000000"> </span><span style="color: #000000">USC_MemBank</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">pBanks</span><span style="color: #000000">,</span>
<span style="color: #000000">            </span><span style="color: #000000">USC_Handle</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">handle</span><span style="color: #000000">);</span></tt></pre></div></div>
<div class="dlist"><dl>
<dt class="hdlist1">
Parameters
</dt>
<dd>
</dd>
</dl></div>
<div class="tableblock">
<table rules="none"
width="100%"
frame="void"
cellspacing="0" cellpadding="4">
<col width="25%" />
<col width="75%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><em>initOptions, options</em></p></td>
<td align="left" valign="top"><p class="table">Pointer to the input structure of algorithm-specific initialization options for the new instance to be created.
Must be the same as used by the <code><a href="#_numalloc">NumAlloc</a></code> and <code><a href="#_memalloc">MemAlloc</a></code> functions.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><em>pBanks</em></p></td>
<td align="left" valign="top"><p class="table">Pointer to the input array of USC_MemBank structures that contain the pointers to the memory blocks allocated by the
application according to the sizes reported by the <code><a href="#_memalloc">MemAlloc</a></code> function.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><em>handle</em></p></td>
<td align="left" valign="top"><p class="table">Pointer to the output codec instance. Has a USC object pointer type.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="dlist"><dl>
<dt class="hdlist1">
Description
</dt>
<dd>
<p>
You must create input structures in your application prior to the function call. Each memory block in <code>*pBanks</code> must be allocated properly,
that is, receive <code>nbytes</code> bytes of memory, and <code>pMem</code> pointers set.
The function creates an instance of the algorithm of the appropriate type and returns its handle.
The memory passed via the <code>*pBank</code> array is for the exclusive use of the new algorithm instance and the function should not be used to reinitialize the memory.
</p>
</dd>
</dl></div>
<div class="paragraph"><p>Call the <code><a href="#_getinfo">GetInfo</a></code> function after a call Init for exact parameter values of the algorithm instance initialized.</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
Return Values
</dt>
<dd>
</dd>
</dl></div>
<div class="tableblock">
<table rules="none"
width="100%"
frame="void"
cellspacing="0" cellpadding="4">
<col width="25%" />
<col width="75%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>USC_BadDataPointer</code></p></td>
<td align="left" valign="top"><p class="table">Indicates an error when any of the pointers <code>initOptions</code>(<code>options</code>), <code>pBanks</code> or <code>handle</code> is <code>NULL</code>.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_see_also_4">See also</h5>
<div class="paragraph"><p><a href="#_structures_and_enumerators">Structures and Enumerators</a>. <a href="#_codec_structures_and_enumerators">Codec Structures and Enumerators</a>.
<a href="#_echo_canceller_structures_and_enumerators">Echo Canceller Structures and Enumerators</a>. <a href="#_signal_filter_structures_and_enumerators">Signal Filter Structures and Enumerators</a>. <a href="#_tone_detector_structures_and_enumerators">Tone Detector Structures and Enumerators</a>.</p></div>
<hr />
</div>
</div>
<div class="sect2">
<h3 id="_reinit">Reinit</h3>
<div class="paragraph"><p><em>Sets an algorithm to the initial state.</em></p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
Syntax
</dt>
<dd>
<p>
General syntax:
</p>
</dd>
</dl></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #000000">USC_Status</span><span style="color: #000000"> </span><span style="color: #000000">Reinit</span><span style="color: #000000">(</span><span style="color: #0000ff">const</span><span style="color: #000000"> </span><span style="color: #0000ff">void</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">reinitParams</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #000000">USC_Handle</span><span style="color: #000000"> handle</span><span style="color: #000000">);</span></tt></pre></div></div>
<div class="dlist"><dl>
<dt class="hdlist1">
Codec
</dt>
<dd>
</dd>
</dl></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #000000">USC_Status</span><span style="color: #000000"> </span><span style="color: #000000">Reinit</span><span style="color: #000000">(</span><span style="color: #000000">USC_Modes</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">modes</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #000000">USC_Handle</span><span style="color: #000000"> handle</span><span style="color: #000000">);</span></tt></pre></div></div>
<div class="dlist"><dl>
<dt class="hdlist1">
EC
</dt>
<dd>
</dd>
</dl></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #000000">USC_Status</span><span style="color: #000000"> </span><span style="color: #000000">Reinit</span><span style="color: #000000">(</span><span style="color: #000000">USC_EC_Modes</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">modes</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #000000">USC_Handle</span><span style="color: #000000"> handle</span><span style="color: #000000">);</span></tt></pre></div></div>
<div class="dlist"><dl>
<dt class="hdlist1">
Filter
</dt>
<dd>
</dd>
</dl></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #000000">USC_Status</span><span style="color: #000000"> </span><span style="color: #000000">Reinit</span><span style="color: #000000">(</span><span style="color: #000000">USC_FilterModes</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">modes</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #000000">USC_Handle</span><span style="color: #000000"> handle</span><span style="color: #000000">);</span></tt></pre></div></div>
<div class="dlist"><dl>
<dt class="hdlist1">
TD
</dt>
<dd>
</dd>
</dl></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #000000">USC_Status</span><span style="color: #000000"> </span><span style="color: #000000">Reinit</span><span style="color: #000000">(</span><span style="color: #000000">USC_TD_Modes</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">modes</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #000000">USC_Handle</span><span style="color: #000000"> handle</span><span style="color: #000000">);</span></tt></pre></div></div>
<div class="dlist"><dl>
<dt class="hdlist1">
Parameters
</dt>
<dd>
</dd>
</dl></div>
<div class="tableblock">
<table rules="none"
width="100%"
frame="void"
cellspacing="0" cellpadding="4">
<col width="25%" />
<col width="75%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><em>reinitParams, modes</em></p></td>
<td align="left" valign="top"><p class="table">Pointer to the structure containing the algorithm initialization options, that is, modes to be set.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><em>handle</em></p></td>
<td align="left" valign="top"><p class="table">Instance handle. Has a USC object pointer type.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="dlist"><dl>
<dt class="hdlist1">
Description
</dt>
<dd>
<p>
The function initializes the codec instance and sets the requested modes. The instance continues occupying the same memory and its instance handle is not changed.
</p>
</dd>
<dt class="hdlist1">
Return Values
</dt>
<dd>
</dd>
</dl></div>
<div class="tableblock">
<table rules="none"
width="100%"
frame="void"
cellspacing="0" cellpadding="4">
<col width="25%" />
<col width="75%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>USC_BadDataPointer</code></p></td>
<td align="left" valign="top"><p class="table">Indicates an error when the <code>reinitParams</code>(<code>modes</code>) or <code>handle</code> pointer is <code>NULL</code>.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_see_also_5">See also</h5>
<div class="paragraph"><p><a href="#_structures_and_enumerators">Structures and Enumerators</a>. <a href="#_codec_structures_and_enumerators">Codec Structures and Enumerators</a>.
<a href="#_echo_canceller_structures_and_enumerators">Echo Canceller Structures and Enumerators</a>.</p></div>
<div class="paragraph"><p><a href="#_signal_filter_structures_and_enumerators">Signal Filter Structures and Enumerators</a>.</p></div>
<div class="paragraph"><p><a href="#_tone_detector_structures_and_enumerators">Tone Detector Structures and Enumerators</a>.</p></div>
<hr />
</div>
</div>
<div class="sect2">
<h3 id="_control">Control</h3>
<div class="paragraph"><p><em>Changes the algorithm instance modes on fly.</em></p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
Syntax
</dt>
<dd>
<p>
General syntax:
</p>
</dd>
</dl></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #000000">USC_Status</span><span style="color: #000000"> </span><span style="color: #000000">Control</span><span style="color: #000000">(</span><span style="color: #0000ff">const</span><span style="color: #000000"> </span><span style="color: #0000ff">void</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">controlParams</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #000000">USC_Handle</span><span style="color: #000000"> handle</span><span style="color: #000000">);</span></tt></pre></div></div>
<div class="dlist"><dl>
<dt class="hdlist1">
Codec
</dt>
<dd>
</dd>
</dl></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #000000">USC_Status</span><span style="color: #000000"> </span><span style="color: #000000">Control</span><span style="color: #000000">(</span><span style="color: #000000">USC_Modes</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">modes</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #000000">USC_Handle</span><span style="color: #000000"> handle</span><span style="color: #000000">);</span></tt></pre></div></div>
<div class="dlist"><dl>
<dt class="hdlist1">
EC
</dt>
<dd>
</dd>
</dl></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #000000">USC_Status</span><span style="color: #000000"> </span><span style="color: #000000">Control</span><span style="color: #000000">(</span><span style="color: #000000">USC_EC_Modes</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">modes</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #000000">USC_Handle</span><span style="color: #000000"> handle</span><span style="color: #000000">);</span></tt></pre></div></div>
<div class="dlist"><dl>
<dt class="hdlist1">
Filter
</dt>
<dd>
</dd>
</dl></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #000000">USC_Status</span><span style="color: #000000"> </span><span style="color: #000000">Control</span><span style="color: #000000">(</span><span style="color: #000000">USC_FilterModes</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">modes</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #000000">USC_Handle</span><span style="color: #000000"> handle</span><span style="color: #000000">);</span></tt></pre></div></div>
<div class="dlist"><dl>
<dt class="hdlist1">
TD
</dt>
<dd>
</dd>
</dl></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #000000">USC_Status</span><span style="color: #000000"> </span><span style="color: #000000">Control</span><span style="color: #000000">(</span><span style="color: #000000">USC_TD_Modes</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">modes</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #000000">USC_Handle</span><span style="color: #000000"> handle</span><span style="color: #000000">);</span></tt></pre></div></div>
<div class="dlist"><dl>
<dt class="hdlist1">
Parameters
</dt>
<dd>
</dd>
</dl></div>
<div class="tableblock">
<table rules="none"
width="100%"
frame="void"
cellspacing="0" cellpadding="4">
<col width="25%" />
<col width="75%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><em>controlParams</em></p></td>
<td align="left" valign="top"><p class="table">, modesPointer to the structure holding algorithm-specific control options, that is, modes to be set.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><em>handle</em></p></td>
<td align="left" valign="top"><p class="table">Pointer to the input algorithm instance. Has a USC object pointer type.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="dlist"><dl>
<dt class="hdlist1">
Description
</dt>
<dd>
<p>
The function sets the algorithm instance to the requested modes. Once the algorithm modes are initialized by the <code><a href="#_init">Init</a></code> (or <code><a href="#_reinit">Reinit</a></code>)
function, you can change them using the <code><a href="#_control">Control</a></code> function.
</p>
</dd>
<dt class="hdlist1">
Return Values
</dt>
<dd>
</dd>
</dl></div>
<div class="tableblock">
<table rules="none"
width="100%"
frame="void"
cellspacing="0" cellpadding="4">
<col width="25%" />
<col width="75%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>USC_BadDataPointer</code></p></td>
<td align="left" valign="top"><p class="table">Indicates an error when the <code>controlParams</code>(<code>modes</code>) or <code>handle</code> pointer is <code>NULL</code>.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_see_also_6">See also</h5>
<div class="paragraph"><p><a href="#_structures_and_enumerators">Structures and Enumerators</a>. <a href="#_codec_structures_and_enumerators">Codec Structures and Enumerators</a>.
<a href="#_echo_canceller_structures_and_enumerators">Echo Canceller Structures and Enumerators</a>.</p></div>
<div class="paragraph"><p><a href="#_signal_filter_structures_and_enumerators">Signal Filter Structures and Enumerators</a>.
<a href="#_tone_detector_structures_and_enumerators">Tone Detector Structures and Enumerators</a>.</p></div>
</div>
</div>
</div>
</div>
<h1 id="_codec_api">Codec API</h1>
<div class="paragraph"><p>This chapter describes the API of Unified Speech Component (USC) codecs. USC codec functions use base type definitions,
supplied in the <strong>usc_base.h</strong> header file, as well as codec-specific type definitions, supplied in <strong>usc.h</strong>.
All the structures and enumerators defined in the header files are described in respective subsections
of the <a href="#_structures_and_enumerators">Structures and  Enumerators</a> section. All the USC codec functions are reentrant.</p></div>
<div class="sect1">
<h2 id="_codec_function_table">Codec Function Table</h2>
<div class="sectionbody">
<div class="paragraph"><p>The USC codec function table augments the USC base function table (see the "<a href="#_usc_base_function_table">USC Base  Function Table</a>" section)
with codec-specific functions:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #0000ff">typedef</span><span style="color: #000000"> </span><span style="color: #0000ff">struct</span><span style="color: #000000"> </span><span style="color: #000000">{</span>
<span style="color: #000000">    </span><span style="color: #000000">USC_stdFxns</span><span style="color: #000000"> std</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #000000">USC_Status</span><span style="color: #000000"> </span><span style="color: #000000">(*</span><span style="color: #000000">Encode</span><span style="color: #000000">)(</span><span style="color: #000000">USC_Handle</span><span style="color: #000000"> handle</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #000000">USC_PCMStream</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">in</span><span style="color: #000000">,</span>
<span style="color: #000000">                         </span><span style="color: #000000">USC_Bitstream</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">out</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #000000">USC_Status</span><span style="color: #000000"> </span><span style="color: #000000">(*</span><span style="color: #000000">Decode</span><span style="color: #000000">)(</span><span style="color: #000000">USC_Handle</span><span style="color: #000000"> handle</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #000000">USC_Bitstream</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">in</span><span style="color: #000000">,</span>
<span style="color: #000000">                         </span><span style="color: #000000">USC_PCMStream</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">out</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #000000">USC_Status</span><span style="color: #000000"> </span><span style="color: #000000">(*</span><span style="color: #000000">GetOutStreamSize</span><span style="color: #000000">)(</span><span style="color: #0000ff">const</span><span style="color: #000000"> </span><span style="color: #000000">USC_Option</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">options</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #0000ff">int</span><span style="color: #000000"> bitrate</span><span style="color: #000000">,</span>
<span style="color: #000000">                         </span><span style="color: #0000ff">int</span><span style="color: #000000"> nbytesSrc</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #0000ff">int</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">nbytesDst</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #000000">USC_Status</span><span style="color: #000000"> </span><span style="color: #000000">(*</span><span style="color: #000000">SetFrameSize</span><span style="color: #000000">)(</span><span style="color: #0000ff">const</span><span style="color: #000000"> </span><span style="color: #000000">USC_Option</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">options</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #000000">USC_Handle</span><span style="color: #000000"> handle</span><span style="color: #000000">,</span>
<span style="color: #000000">                         </span><span style="color: #0000ff">int</span><span style="color: #000000"> frameSize</span><span style="color: #000000">);</span>
<span style="color: #000000">}</span><span style="color: #000000"> USC_Fxns</span><span style="color: #000000">;</span></tt></pre></div></div>
</div>
</div>
<div class="sect1">
<h2 id="_codec_base_functions">Codec Base Functions</h2>
<div class="sectionbody">
<div class="paragraph"><p>The base (standard) functions of a USC codec algorithm are listed below along with their short description and calling syntax.
For the detailed descriptions of the USC base (standard) functions, refer to
Chapter 2, "<a href="#_unified_speech_component_interface_concepts">Unified Speech Component Interface Concepts</a>",
where the discussion focuses on the codec-specific features of a function, if any.</p></div>
<hr />
<div class="sect2">
<h3 id="_getinfosize_2">GetInfoSize</h3>
<div class="paragraph"><p>Gets the size of a memory buffer that the <code><a href="#_getinfo">GetInfo</a></code> function requires.</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #000000">USC_Status</span><span style="color: #000000"> </span><span style="color: #000000">GetInfoSize</span><span style="color: #000000">(</span><span style="color: #0000ff">int</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">pSize</span><span style="color: #000000">);</span></tt></pre></div></div>
<hr />
</div>
<div class="sect2">
<h3 id="_getinfo_2">GetInfo</h3>
<div class="paragraph"><p>Informs about algorithm features and instance status.</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #000000">USC_Status</span><span style="color: #000000"> </span><span style="color: #000000">GetInfo</span><span style="color: #000000">(</span><span style="color: #000000">USC_Handle</span><span style="color: #000000"> handle</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #000000">USC_CodecInfo</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">pInfo</span><span style="color: #000000">);</span></tt></pre></div></div>
<hr />
</div>
<div class="sect2">
<h3 id="_numalloc_2">NumAlloc</h3>
<div class="paragraph"><p>Gets the number of memory blocks needed for the algorithm instance.</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #000000">USC_Status</span><span style="color: #000000"> </span><span style="color: #000000">NumAlloc</span><span style="color: #000000">(</span><span style="color: #0000ff">const</span><span style="color: #000000"> </span><span style="color: #000000">USC_Option</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">options</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #0000ff">int</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">nbanks</span><span style="color: #000000">);</span></tt></pre></div></div>
<hr />
</div>
<div class="sect2">
<h3 id="_memalloc_2">MemAlloc</h3>
<div class="paragraph"><p>Gets the sizes of the memory blocks required for the algorithm instance.</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #000000">USC_Status</span><span style="color: #000000"> </span><span style="color: #000000">MemAlloc</span><span style="color: #000000">(</span><span style="color: #0000ff">const</span><span style="color: #000000"> </span><span style="color: #000000">USC_Option</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">options</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #000000">USC_MemBank</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">pBanks</span><span style="color: #000000">);</span></tt></pre></div></div>
<hr />
</div>
<div class="sect2">
<h3 id="_init_2">Init</h3>
<div class="paragraph"><p>Creates an algorithm instance and sets it to the initial state.</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #000000">USC_Status</span><span style="color: #000000"> </span><span style="color: #000000">Init</span><span style="color: #000000">(</span><span style="color: #0000ff">const</span><span style="color: #000000"> </span><span style="color: #000000">USC_Option</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">options</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #0000ff">const</span><span style="color: #000000"> </span><span style="color: #000000">USC_MemBank</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">pBanks</span><span style="color: #000000">,</span>
<span style="color: #000000">                </span><span style="color: #000000">USC_Handle</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">handle</span><span style="color: #000000">);</span></tt></pre></div></div>
<hr />
</div>
<div class="sect2">
<h3 id="_reinit_2">Reinit</h3>
<div class="paragraph"><p>Sets an algorithm to the initial state.</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #000000">USC_Status</span><span style="color: #000000"> </span><span style="color: #000000">Reinit</span><span style="color: #000000">(</span><span style="color: #0000ff">const</span><span style="color: #000000"> </span><span style="color: #000000">USC_Modes</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">modes</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #000000">USC_Handle</span><span style="color: #000000"> handle</span><span style="color: #000000">);</span></tt></pre></div></div>
<hr />
</div>
<div class="sect2">
<h3 id="_control_2">Control</h3>
<div class="paragraph"><p>Changes the algorithm instance modes on fly.</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #000000">USC_Status</span><span style="color: #000000"> </span><span style="color: #000000">Control</span><span style="color: #000000">(</span><span style="color: #0000ff">const</span><span style="color: #000000"> </span><span style="color: #000000">USC_Modes</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">modes</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #000000">USC_Handle</span><span style="color: #000000"> handle</span><span style="color: #000000">);</span></tt></pre></div></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_codec_specific_functions">Codec-specific Functions</h2>
<div class="sectionbody">
<div class="paragraph"><p><a href="#tab_usc_4_1">Table</a> lists USC codec-specific functions.</p></div>
<div class="tableblock" id="tab_usc_4_1">
<table rules="rows"
width="100%"
frame="void"
cellspacing="0" cellpadding="4">
<caption class="title">Table 3. USC Codec-Specific Functions</caption>
<col width="25%" />
<col width="75%" />
<thead>
<tr>
<th align="left" valign="top">Function Name              </th>
<th align="left" valign="top">Operation</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code><a href="#_encode">Encode</a></code></p></td>
<td align="left" valign="top"><p class="table">Compresses an input PCM audio.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code><a href="#_decode">Decode</a></code></p></td>
<td align="left" valign="top"><p class="table">Decompresses a bit stream.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code><a href="#_getoutstreamsize">GetOutStreamSize</a></code></p></td>
<td align="left" valign="top"><p class="table">Reports the maximum size of the output stream.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code><a href="#_setframesize">SetFrameSize</a></code></p></td>
<td align="left" valign="top"><p class="table">Sets the PCM audio frame size.</p></td>
</tr>
</tbody>
</table>
</div>
<hr />
<div class="sect2">
<h3 id="_encode">Encode</h3>
<div class="paragraph"><p><em>Compresses an input PCM audio.</em></p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
Syntax
</dt>
<dd>
</dd>
</dl></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #000000">USC_Status</span><span style="color: #000000"> </span><span style="color: #000000">Encode</span><span style="color: #000000">(</span><span style="color: #000000">USC_Handle</span><span style="color: #000000"> handle</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #000000">USC_PCMStream</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">in</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #000000">USC_Bitstream</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">out</span><span style="color: #000000">);</span></tt></pre></div></div>
<div class="dlist"><dl>
<dt class="hdlist1">
Parameters
</dt>
<dd>
</dd>
</dl></div>
<div class="tableblock">
<table rules="none"
width="100%"
frame="void"
cellspacing="0" cellpadding="4">
<col width="25%" />
<col width="75%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><em>handle</em></p></td>
<td align="left" valign="top"><p class="table">Algorithm instance handle. Has a USC object pointer type.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><em>in</em></p></td>
<td align="left" valign="top"><p class="table">Pointer to the input PCM audio stream.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><em>out</em></p></td>
<td align="left" valign="top"><p class="table">Pointer to the output bit stream.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="dlist"><dl>
<dt class="hdlist1">
Description
</dt>
<dd>
<p>
The function compresses one frame of the input PCM audio and forms the output compressed bitstream frame at the requested compression rate.
</p>
</dd>
</dl></div>
<div class="paragraph"><p>The function sets <code>in&#8594;nbytes</code> to the frame size in bytes, that is the number of bytes actually encoded.</p></div>
<div class="paragraph"><p>The <code>out&#8594;nbytes</code> value is set to the length of the output compressed bitstream frame in bytes.</p></div>
<div class="paragraph"><p><code>out&#8594;frametype</code> is set to a codec-dependent bitstream  frame type.</p></div>
<div class="paragraph"><p><code>out&#8594;bitrate</code> is set to the compression rate of the compressed bitstream.</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
Return Values
</dt>
<dd>
</dd>
</dl></div>
<div class="tableblock">
<table rules="none"
width="100%"
frame="void"
cellspacing="0" cellpadding="4">
<col width="25%" />
<col width="75%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>USC_BadDataPointer</code></p></td>
<td align="left" valign="top"><p class="table">Indicates an error when any of the pointers <code>in</code>, <code>out</code>, or <code>handle</code> is <code>NULL</code>.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_see_also_7">See also</h5>
<div class="paragraph"><p><a href="#_structures_and_enumerators">Structures and Enumerators</a></p></div>
<div class="paragraph"><p><a href="#_codec_structures_and_enumerators">Codec Structures and Enumerators</a>.</p></div>
<hr />
</div>
</div>
<div class="sect2">
<h3 id="_decode">Decode</h3>
<div class="paragraph"><p><em>Decompresses a bit stream.</em></p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
Syntax
</dt>
<dd>
</dd>
</dl></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #000000">USC_Status</span><span style="color: #000000"> </span><span style="color: #000000">Decode</span><span style="color: #000000">(</span><span style="color: #000000">USC_Handle</span><span style="color: #000000"> handle</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #000000">USC_Bitstream</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">in</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #000000">USC_PCMStream</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">out</span><span style="color: #000000">);</span></tt></pre></div></div>
<div class="dlist"><dl>
<dt class="hdlist1">
Parameters
</dt>
<dd>
</dd>
</dl></div>
<div class="tableblock">
<table rules="none"
width="100%"
frame="void"
cellspacing="0" cellpadding="4">
<col width="25%" />
<col width="75%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><em>handle</em></p></td>
<td align="left" valign="top"><p class="table">Algorithm instance handle. Has a USC object pointer type.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><em>in</em></p></td>
<td align="left" valign="top"><p class="table">Pointer to the input bit stream.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><em>out</em></p></td>
<td align="left" valign="top"><p class="table">Pointer to the output PCM audio stream.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="dlist"><dl>
<dt class="hdlist1">
Description
</dt>
<dd>
<p>
The function decompresses one input bitstream frame and forms the output PCM audio frame.<br />
<br />
The function sets <code>in&#8594;nbytes</code> to the bitstream frame size in bytes, that is the number of bytes actually decoded.<br />
<br />
The <code>out&#8594;nbytes</code> is set to the length of the output decompressed PCM audio frame in bytes. If the input data parameter in is zero or
<code>in&#8594;pBuffer</code> is zero, then a lost frame is to be decoded. If Packet Loss Concealment (PLC)
is not supported by the codec, the status <code>USC_NoOperation</code> is returned and no output
data produced. It is the responsibility of your application to remedy losses for a codec
without PLC support.
</p>
</dd>
<dt class="hdlist1">
Return Values
</dt>
<dd>
</dd>
</dl></div>
<div class="tableblock">
<table rules="none"
width="100%"
frame="void"
cellspacing="0" cellpadding="4">
<col width="25%" />
<col width="75%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>USC_BadDataPointer</code></p></td>
<td align="left" valign="top"><p class="table">Indicates an error when the <code>in</code>, <code>out</code> or <code>handle</code> pointer is <code>NULL</code>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>USC_NoOperation</code></p></td>
<td align="left" valign="top"><p class="table">Indicates an error in case mentioned in the <em>Description</em> section above.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_see_also_8">See also</h5>
<div class="paragraph"><p><a href="#_structures_and_enumerators">Structures and Enumerators</a></p></div>
<div class="paragraph"><p><a href="#_codec_structures_and_enumerators">Codec Structures and Enumerators</a>.</p></div>
<hr />
</div>
</div>
<div class="sect2">
<h3 id="_getoutstreamsize">GetOutStreamSize</h3>
<div class="paragraph"><p><em>Reports the maximum size of the output stream.</em></p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
Syntax
</dt>
<dd>
</dd>
</dl></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #000000">USC_Status</span><span style="color: #000000"> </span><span style="color: #000000">GetOutStreamSize</span><span style="color: #000000">(</span><span style="color: #0000ff">const</span><span style="color: #000000"> </span><span style="color: #000000">USC_Option</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">options</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #0000ff">int</span><span style="color: #000000"> bitrate</span><span style="color: #000000">,</span>
<span style="color: #000000">                            </span><span style="color: #0000ff">int</span><span style="color: #000000"> nbytesSrc</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #0000ff">int</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">nbytesDst</span><span style="color: #000000">);</span></tt></pre></div></div>
<div class="dlist"><dl>
<dt class="hdlist1">
Parameters
</dt>
<dd>
</dd>
</dl></div>
<div class="tableblock">
<table rules="none"
width="100%"
frame="void"
cellspacing="0" cellpadding="4">
<col width="25%" />
<col width="75%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><em>options</em></p></td>
<td align="left" valign="top"><p class="table">Pointer to the options.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><em>bitrate</em></p></td>
<td align="left" valign="top"><p class="table">Compression rate in bps.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><em>nbytesSrc</em></p></td>
<td align="left" valign="top"><p class="table">Input buffer size in bytes.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><em>nbytesDst</em></p></td>
<td align="left" valign="top"><p class="table">Output buffer size in bytes.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="dlist"><dl>
<dt class="hdlist1">
Description
</dt>
<dd>
<p>
The function reports the size of the longest output buffer in nbytesDst for an input buffer size of nbytesSrc.
The size can be for encoding or decoding of the stream.<br />
<br />
If <code>options&#8594;direction = USC_ENCODE</code> then the input stream is considered to be a PCM
stream and <code>nbytesDst</code> specifies the encoded buffer size. Otherwise, when
<code>options&#8594;direction = USC_DECODE</code>, the input stream is considered to be a bit stream and
the longest output PCM stream size is returned in <code>nbytesDst</code>.<br />
<br />
In case of <code>USC_DECODE</code>, if <code>options&#8594;modes.vad=0</code>, the size, written to <code>nbytesDst</code>, is computed assuming that the
input bitstream has no SID frames.
</p>
</dd>
<dt class="hdlist1">
Return Values
</dt>
<dd>
</dd>
</dl></div>
<div class="tableblock">
<table rules="none"
width="100%"
frame="void"
cellspacing="0" cellpadding="4">
<col width="25%" />
<col width="75%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>USC_BadDataPointer</code></p></td>
<td align="left" valign="top"><p class="table">Indicates an error when the options or nbytesDst pointer is <code>NULL</code>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>USC_BadArgument</code></p></td>
<td align="left" valign="top"><p class="table">Indicates an error when <code>nbytesSrc</code> or <code>bitrate</code> is less or equal to 0.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_see_also_9">See also</h5>
<div class="paragraph"><p><a href="#_codec_structures_and_enumerators">Codec Structures and Enumerators</a>.</p></div>
<hr />
</div>
</div>
<div class="sect2">
<h3 id="_setframesize">SetFrameSize</h3>
<div class="paragraph"><p><em>Sets the PCM audio frame size.</em></p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
Syntax
</dt>
<dd>
</dd>
</dl></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #000000">USC_Status</span><span style="color: #000000"> </span><span style="color: #000000">SetFrameSize</span><span style="color: #000000">(</span><span style="color: #0000ff">const</span><span style="color: #000000"> </span><span style="color: #000000">USC_Option</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">options</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #000000">USC_Handle</span><span style="color: #000000"> handle</span><span style="color: #000000">,</span>
<span style="color: #000000">                        </span><span style="color: #0000ff">int</span><span style="color: #000000"> frameSize</span><span style="color: #000000">);</span></tt></pre></div></div>
<div class="dlist"><dl>
<dt class="hdlist1">
Parameters
</dt>
<dd>
</dd>
</dl></div>
<div class="tableblock">
<table rules="none"
width="100%"
frame="void"
cellspacing="0" cellpadding="4">
<col width="25%" />
<col width="75%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><em>options</em></p></td>
<td align="left" valign="top"><p class="table">Pointer to the options structure.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><em>handle</em></p></td>
<td align="left" valign="top"><p class="table">Algorithm instance handle. Has a USC object pointer type.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><em>frameSize</em></p></td>
<td align="left" valign="top"><p class="table">Desired input frame size in bytes.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="dlist"><dl>
<dt class="hdlist1">
Description
</dt>
<dd>
<p>
The function changes the codec frame size. Along with setting a new frame size, some codecs may change the bit rate.
In this case, you can get a new bit rate using the <code><a href="#_getinfo">GetInfo</a></code> function.<br />
<br />
In any case, call the <code><a href="#_getinfo">GetInfo</a></code> function after <code><a href="#_setframesize">SetFrameSize</a></code>, as the former will return the final,
precise, value of the newly set frame size.
</p>
</dd>
<dt class="hdlist1">
Return Values
</dt>
<dd>
</dd>
</dl></div>
<div class="tableblock">
<table rules="none"
width="100%"
frame="void"
cellspacing="0" cellpadding="4">
<col width="25%" />
<col width="75%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>USC_BadDataPointer</code></p></td>
<td align="left" valign="top"><p class="table">Indicates an error when the options or handle pointer is <code>NULL</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>USC_BadArgument</code></p></td>
<td align="left" valign="top"><p class="table">Indicates an error when <code>frameSize</code> is less or equal to 0.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>USC_NoOperation</code></p></td>
<td align="left" valign="top"><p class="table">Indicates that no frame size changes were made.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_see_also_10">See also</h5>
<div class="paragraph"><p><a href="#_codec_structures_and_enumerators">Codec Structures and Enumerators</a>.</p></div>
</div>
</div>
</div>
</div>
<h1 id="_echo_canceller_api">Echo Canceller API</h1>
<div class="paragraph"><p>This chapter describes the API of Unified Speech Component (USC) echo cancellers (EC). USC EC functions use base type definitions,
supplied in the <strong>usc_base.h</strong> header file, as well as EC-specific type definitions, supplied in <strong>usc_ec.h</strong>.</p></div>
<div class="paragraph"><p>All the structures and enumerators defined in the header files are described in respective subsections of the
<a href="#_structures_and_enumerators">Structures and Enumerators</a> section.</p></div>
<div class="paragraph"><p>All the USC EC functions are reentrant.</p></div>
<div class="sect1">
<h2 id="_ec_function_table">EC Function Table</h2>
<div class="sectionbody">
<div class="paragraph"><p>The USC EC function table augments the USC base function table (see the "<a href="#_usc_base_function_table">USC Base  Function Table</a>" section)
with only one EC-specific function:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #0000ff">typedef</span><span style="color: #000000"> </span><span style="color: #0000ff">struct</span><span style="color: #000000"> </span><span style="color: #000000">{</span>
<span style="color: #000000">    </span><span style="color: #000000">USC_stdFxns</span><span style="color: #000000"> std</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #000000">USC_Status</span><span style="color: #000000"> </span><span style="color: #000000">(*</span><span style="color: #000000">CancelEcho</span><span style="color: #000000">)(</span><span style="color: #000000">USC_Handle</span><span style="color: #000000"> handle</span><span style="color: #000000">,</span>
<span style="color: #000000">                        </span><span style="color: #0000ff">short</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">pSin</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #0000ff">short</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">pRin</span><span style="color: #000000">,</span>
<span style="color: #000000">                        </span><span style="color: #0000ff">short</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">pSout</span><span style="color: #000000">);</span>
<span style="color: #000000">}</span><span style="color: #000000"> USC_EC_Fxns</span><span style="color: #000000">;</span></tt></pre></div></div>
</div>
</div>
<div class="sect1">
<h2 id="_ec_base_functions">EC Base Functions</h2>
<div class="sectionbody">
<div class="paragraph"><p>The base (standard) functions of a USC EC algorithm are listed below along with their short description and calling syntax.
For the detailed descriptions of the USC base (standard) functions, refer to Chapter 3, "<a href="#_base_api">Base API</a>",
where the discussion focuses on the EC-specific features of a function, if any.</p></div>
<hr />
<div class="sect2">
<h3 id="_getinfosize_3">GetInfoSize</h3>
<div class="paragraph"><p><em>Gets the size of a memory buffer that the <code><a href="#_getinfo">GetInfo</a></code> function requires.</em></p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #000000">USC_Status</span><span style="color: #000000"> </span><span style="color: #000000">GetInfoSize</span><span style="color: #000000">(</span><span style="color: #0000ff">int</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">pSize</span><span style="color: #000000">);</span></tt></pre></div></div>
<hr />
</div>
<div class="sect2">
<h3 id="_getinfo_3">GetInfo</h3>
<div class="paragraph"><p><em>Informs about algorithm features and instance status.</em></p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #000000">USC_Status</span><span style="color: #000000"> </span><span style="color: #000000">GetInfo</span><span style="color: #000000">(</span><span style="color: #000000">USC_Handle</span><span style="color: #000000"> handle</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #000000">USC_EC_Info</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">pInfo</span><span style="color: #000000">);</span></tt></pre></div></div>
<hr />
</div>
<div class="sect2">
<h3 id="_numalloc_3">NumAlloc</h3>
<div class="paragraph"><p><em>Gets the number of memory blocks needed for the algorithm instance.</em></p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #000000">USC_Status</span><span style="color: #000000"> </span><span style="color: #000000">NumAlloc</span><span style="color: #000000">(</span><span style="color: #0000ff">const</span><span style="color: #000000"> </span><span style="color: #000000">USC_EC_Option</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">options</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #0000ff">int</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">nbanks</span><span style="color: #000000">);</span></tt></pre></div></div>
<hr />
</div>
<div class="sect2">
<h3 id="_memalloc_3">MemAlloc</h3>
<div class="paragraph"><p><em>Gets the sizes of the memory blocks required for the algorithm instance.</em></p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #000000">USC_Status</span><span style="color: #000000"> </span><span style="color: #000000">MemAlloc</span><span style="color: #000000">(</span><span style="color: #0000ff">const</span><span style="color: #000000"> </span><span style="color: #000000">USC_EC_Option</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">options</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #000000">USC_MemBank</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">pBanks</span><span style="color: #000000">);</span></tt></pre></div></div>
<hr />
</div>
<div class="sect2">
<h3 id="_init_3">Init</h3>
<div class="paragraph"><p><em>Creates an algorithm instance and sets it to the initial state.</em></p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #000000">USC_Status</span><span style="color: #000000"> </span><span style="color: #000000">Init</span><span style="color: #000000">(</span><span style="color: #0000ff">const</span><span style="color: #000000"> </span><span style="color: #000000">USC_EC_Option</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">options</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #0000ff">const</span><span style="color: #000000"> </span><span style="color: #000000">USC_MemBank</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">pBanks</span><span style="color: #000000">,</span>
<span style="color: #000000">                </span><span style="color: #000000">USC_Handle</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">handle</span><span style="color: #000000">);</span></tt></pre></div></div>
<hr />
</div>
<div class="sect2">
<h3 id="_reinit_3">Reinit</h3>
<div class="paragraph"><p><em>Sets an algorithm to the initial state.</em></p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #000000">USC_Status</span><span style="color: #000000"> </span><span style="color: #000000">Reinit</span><span style="color: #000000">(</span><span style="color: #0000ff">const</span><span style="color: #000000"> </span><span style="color: #000000">USC_EC_Modes</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">modes</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #000000">USC_Handle</span><span style="color: #000000"> handle</span><span style="color: #000000">);</span></tt></pre></div></div>
<hr />
</div>
<div class="sect2">
<h3 id="_control_3">Control</h3>
<div class="paragraph"><p><em>Changes the algorithm instance modes on fly.</em></p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #000000">USC_Status</span><span style="color: #000000"> </span><span style="color: #000000">Control</span><span style="color: #000000">(</span><span style="color: #0000ff">const</span><span style="color: #000000"> </span><span style="color: #000000">USC_EC_Modes</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">modes</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #000000">USC_Handle</span><span style="color: #000000"> handle</span><span style="color: #000000">);</span></tt></pre></div></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ec_specific_functions">EC-specific Functions</h2>
<div class="sectionbody">
<div class="paragraph"><p>The next table lists all USC EC-specific functions along with their short descriptions.</p></div>
<div class="tableblock" id="tab_usc_5_1">
<table rules="none"
width="100%"
frame="void"
cellspacing="0" cellpadding="4">
<caption class="title">Table 4. USC EC-specific Functions</caption>
<col width="25%" />
<col width="75%" />
<thead>
<tr>
<th align="left" valign="top">Function Name          </th>
<th align="left" valign="top">Operation</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code><a href="#_cancelecho">CancelEcho</a></code></p></td>
<td align="left" valign="top"><p class="table">Performs echo cancellation of one input PCM audio frame.</p></td>
</tr>
</tbody>
</table>
</div>
<hr />
<div class="sect2">
<h3 id="_cancelecho">CancelEcho</h3>
<div class="paragraph"><p><em>Performs echo cancellation in one input PCM audio frame.</em></p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
Syntax
</dt>
<dd>
</dd>
</dl></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #000000">USC_Status</span><span style="color: #000000"> </span><span style="color: #000000">CancelEcho</span><span style="color: #000000">(</span><span style="color: #000000">USC_Handle</span><span style="color: #000000"> handle</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #0000ff">short</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">pSin</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #0000ff">short</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">pRin</span><span style="color: #000000">,</span>
<span style="color: #000000">                      </span><span style="color: #0000ff">short</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">pSout</span><span style="color: #000000">);</span></tt></pre></div></div>
<div class="dlist"><dl>
<dt class="hdlist1">
Parameters
</dt>
<dd>
</dd>
</dl></div>
<div class="tableblock">
<table rules="none"
width="100%"
frame="void"
cellspacing="0" cellpadding="4">
<col width="25%" />
<col width="75%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><em>handle</em></p></td>
<td align="left" valign="top"><p class="table">Algorithm instance handle. Has a USC object pointer type.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><em>pSin</em></p></td>
<td align="left" valign="top"><p class="table">Pointer to send-in PCM data (input).</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><em>pRin</em></p></td>
<td align="left" valign="top"><p class="table">Pointer to receive-in PCM data (input).</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><em>pSout</em></p></td>
<td align="left" valign="top"><p class="table">Pointer to send-out PCM data (output).</p></td>
</tr>
</tbody>
</table>
</div>
<div class="dlist"><dl>
<dt class="hdlist1">
Description
</dt>
<dd>
<p>
The function takes send-in PCM audio data, containing speech with echo, and receive-in data, containing echo, and removes echo from send-in.
Result of the echo cancellation is stored in send-out.
</p>
</dd>
<dt class="hdlist1">
Return Values
</dt>
<dd>
</dd>
</dl></div>
<div class="tableblock">
<table rules="none"
width="100%"
frame="void"
cellspacing="0" cellpadding="4">
<col width="25%" />
<col width="75%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>USC_BadDataPointer</code></p></td>
<td align="left" valign="top"><p class="table">Indicates an error when any of the pointers <code>pSin</code>, <code>pRin</code> or <code>pSout</code> is <code>NULL</code>.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_see_also_11">See also</h5>
<div class="paragraph"><p><a href="#_echo_canceller_structures_and_enumerators">Echo Canceller Structures and Enumerators</a>.</p></div>
</div>
</div>
</div>
</div>
<h1 id="_signal_filter_api">Signal Filter API</h1>
<div class="paragraph"><p>This chapter describes the API of Unified Speech Component (USC) signal filters. USC signal filter functions use base type definitions,
supplied in the <strong>usc_base.h</strong> header file, as well as filter-specific type definitions, supplied in <strong>usc_filter.h</strong>.</p></div>
<div class="paragraph"><p>All the structures and enumerators defined in the header files are described in respective subsections of the Structures and Enumerators section.</p></div>
<div class="paragraph"><p>All the USC signal filter functions are reentrant.</p></div>
<div class="sect1">
<h2 id="_filter_function_table">Filter Function Table</h2>
<div class="sectionbody">
<div class="paragraph"><p>The USC signal filter function table augments the USC base function table
(see the "<a href="#_usc_base_function_table">USC Base Function Table</a>" section) with two filter-specific functions:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #0000ff">typedef</span><span style="color: #000000"> </span><span style="color: #0000ff">struct</span><span style="color: #000000"> </span><span style="color: #000000">{</span>
<span style="color: #000000">    </span><span style="color: #000000">USC_stdFxns</span><span style="color: #000000"> std</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #000000">USC_Status</span><span style="color: #000000"> </span><span style="color: #000000">(*</span><span style="color: #000000">SetDlyLine</span><span style="color: #000000">)(</span><span style="color: #000000">USC_Handle</span><span style="color: #000000"> handle</span><span style="color: #000000">,</span>
<span style="color: #000000">                             </span><span style="color: #000000">Ipp8s</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">pDlyLine</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #000000">USC_Status</span><span style="color: #000000"> </span><span style="color: #000000">(*</span><span style="color: #000000">Filter</span><span style="color: #000000">)(</span><span style="color: #000000">USC_Handle</span><span style="color: #000000"> handle</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #000000">USC_PCMStream</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">pIn</span><span style="color: #000000">,</span>
<span style="color: #000000">                         </span><span style="color: #000000">USC_PCMStream</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">pOut</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #000000">USC_FrameType</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">pDecision</span><span style="color: #000000">);</span>
<span style="color: #000000">}</span><span style="color: #000000"> USC_Filter_Fxns</span><span style="color: #000000">;</span></tt></pre></div></div>
</div>
</div>
<div class="sect1">
<h2 id="_filter_base_functions">Filter Base Functions</h2>
<div class="sectionbody">
<div class="paragraph"><p>The base (standard) functions of a USC signal filter algorithm are listed below along with their short description and calling syntax.
For the detailed descriptions of the USC base (standard) functions, refer to Chapter 3, "<a href="#_base_api">Base API</a>", where the discussion
focuses on the filter-specific features of a function, if any.</p></div>
<hr />
<div class="sect2">
<h3 id="_getinfosize_4">GetInfoSize</h3>
<div class="paragraph"><p><em>Gets the size of a memory buffer that the <code><a href="#_getinfo">GetInfo</a></code> function requires.</em></p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #000000">USC_Status</span><span style="color: #000000"> </span><span style="color: #000000">GetInfoSize</span><span style="color: #000000">(</span><span style="color: #0000ff">int</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">pSize</span><span style="color: #000000">);</span></tt></pre></div></div>
<hr />
</div>
<div class="sect2">
<h3 id="_getinfo_4">GetInfo</h3>
<div class="paragraph"><p><em>Informs about algorithm features and instance status.</em></p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #000000">USC_Status</span><span style="color: #000000"> </span><span style="color: #000000">GetInfo</span><span style="color: #000000">(</span><span style="color: #000000">USC_Handle</span><span style="color: #000000"> handle</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #000000">USC_FilterInfo</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">pInfo</span><span style="color: #000000">);</span></tt></pre></div></div>
<hr />
</div>
<div class="sect2">
<h3 id="_numalloc_4">NumAlloc</h3>
<div class="paragraph"><p><em>Gets the number of memory blocks needed for the algorithm instance.</em></p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #000000">USC_Status</span><span style="color: #000000"> </span><span style="color: #000000">NumAlloc</span><span style="color: #000000">(</span><span style="color: #0000ff">const</span><span style="color: #000000"> </span><span style="color: #000000">USC_FilterOption</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">options</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #0000ff">int</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">nbanks</span><span style="color: #000000">);</span></tt></pre></div></div>
<hr />
</div>
<div class="sect2">
<h3 id="_memalloc_4">MemAlloc</h3>
<div class="paragraph"><p><em>Gets the sizes of the memory blocks required for the algorithm instance.</em></p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #000000">USC_Status</span><span style="color: #000000"> </span><span style="color: #000000">MemAlloc</span><span style="color: #000000">(</span><span style="color: #0000ff">const</span><span style="color: #000000"> </span><span style="color: #000000">USC_FilterOption</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">options</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #000000">USC_MemBank</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">pBanks</span><span style="color: #000000">);</span></tt></pre></div></div>
<hr />
</div>
<div class="sect2">
<h3 id="_init_4">Init</h3>
<div class="paragraph"><p><em>Creates an algorithm instance and sets it to the initial state.</em></p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #000000">USC_Status</span><span style="color: #000000"> </span><span style="color: #000000">Init</span><span style="color: #000000">(</span><span style="color: #0000ff">const</span><span style="color: #000000"> </span><span style="color: #000000">USC_FilterOption</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">options</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #0000ff">const</span><span style="color: #000000"> </span><span style="color: #000000">USC_MemBank</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">pBanks</span><span style="color: #000000">,</span>
<span style="color: #000000">                </span><span style="color: #000000">USC_Handle</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">handle</span><span style="color: #000000">);</span></tt></pre></div></div>
<hr />
</div>
<div class="sect2">
<h3 id="_reinit_4">Reinit</h3>
<div class="paragraph"><p><em>Sets an algorithm to the initial state.</em></p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #000000">USC_Status</span><span style="color: #000000"> </span><span style="color: #000000">Reinit</span><span style="color: #000000">(</span><span style="color: #0000ff">const</span><span style="color: #000000"> </span><span style="color: #000000">USC_FilterModes</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">modes</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #000000">USC_Handle</span><span style="color: #000000"> handle</span><span style="color: #000000">);</span></tt></pre></div></div>
<hr />
</div>
<div class="sect2">
<h3 id="_control_4">Control</h3>
<div class="paragraph"><p><em>Changes the algorithm instance modes on fly</em></p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #000000">USC_Status</span><span style="color: #000000"> </span><span style="color: #000000">Control</span><span style="color: #000000">(</span><span style="color: #0000ff">const</span><span style="color: #000000"> </span><span style="color: #000000">USC_FilterModes</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">modes</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #000000">USC_Handle</span><span style="color: #000000"> handle</span><span style="color: #000000">);</span></tt></pre></div></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_filter_specific_functions">Filter-specific Functions</h2>
<div class="sectionbody">
<div class="paragraph"><p>The next table lists all USC filter-specific functions along with their short descriptions.</p></div>
<div class="tableblock" id="tab_usc_6_1">
<table rules="rows"
width="100%"
frame="void"
cellspacing="0" cellpadding="4">
<caption class="title">Table 5. USC filter-specific Functions</caption>
<col width="25%" />
<col width="75%" />
<thead>
<tr>
<th align="left" valign="top">Function Name          </th>
<th align="left" valign="top">Operation</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>SetDlyLine</code></p></td>
<td align="left" valign="top"><p class="table">Copies the pointed vector to the internal delay line.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>Filter</code></p></td>
<td align="left" valign="top"><p class="table">Filters input PCM data.</p></td>
</tr>
</tbody>
</table>
</div>
<hr />
<div class="sect2">
<h3 id="_setdlyline">SetDlyLine</h3>
<div class="paragraph"><p><em>Copies the pointed vector to the internal delay line.</em></p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
Syntax
</dt>
<dd>
</dd>
</dl></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #000000">USC_Status</span><span style="color: #000000"> </span><span style="color: #000000">SetDlyLine</span><span style="color: #000000"> </span><span style="color: #000000">(</span><span style="color: #000000">USC_Handle</span><span style="color: #000000"> handle</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #000000">Ipp8s</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">pDlyLine</span><span style="color: #000000">);</span></tt></pre></div></div>
<div class="dlist"><dl>
<dt class="hdlist1">
Parameters
</dt>
<dd>
</dd>
</dl></div>
<div class="tableblock">
<table rules="none"
width="100%"
frame="void"
cellspacing="0" cellpadding="4">
<col width="25%" />
<col width="75%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><em>handle</em></p></td>
<td align="left" valign="top"><p class="table">Algorithm instance handle. Has a USC object pointer type.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><em>pDlyLine</em></p></td>
<td align="left" valign="top"><p class="table">Pointer to the input delay line, that is a vector of type signed char and length equal to the algorithm frame size.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="dlist"><dl>
<dt class="hdlist1">
Description
</dt>
<dd>
<p>
The function copies the input vector to the internal delay line. The function requires the input data length to be not less than the
algorithm frame size. A call to this function may be skipped. In case you do not call the function, zero delay line will be used.
</p>
</dd>
<dt class="hdlist1">
Return Values
</dt>
<dd>
</dd>
</dl></div>
<div class="tableblock">
<table rules="none"
width="100%"
frame="void"
cellspacing="0" cellpadding="4">
<col width="25%" />
<col width="75%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>USC_BadDataPointer</code></p></td>
<td align="left" valign="top"><p class="table">Indicates an error when the <code>pDlyLine</code> pointer is <code>NULL</code>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>USC_InvalidHandler</code></p></td>
<td align="left" valign="top"><p class="table">Indicates an error when the handle is <code>NULL</code>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>USC_NoOperation</code></p></td>
<td align="left" valign="top"><p class="table">Indicates that the operation cannot be performed because the algorithm does not use internal delay line.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_see_also_12">See also</h5>
<div class="paragraph"><p><a href="#_signal_filter_structures_and_enumerators">Signal Filter Structures and Enumerators</a>.</p></div>
<hr />
</div>
</div>
<div class="sect2">
<h3 id="_filter">Filter</h3>
<div class="paragraph"><p><em>Filters input PCM data.</em></p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
Syntax
</dt>
<dd>
</dd>
</dl></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #000000">USC_Status</span><span style="color: #000000"> </span><span style="color: #000000">Filter</span><span style="color: #000000"> </span><span style="color: #000000">(</span><span style="color: #000000">USC_Handle</span><span style="color: #000000"> handle</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #000000">USC_PCMStream</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">pIn</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #000000">USC_PCMStream</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">pOut</span><span style="color: #000000">,</span>
<span style="color: #000000">                   </span><span style="color: #000000">USC_FrameType</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">pDecision</span><span style="color: #000000">);</span></tt></pre></div></div>
<div class="dlist"><dl>
<dt class="hdlist1">
Parameters
</dt>
<dd>
</dd>
</dl></div>
<div class="tableblock">
<table rules="none"
width="100%"
frame="void"
cellspacing="0" cellpadding="4">
<col width="25%" />
<col width="75%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><em>handle</em></p></td>
<td align="left" valign="top"><p class="table">Algorithm instance handle. Has a USC object pointer type.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><em>pIn</em></p></td>
<td align="left" valign="top"><p class="table">Pointer to the input PCM audio stream.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><em>pOut</em></p></td>
<td align="left" valign="top"><p class="table">Pointer to the output filtered PCM audio stream.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><em>pDecision</em></p></td>
<td align="left" valign="top"><p class="table">Pointer to the output frame type.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="dlist"><dl>
<dt class="hdlist1">
Description
</dt>
<dd>
<p>
The function filters the input PCM data. The function requires that pOut has size sufficient to store the filtered signal frame.
</p>
</dd>
<dt class="hdlist1">
Return Values
</dt>
<dd>
</dd>
</dl></div>
<div class="tableblock">
<table rules="none"
width="100%"
frame="void"
cellspacing="0" cellpadding="4">
<col width="25%" />
<col width="75%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>USC_BadDataPointer</code></p></td>
<td align="left" valign="top"><p class="table">Indicates an error when any of the pointers <code>pOut</code>, <code>pIn</code>, <code>pIn&#8594;pBuffer</code> or <code>pOut&#8594;pBuffer</code> is <code>NULL</code>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>USC_InvalidHandler</code></p></td>
<td align="left" valign="top"><p class="table">Indicates an error when the handle is <code>NULL</code>.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_see_also_13">See also</h5>
<div class="paragraph"><p><a href="#_structures_and_enumerators">Structures and Enumerators</a></p></div>
<div class="paragraph"><p><a href="#_signal_filter_structures_and_enumerators">Signal Filter Structures and Enumerators</a>.</p></div>
</div>
</div>
</div>
</div>
<h1 id="_tone_detector_api">Tone Detector API</h1>
<div class="paragraph"><p>This chapter describes the API of Unified Speech Component (USC) tone detectors (TDs).
USC tone detection and generation functions use base type definitions, supplied in the <strong>usc_base.h</strong> header file,
as well as TD-specific type definitions, supplied in <strong>usc_TD.h</strong>.</p></div>
<div class="paragraph"><p>All the structures and enumerators defined in the header files are described in respective subsections of the Structures and Enumerators section.</p></div>
<div class="paragraph"><p>All the USC TD functions are reentrant.</p></div>
<div class="sect1">
<h2 id="_td_function_table">TD Function Table</h2>
<div class="sectionbody">
<div class="paragraph"><p>The USC TD function table augments the USC base function table (see the "<a href="#_usc_base_function_table">USC Base Function Table</a>" section)
with two TD-specific functions:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #0000ff">typedef</span><span style="color: #000000"> </span><span style="color: #0000ff">struct</span><span style="color: #000000"> </span><span style="color: #000000">{</span>
<span style="color: #000000">    </span><span style="color: #000000">USC_stdFxns</span><span style="color: #000000"> std</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #000000">USC_Status</span><span style="color: #000000"> </span><span style="color: #000000">(*</span><span style="color: #000000">DetectTone</span><span style="color: #000000">)(</span><span style="color: #000000">USC_Handle</span><span style="color: #000000"> handle</span><span style="color: #000000">,</span>
<span style="color: #000000">            </span><span style="color: #000000">USC_PCMStream</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">pIn</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #000000">USC_ToneID</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">pDetectedToneID</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #000000">USC_Status</span><span style="color: #000000"> </span><span style="color: #000000">(*</span><span style="color: #000000">GenerateTone</span><span style="color: #000000">)(</span><span style="color: #000000">USC_Handle</span><span style="color: #000000"> handle</span><span style="color: #000000">,</span>
<span style="color: #000000">            </span><span style="color: #000000">USC_ToneID</span><span style="color: #000000"> ToneID</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #0000ff">int</span><span style="color: #000000"> volume</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #0000ff">int</span><span style="color: #000000"> durationMS</span><span style="color: #000000">,</span>
<span style="color: #000000">            </span><span style="color: #000000">USC_PCMStream</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">pOut</span><span style="color: #000000">);</span>
<span style="color: #000000">}</span><span style="color: #000000"> USC_TD_Fxns</span><span style="color: #000000">;</span></tt></pre></div></div>
</div>
</div>
<div class="sect1">
<h2 id="_td_base_functions">TD Base Functions</h2>
<div class="sectionbody">
<div class="paragraph"><p>The base (standard) functions of a USC TD algorithm are listed below along with their short description and calling syntax.
For the detailed descriptions of the USC base (standard) functions, refer to Chapter 3, "<a href="#_base_api">Base API</a>",
where the discussion focuses on the TD-specific features of a function, if any.</p></div>
<hr />
<div class="sect2">
<h3 id="_getinfosize_5">GetInfoSize</h3>
<div class="paragraph"><p><em>Gets the size of a memory buffer that the <code><a href="#_getinfo">GetInfo</a></code> function requires.</em></p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #000000">USC_Status</span><span style="color: #000000"> </span><span style="color: #000000">GetInfoSize</span><span style="color: #000000">(</span><span style="color: #0000ff">int</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">pSize</span><span style="color: #000000">);</span></tt></pre></div></div>
<hr />
</div>
<div class="sect2">
<h3 id="_getinfo_5">GetInfo</h3>
<div class="paragraph"><p><em>Informs about algorithm features and instance status.</em></p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #000000">USC_Status</span><span style="color: #000000"> </span><span style="color: #000000">GetInfo</span><span style="color: #000000">(</span><span style="color: #000000">USC_Handle</span><span style="color: #000000"> handle</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #000000">USC_TD_Info</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">pInfo</span><span style="color: #000000">);</span></tt></pre></div></div>
<hr />
</div>
<div class="sect2">
<h3 id="_numalloc_5">NumAlloc</h3>
<div class="paragraph"><p><em>Gets the number of memory blocks needed for the algorithm instance.</em></p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #000000">USC_Status</span><span style="color: #000000"> </span><span style="color: #000000">NumAlloc</span><span style="color: #000000">(</span><span style="color: #0000ff">const</span><span style="color: #000000"> </span><span style="color: #000000">USC_TD_Option</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">options</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #0000ff">int</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">nbanks</span><span style="color: #000000">);</span></tt></pre></div></div>
<hr />
</div>
<div class="sect2">
<h3 id="_memalloc_5">MemAlloc</h3>
<div class="paragraph"><p><em>Gets the sizes of the memory blocks required for the algorithm instance.</em></p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #000000">USC_Status</span><span style="color: #000000"> </span><span style="color: #000000">MemAlloc</span><span style="color: #000000">(</span><span style="color: #0000ff">const</span><span style="color: #000000"> </span><span style="color: #000000">USC_TD_Option</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">options</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #000000">USC_MemBank</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">pBanks</span><span style="color: #000000">);</span></tt></pre></div></div>
<hr />
</div>
<div class="sect2">
<h3 id="_init_5">Init</h3>
<div class="paragraph"><p><em>Creates an algorithm instance and sets it to the initial state</em></p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #000000">USC_Status</span><span style="color: #000000"> </span><span style="color: #000000">Init</span><span style="color: #000000">(</span><span style="color: #0000ff">const</span><span style="color: #000000"> </span><span style="color: #000000">USC_TD_Option</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">options</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #0000ff">const</span><span style="color: #000000"> </span><span style="color: #000000">USC_MemBank</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">pBanks</span><span style="color: #000000">,</span>
<span style="color: #000000">                                                </span><span style="color: #000000">USC_Handle</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">handle</span><span style="color: #000000">);</span></tt></pre></div></div>
<hr />
</div>
<div class="sect2">
<h3 id="_reinit_5">Reinit</h3>
<div class="paragraph"><p><em>Sets an algorithm to the initial state.</em></p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #000000">USC_Status</span><span style="color: #000000"> </span><span style="color: #000000">Reinit</span><span style="color: #000000">(</span><span style="color: #0000ff">const</span><span style="color: #000000"> </span><span style="color: #000000">USC_TD_Modes</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">modes</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #000000">USC_Handle</span><span style="color: #000000"> handle</span><span style="color: #000000">);</span></tt></pre></div></div>
<hr />
</div>
<div class="sect2">
<h3 id="_control_5">Control</h3>
<div class="paragraph"><p><em>Changes the algorithm instance modes on fly.</em></p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #000000">USC_Status</span><span style="color: #000000"> </span><span style="color: #000000">Control</span><span style="color: #000000">(</span><span style="color: #0000ff">const</span><span style="color: #000000"> </span><span style="color: #000000">USC_TD_Modes</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">modes</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #000000">USC_Handle</span><span style="color: #000000"> handle</span><span style="color: #000000">);</span></tt></pre></div></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_td_specific_functions">TD-specific Functions</h2>
<div class="sectionbody">
<div class="paragraph"><p>The next table lists all USC TD-specific functions along with their short descriptions.</p></div>
<div class="tableblock" id="tab_usc_7_1">
<table rules="rows"
width="100%"
frame="void"
cellspacing="0" cellpadding="4">
<caption class="title">Table 6. USC TD-specific Functions</caption>
<col width="25%" />
<col width="75%" />
<thead>
<tr>
<th align="left" valign="top">Function Name          </th>
<th align="left" valign="top">Operation</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code><a href="#_detecttone">DetectTone</a></code></p></td>
<td align="left" valign="top"><p class="table">Detects supported tones in a given input PCM audio.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code><a href="#_generatetone">GenerateTone</a></code></p></td>
<td align="left" valign="top"><p class="table">Generates a tone of a given ID and volume.</p></td>
</tr>
</tbody>
</table>
</div>
<hr />
<div class="sect2">
<h3 id="_detecttone">DetectTone</h3>
<div class="paragraph"><p><em>Detects supported tones in a given input PCM audio.</em></p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
Syntax
</dt>
<dd>
</dd>
</dl></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #000000">USC_Status</span><span style="color: #000000"> </span><span style="color: #000000">DetectTone</span><span style="color: #000000"> </span><span style="color: #000000">(</span><span style="color: #000000">USC_Handle</span><span style="color: #000000"> handle</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #000000">USC_PCMStream</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">pIn</span><span style="color: #000000">,</span>
<span style="color: #000000">                       </span><span style="color: #000000">USC_ToneID</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">pDetectedToneID</span><span style="color: #000000">);</span></tt></pre></div></div>
<div class="dlist"><dl>
<dt class="hdlist1">
Parameters
</dt>
<dd>
</dd>
</dl></div>
<div class="tableblock">
<table rules="none"
width="100%"
frame="void"
cellspacing="0" cellpadding="4">
<col width="25%" />
<col width="75%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><em>handle</em></p></td>
<td align="left" valign="top"><p class="table">Algorithm instance handle. Has a USC object pointer type.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><em>pIn</em></p></td>
<td align="left" valign="top"><p class="table">Pointer to the input PCM audio stream.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><em>pDetectedToneID</em></p></td>
<td align="left" valign="top"><p class="table">Pointer to the output tone ID.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="dlist"><dl>
<dt class="hdlist1">
Description
</dt>
<dd>
<p>
The function detects supported tones in a given input PCM audio and forms the output tone ID.
If no tone was detected in the input PCM stream, the function returns <code>USC_NoTones</code> value in <code>pDetectedToneID</code>.<br />
<br />
Tone detection occurs when necessary signal length is reached. The function detects one tone in a call.
To detect all tones in the input PCM audio, keep calling the function while tones are detected.
</p>
</dd>
<dt class="hdlist1">
Return Values
</dt>
<dd>
</dd>
</dl></div>
<div class="tableblock">
<table rules="none"
width="100%"
frame="void"
cellspacing="0" cellpadding="4">
<col width="25%" />
<col width="75%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>USC_BadDataPointer</code></p></td>
<td align="left" valign="top"><p class="table">Indicates an error whenany of the pointers <code>pIn</code>, <code>pDetectedToneID</code>, or <code>handle</code> is <code>NULL</code>.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_see_also_14">See also</h5>
<div class="paragraph"><p><a href="#_structures_and_enumerators">Structures and Enumerators</a></p></div>
<div class="paragraph"><p><a href="#_tone_detector_structures_and_enumerators">Tone Detector Structures and Enumerators</a>.</p></div>
<hr />
</div>
</div>
<div class="sect2">
<h3 id="_generatetone">GenerateTone</h3>
<div class="paragraph"><p><em>Generates a tone of a given ID and volume.</em></p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
Syntax
</dt>
<dd>
</dd>
</dl></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #000000">USC_Status</span><span style="color: #000000"> </span><span style="color: #000000">GenerateTone</span><span style="color: #000000"> </span><span style="color: #000000">(</span><span style="color: #000000">USC_Handle</span><span style="color: #000000"> handle</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #000000">USC_ToneID</span><span style="color: #000000"> ToneID</span><span style="color: #000000">,</span>
<span style="color: #000000">                         </span><span style="color: #0000ff">int</span><span style="color: #000000"> volume</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #0000ff">int</span><span style="color: #000000"> durationMS</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #000000">USC_PCMStream</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">pOut</span><span style="color: #000000">);</span></tt></pre></div></div>
<div class="dlist"><dl>
<dt class="hdlist1">
Parameters
</dt>
<dd>
</dd>
</dl></div>
<div class="tableblock">
<table rules="none"
width="100%"
frame="void"
cellspacing="0" cellpadding="4">
<col width="25%" />
<col width="75%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><em>handle</em></p></td>
<td align="left" valign="top"><p class="table">Algorithm instance handle. Has a USC object pointer type.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><em>ToneID</em></p></td>
<td align="left" valign="top"><p class="table">Tone ID to generate.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><em>volume</em></p></td>
<td align="left" valign="top"><p class="table">The power level of the tone after dropping the sign. A positive value measured in dBm0 and varying from 0 to 63.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><em>durationMS</em></p></td>
<td align="left" valign="top"><p class="table">Length of tone in milliseconds.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><em>pOut</em></p></td>
<td align="left" valign="top"><p class="table">Pointer to the output PCM audio stream with generated tone.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="dlist"><dl>
<dt class="hdlist1">
Description
</dt>
<dd>
<p>
The function generates tone of a given tone ID and volume and forms the output PCM audio frame.
The function requires <code>pOut</code> to have size sufficient to store <code>durationMS</code> milliseconds of generated signal.
If tone is not supported, then the status <code>USC_NoOperation</code> is returned and no output data produced.
</p>
</dd>
</dl></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">It is the responsibility of the application to pass to the function the length sufficient for the tone to be valid.</td>
</tr></table>
</div>
<div class="dlist"><dl>
<dt class="hdlist1">
Return Values
</dt>
<dd>
</dd>
</dl></div>
<div class="tableblock">
<table rules="none"
width="100%"
frame="void"
cellspacing="0" cellpadding="4">
<col width="25%" />
<col width="75%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table"><code>USC_BadDataPointer</code></p></td>
<td align="left" valign="top"><p class="table">Indicates an error when the pOut or handle pointer is <code>NULL</code>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>USC_BadDataRange</code></p></td>
<td align="left" valign="top"><p class="table">Indicates an error when <code>volume</code> or <code>durationMS</code> parameters are out of range.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table"><code>USC_NoOperation</code></p></td>
<td align="left" valign="top"><p class="table">See the <em>Description</em> section above.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_see_also_15">See also</h5>
<div class="paragraph"><p><a href="#_structures_and_enumerators">Structures and Enumerators</a></p></div>
<div class="paragraph"><p><a href="#_tone_detector_structures_and_enumerators">Tone Detector Structures and Enumerators</a>.</p></div>
</div>
</div>
</div>
</div>
<h1 id="_appendix_a_code_examples">Appendix A:Code Examples</h1>
<div class="paragraph"><p>This chapter gives Unified Speech Component interface usage examples.</p></div>
<div class="paragraph"><p>The C code below demonstrates how a raw PCM file can be compressed and decompressed by a USC codec.</p></div>
<div class="exampleblock">
<div class="title">Example 1. Processing a Raw PCM with USC Codec</div>
<div class="content">
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008000">/*</span>
<span style="color: #008000">Some declarations and definitions</span>
<span style="color: #008000">*/</span>

<span style="color: #0000ff">#include</span><span style="color: #000000"> </span><span style="color: #A31515">"usc.h"</span>
<span style="color: #0000ff">#include</span><span style="color: #000000"> </span><span style="color: #A31515">&lt;stdlib.h&gt;</span>
<span style="color: #0000ff">#define</span><span style="color: #000000"> PCMDATA_LEN </span><span style="color: #000000">10000</span><span style="color: #000000"> </span><span style="color: #008000">/* length of the input PCM data */</span>
<span style="color: #0000ff">static</span><span style="color: #000000"> </span><span style="color: #0000ff">int</span><span style="color: #000000"> lenSrc </span><span style="color: #000000">=</span><span style="color: #000000"> PCMDATA_LEN</span><span style="color: #000000">;</span>
<span style="color: #0000ff">static</span><span style="color: #000000"> </span><span style="color: #0000ff">unsigned</span><span style="color: #000000"> </span><span style="color: #0000ff">char</span><span style="color: #000000"> foo</span><span style="color: #000000">[</span><span style="color: #000000">PCMDATA_LEN</span><span style="color: #000000">]=</span><span style="color: #000000">{</span><span style="color: #000000">0</span><span style="color: #000000">}</span><span style="color: #000000">;</span><span style="color: #000000"> </span><span style="color: #008000">/* foo: supposed to be filled</span>
<span style="color: #008000">                                              with input PCM data */</span>
<span style="color: #0000ff">static</span><span style="color: #000000"> </span><span style="color: #0000ff">unsigned</span><span style="color: #000000"> </span><span style="color: #0000ff">char</span><span style="color: #000000"> fooUncompressed</span><span style="color: #000000">[</span><span style="color: #000000">PCMDATA_LEN</span><span style="color: #000000">];</span><span style="color: #000000"> </span><span style="color: #008000">/* uncompressed PCM</span>
<span style="color: #008000">after encoding and decoding in a chain */</span>
<span style="color: #0000ff">static</span><span style="color: #000000"> </span><span style="color: #0000ff">char</span><span style="color: #000000">*</span><span style="color: #000000"> outputBuffer </span><span style="color: #000000">=</span><span style="color: #000000"> NULL</span><span style="color: #000000">;</span>
<span style="color: #0000ff">extern</span><span style="color: #000000"> </span><span style="color: #000000">USC_Fxns</span><span style="color: #000000"> USC_G729I_Fxns</span><span style="color: #000000">;</span><span style="color: #000000"> </span><span style="color: #008000">/* For example, linking to the G729I</span>
<span style="color: #008000">codec */</span>
<span style="color: #000000">USC_Fxns</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">USC_Gxxx_Fnxs </span><span style="color: #000000">=</span><span style="color: #000000"> </span><span style="color: #000000">&amp;</span><span style="color: #000000">USC_G729I_Fxns</span><span style="color: #000000">;</span>


<span style="color: #008000">/*</span>
<span style="color: #008000">main program: foo data encoding &amp; decoding</span>
<span style="color: #008000">*/</span>

<span style="color: #0000ff">int</span><span style="color: #000000"> </span><span style="color: #000000">main</span><span style="color: #000000">(</span><span style="color: #0000ff">int</span><span style="color: #000000"> argc</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #0000ff">char</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">argv</span><span style="color: #000000">[])</span><span style="color: #000000">{</span>
<span style="color: #008000">/* Local variables */</span>

<span style="color: #000000">    </span><span style="color: #000000">USC_CodecInfo</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">pInfo</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #0000ff">int</span><span style="color: #000000"> infoSize</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #0000ff">int</span><span style="color: #000000"> i</span><span style="color: #000000">,</span><span style="color: #000000"> nbanksEnc</span><span style="color: #000000">,</span><span style="color: #000000">nbanksDec</span><span style="color: #000000">;</span>
<span style="color: #000000">    USC_MemBank</span><span style="color: #000000">*</span><span style="color: #000000"> pBanksEnc</span><span style="color: #000000">;</span>
<span style="color: #000000">    USC_MemBank</span><span style="color: #000000">*</span><span style="color: #000000"> pBanksDec</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #000000">USC_Handle</span><span style="color: #000000"> hUSCEncoder</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #000000">USC_Handle</span><span style="color: #000000"> hUSCDecoder</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #0000ff">int</span><span style="color: #000000"> lenDst</span><span style="color: #000000">,</span><span style="color: #000000"> bytesRemaining</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #0000ff">char</span><span style="color: #000000">*</span><span style="color: #000000"> tmpInputBuff</span><span style="color: #000000">=</span><span style="color: #000000">NULL</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #0000ff">char</span><span style="color: #000000">*</span><span style="color: #000000"> tmpOutputBuff</span><span style="color: #000000">=</span><span style="color: #000000">NULL</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #0000ff">char</span><span style="color: #000000">*</span><span style="color: #000000"> tmpOutputPCMBuff</span><span style="color: #000000">=</span><span style="color: #000000">NULL</span><span style="color: #000000">;</span>

<span style="color: #000000">    </span><span style="color: #008000">/* Get the size of the Gxxx codec status structure */</span>
<span style="color: #000000">    </span><span style="color: #0000ff">if</span><span style="color: #000000">(</span><span style="color: #000000">USC_NoError </span><span style="color: #000000">!=</span><span style="color: #000000"> USC_Gxxx_Fnxs</span><span style="color: #000000">-&gt;</span><span style="color: #000000">std</span><span style="color: #000000">.</span><span style="color: #000000">GetInfoSize</span><span style="color: #000000">(&amp;</span><span style="color: #000000">infoSize</span><span style="color: #000000">))</span>
<span style="color: #000000">        </span><span style="color: #000000">exit</span><span style="color: #000000">(</span><span style="color: #000000">1</span><span style="color: #000000">);</span>

<span style="color: #000000">    pInfo </span><span style="color: #000000">=</span><span style="color: #000000"> </span><span style="color: #000000">(</span><span style="color: #000000">USC_CodecInfo </span><span style="color: #000000">*)</span><span style="color: #000000">malloc</span><span style="color: #000000">(</span><span style="color: #000000">infoSize</span><span style="color: #000000">);</span>

<span style="color: #000000">    </span><span style="color: #008000">/* Get the Gxxx codec status */</span>
<span style="color: #000000">     </span><span style="color: #0000ff">if</span><span style="color: #000000">(</span><span style="color: #000000">USC_NoError </span><span style="color: #000000">!=</span><span style="color: #000000"> USC_Gxxx_Fnxs</span><span style="color: #000000">-&gt;</span><span style="color: #000000">std</span><span style="color: #000000">.</span><span style="color: #000000">GetInfo</span><span style="color: #000000">((</span><span style="color: #000000">USC_Handle</span><span style="color: #000000">)</span><span style="color: #000000">NULL</span><span style="color: #000000">,</span><span style="color: #000000"> pInfo</span><span style="color: #000000">))</span>
<span style="color: #000000">        </span><span style="color: #000000">exit</span><span style="color: #000000">(</span><span style="color: #000000">1</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #008000">/*</span>
<span style="color: #008000">    creation of an encoder instance</span>
<span style="color: #008000">    */</span>
<span style="color: #000000">    pInfo</span><span style="color: #000000">-&gt;</span><span style="color: #000000">params</span><span style="color: #000000">.</span><span style="color: #000000">direction </span><span style="color: #000000">=</span><span style="color: #000000"> USC_ENCODE</span><span style="color: #000000">;</span><span style="color: #000000"> </span><span style="color: #008000">/* Direction: encode */</span>
<span style="color: #000000">    pInfo</span><span style="color: #000000">-&gt;</span><span style="color: #000000">params</span><span style="color: #000000">.</span><span style="color: #000000">modes</span><span style="color: #000000">.</span><span style="color: #000000">vad </span><span style="color: #000000">=</span><span style="color: #000000"> </span><span style="color: #000000">0</span><span style="color: #000000">;</span><span style="color: #000000"> </span><span style="color: #008000">/* Suppress silence compression */</span>
<span style="color: #000000">    pInfo</span><span style="color: #000000">-&gt;</span><span style="color: #000000">params</span><span style="color: #000000">.</span><span style="color: #000000">law </span><span style="color: #000000">=</span><span style="color: #000000"> </span><span style="color: #000000">0</span><span style="color: #000000">;</span><span style="color: #000000"> </span><span style="color: #008000">/* Linear PCM input */</span>
<span style="color: #000000">    pInfo</span><span style="color: #000000">-&gt;</span><span style="color: #000000">params</span><span style="color: #000000">.</span><span style="color: #000000">modes</span><span style="color: #000000">.</span><span style="color: #000000">bitrate </span><span style="color: #000000">=</span>
<span style="color: #000000">    pInfo</span><span style="color: #000000">-&gt;</span><span style="color: #000000">pRateTbl</span><span style="color: #000000">[</span><span style="color: #000000">pInfo</span><span style="color: #000000">-&gt;</span><span style="color: #000000">nRates</span><span style="color: #000000">-</span><span style="color: #000000">1</span><span style="color: #000000">].</span><span style="color: #000000">bitrate</span><span style="color: #000000">;</span><span style="color: #000000"> </span><span style="color: #008000">/*For example, set</span>
<span style="color: #008000">                                            the highest bitrate*/</span>

<span style="color: #000000">    </span><span style="color: #008000">/* Determine how many memory blocks the encoder needs */</span>
<span style="color: #000000">    </span><span style="color: #0000ff">if</span><span style="color: #000000">(</span><span style="color: #000000">USC_NoError </span><span style="color: #000000">!=</span><span style="color: #000000"> USC_Gxxx_Fnxs</span><span style="color: #000000">-&gt;</span><span style="color: #000000">std</span><span style="color: #000000">.</span><span style="color: #000000">NumAlloc</span><span style="color: #000000">(&amp;</span><span style="color: #000000">pInfo</span><span style="color: #000000">-&gt;</span><span style="color: #000000">params</span><span style="color: #000000">,</span>
<span style="color: #000000">                </span><span style="color: #000000">&amp;</span><span style="color: #000000">nbanksEnc</span><span style="color: #000000">))</span>
<span style="color: #000000">        </span><span style="color: #000000">exit</span><span style="color: #000000">(</span><span style="color: #000000">2</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #008000">/* allocate memory for the memory bank table */</span>
<span style="color: #000000">    pBanksEnc </span><span style="color: #000000">=</span><span style="color: #000000"> </span><span style="color: #000000">(</span><span style="color: #000000">USC_MemBank</span><span style="color: #000000">*)</span><span style="color: #000000">malloc</span><span style="color: #000000">(</span><span style="color: #0000ff">sizeof</span><span style="color: #000000">(</span><span style="color: #000000">USC_MemBank</span><span style="color: #000000">)*</span><span style="color: #000000">nbanksEnc</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #008000">/* Determine the size of each block */</span>
<span style="color: #000000">    </span><span style="color: #0000ff">if</span><span style="color: #000000">(</span><span style="color: #000000">USC_NoError </span><span style="color: #000000">!=</span><span style="color: #000000"> USC_Gxxx_Fnxs</span><span style="color: #000000">-&gt;</span><span style="color: #000000">std</span><span style="color: #000000">.</span><span style="color: #000000">MemAlloc</span><span style="color: #000000">(&amp;</span><span style="color: #000000">pInfo</span><span style="color: #000000">-&gt;</span><span style="color: #000000">params</span><span style="color: #000000">,</span><span style="color: #000000"> pBanksEnc</span><span style="color: #000000">))</span>
<span style="color: #000000">        </span><span style="color: #000000">exit</span><span style="color: #000000">(</span><span style="color: #000000">3</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #008000">/* allocate memory for each block */</span>
<span style="color: #000000">    </span><span style="color: #0000ff">for</span><span style="color: #000000">(</span><span style="color: #000000">i</span><span style="color: #000000">=</span><span style="color: #000000">0</span><span style="color: #000000">;</span><span style="color: #000000"> i</span><span style="color: #000000">&lt;</span><span style="color: #000000">nbanksEnc</span><span style="color: #000000">;</span><span style="color: #000000"> i</span><span style="color: #000000">++)</span><span style="color: #000000"> </span><span style="color: #000000">{</span>
<span style="color: #000000">        pBanksEnc</span><span style="color: #000000">[</span><span style="color: #000000">i</span><span style="color: #000000">].</span><span style="color: #000000">pMem </span><span style="color: #000000">=</span><span style="color: #000000"> </span><span style="color: #000000">(</span><span style="color: #0000ff">unsigned</span><span style="color: #000000"> </span><span style="color: #0000ff">char</span><span style="color: #000000">*)</span><span style="color: #000000">malloc</span><span style="color: #000000">(</span><span style="color: #000000">pBanksEnc</span><span style="color: #000000">[</span><span style="color: #000000">i</span><span style="color: #000000">].</span><span style="color: #000000">nbytes</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #000000">}</span>
<span style="color: #000000">    </span><span style="color: #008000">/* Create the encoder instance */</span>
<span style="color: #000000">    </span><span style="color: #0000ff">if</span><span style="color: #000000">(</span><span style="color: #000000">USC_NoError </span><span style="color: #000000">!=</span><span style="color: #000000"> USC_Gxxx_Fnxs</span><span style="color: #000000">-&gt;</span><span style="color: #000000">std</span><span style="color: #000000">.</span><span style="color: #000000">Init</span><span style="color: #000000">(&amp;</span><span style="color: #000000">pInfo</span><span style="color: #000000">-&gt;</span><span style="color: #000000">params</span><span style="color: #000000">,</span><span style="color: #000000"> pBanksEnc</span><span style="color: #000000">,</span>
<span style="color: #000000">                </span><span style="color: #000000">&amp;</span><span style="color: #000000">hUSCEncoder</span><span style="color: #000000">))</span>
<span style="color: #000000">        </span><span style="color: #000000">exit</span><span style="color: #000000">(</span><span style="color: #000000">4</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #008000">/* Get the status of the encoder instance */</span>
<span style="color: #000000">    </span><span style="color: #0000ff">if</span><span style="color: #000000">(</span><span style="color: #000000">USC_NoError </span><span style="color: #000000">!=</span><span style="color: #000000"> USC_Gxxx_Fnxs</span><span style="color: #000000">-&gt;</span><span style="color: #000000">std</span><span style="color: #000000">.</span><span style="color: #000000">GetInfo</span><span style="color: #000000">(</span><span style="color: #000000">hUSCEncoder</span><span style="color: #000000">,</span><span style="color: #000000"> pInfo</span><span style="color: #000000">))</span>
<span style="color: #000000">        </span><span style="color: #000000">exit</span><span style="color: #000000">(</span><span style="color: #000000">1</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #008000">/* Determine the size of the maximum output bitstream */</span>
<span style="color: #000000">    </span><span style="color: #0000ff">if</span><span style="color: #000000">(</span><span style="color: #000000">USC_NoError </span><span style="color: #000000">!=</span>
<span style="color: #000000">        USC_Gxxx_Fnxs</span><span style="color: #000000">-&gt;</span><span style="color: #000000">GetOutStreamSize</span><span style="color: #000000">(&amp;</span><span style="color: #000000">pInfo</span><span style="color: #000000">-&gt;</span><span style="color: #000000">params</span><span style="color: #000000">,</span>
<span style="color: #000000">                    pInfo</span><span style="color: #000000">-&gt;</span><span style="color: #000000">params</span><span style="color: #000000">.</span><span style="color: #000000">modes</span><span style="color: #000000">.</span><span style="color: #000000">bitrate</span><span style="color: #000000">,</span><span style="color: #000000"> lenSrc</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #000000">&amp;</span><span style="color: #000000">lenDst</span><span style="color: #000000">))</span>
<span style="color: #000000">        </span><span style="color: #000000">exit</span><span style="color: #000000">(</span><span style="color: #000000">5</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #008000">/* allocate the output bitstream buffer */</span>
<span style="color: #000000">    outputBuffer </span><span style="color: #000000">=</span><span style="color: #000000"> </span><span style="color: #000000">(</span><span style="color: #0000ff">char</span><span style="color: #000000">*)</span><span style="color: #000000">malloc</span><span style="color: #000000">(</span><span style="color: #000000">lenDst</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #008000">/*</span>
<span style="color: #008000">    Creation of the decoder instance</span>
<span style="color: #008000">    */</span>
<span style="color: #000000">    pInfo</span><span style="color: #000000">-&gt;</span><span style="color: #000000">params</span><span style="color: #000000">.</span><span style="color: #000000">direction </span><span style="color: #000000">=</span><span style="color: #000000"> USC_DECODE</span><span style="color: #000000">;</span><span style="color: #000000"> </span><span style="color: #008000">/* Direction: decode */</span>
<span style="color: #000000">    </span><span style="color: #008000">/* Determine how many memory blocks the decoder needs */</span>
<span style="color: #000000">    </span><span style="color: #0000ff">if</span><span style="color: #000000">(</span><span style="color: #000000">USC_NoError </span><span style="color: #000000">!=</span><span style="color: #000000"> USC_Gxxx_Fnxs</span><span style="color: #000000">-&gt;</span><span style="color: #000000">std</span><span style="color: #000000">.</span><span style="color: #000000">NumAlloc</span><span style="color: #000000">(&amp;</span><span style="color: #000000">pInfo</span><span style="color: #000000">-&gt;</span><span style="color: #000000">params</span><span style="color: #000000">,</span>
<span style="color: #000000">                    </span><span style="color: #000000">&amp;</span><span style="color: #000000">nbanksDec</span><span style="color: #000000">))</span>
<span style="color: #000000">        </span><span style="color: #000000">exit</span><span style="color: #000000">(</span><span style="color: #000000">2</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #008000">/* allocate memory for the memory bank table */</span>
<span style="color: #000000">    pBanksDec </span><span style="color: #000000">=</span><span style="color: #000000"> </span><span style="color: #000000">(</span><span style="color: #000000">USC_MemBank</span><span style="color: #000000">*)</span><span style="color: #000000">malloc</span><span style="color: #000000">(</span><span style="color: #0000ff">sizeof</span><span style="color: #000000">(</span><span style="color: #000000">USC_MemBank</span><span style="color: #000000">)*</span><span style="color: #000000">nbanksDec</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #008000">/* Determine the size of each block */</span>
<span style="color: #000000">    </span><span style="color: #0000ff">if</span><span style="color: #000000">(</span><span style="color: #000000">USC_NoError </span><span style="color: #000000">!=</span><span style="color: #000000"> USC_Gxxx_Fnxs</span><span style="color: #000000">-&gt;</span><span style="color: #000000">std</span><span style="color: #000000">.</span><span style="color: #000000">MemAlloc</span><span style="color: #000000">(&amp;</span><span style="color: #000000">pInfo</span><span style="color: #000000">-&gt;</span><span style="color: #000000">params</span><span style="color: #000000">,</span><span style="color: #000000"> pBanksDec</span><span style="color: #000000">))</span>
<span style="color: #000000">        </span><span style="color: #000000">exit</span><span style="color: #000000">(</span><span style="color: #000000">3</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #008000">/* allocate memory for each block */</span>
<span style="color: #000000">    </span><span style="color: #0000ff">for</span><span style="color: #000000">(</span><span style="color: #000000">i</span><span style="color: #000000">=</span><span style="color: #000000">0</span><span style="color: #000000">;</span><span style="color: #000000"> i</span><span style="color: #000000">&lt;</span><span style="color: #000000">nbanksDec</span><span style="color: #000000">;</span><span style="color: #000000"> i</span><span style="color: #000000">++)</span><span style="color: #000000"> </span><span style="color: #000000">{</span>
<span style="color: #000000">        pBanksDec</span><span style="color: #000000">[</span><span style="color: #000000">i</span><span style="color: #000000">].</span><span style="color: #000000">pMem </span><span style="color: #000000">=</span><span style="color: #000000"> </span><span style="color: #000000">(</span><span style="color: #0000ff">unsigned</span><span style="color: #000000"> </span><span style="color: #0000ff">char</span><span style="color: #000000">*)</span><span style="color: #000000">malloc</span><span style="color: #000000">(</span><span style="color: #000000">pBanksDec</span><span style="color: #000000">[</span><span style="color: #000000">i</span><span style="color: #000000">].</span><span style="color: #000000">nbytes</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #000000">}</span>
<span style="color: #000000">    </span><span style="color: #008000">/* Create the decoder instance */</span>
<span style="color: #000000">    </span><span style="color: #0000ff">if</span><span style="color: #000000">(</span><span style="color: #000000">USC_NoError </span><span style="color: #000000">!=</span><span style="color: #000000"> USC_Gxxx_Fnxs</span><span style="color: #000000">-&gt;</span><span style="color: #000000">std</span><span style="color: #000000">.</span><span style="color: #000000">Init</span><span style="color: #000000">(&amp;</span><span style="color: #000000">pInfo</span><span style="color: #000000">-&gt;</span><span style="color: #000000">params</span><span style="color: #000000">,</span><span style="color: #000000"> pBanksDec</span><span style="color: #000000">,</span>
<span style="color: #000000">                    </span><span style="color: #000000">&amp;</span><span style="color: #000000">hUSCDecoder</span><span style="color: #000000">))</span>
<span style="color: #000000">        </span><span style="color: #000000">exit</span><span style="color: #000000">(</span><span style="color: #000000">4</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #008000">/*</span>
<span style="color: #008000">    Ready to encode and decode.</span>

<span style="color: #008000">    Now set initial data pointers.</span>
<span style="color: #008000">    */</span>
<span style="color: #000000">    bytesRemaining </span><span style="color: #000000">=</span><span style="color: #000000"> lenSrc</span><span style="color: #000000">;</span>
<span style="color: #000000">    tmpInputBuff </span><span style="color: #000000">=</span><span style="color: #000000"> foo</span><span style="color: #000000">;</span>
<span style="color: #000000">    tmpOutputBuff </span><span style="color: #000000">=</span><span style="color: #000000"> outputBuffer</span><span style="color: #000000">;</span>
<span style="color: #000000">    tmpOutputPCMBuff </span><span style="color: #000000">=</span><span style="color: #000000"> fooUncompressed</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #008000">/* Main encoding &amp; decoding loop */</span>
<span style="color: #000000">    </span><span style="color: #0000ff">while</span><span style="color: #000000">(</span><span style="color: #000000">bytesRemaining </span><span style="color: #000000">&gt;=</span><span style="color: #000000"> pInfo</span><span style="color: #000000">-&gt;</span><span style="color: #000000">params</span><span style="color: #000000">.</span><span style="color: #000000">framesize</span><span style="color: #000000">)</span><span style="color: #000000"> </span><span style="color: #000000">{</span>
<span style="color: #000000">        </span><span style="color: #000000">USC_PCMStream</span><span style="color: #000000"> in</span><span style="color: #000000">,</span><span style="color: #000000"> outpcm</span><span style="color: #000000">;</span>
<span style="color: #000000">        </span><span style="color: #000000">USC_Bitstream</span><span style="color: #000000"> out</span><span style="color: #000000">;</span>
<span style="color: #000000">        </span><span style="color: #008000">/* Set input stream parameters */</span>
<span style="color: #000000">        in</span><span style="color: #000000">.</span><span style="color: #000000">bitrate </span><span style="color: #000000">=</span><span style="color: #000000"> pInfo</span><span style="color: #000000">-&gt;</span><span style="color: #000000">params</span><span style="color: #000000">.</span><span style="color: #000000">modes</span><span style="color: #000000">.</span><span style="color: #000000">bitrate</span><span style="color: #000000">;</span>
<span style="color: #000000">        in</span><span style="color: #000000">.</span><span style="color: #000000">nbytes </span><span style="color: #000000">=</span><span style="color: #000000"> bytesRemaining</span><span style="color: #000000">;</span>
<span style="color: #000000">        in</span><span style="color: #000000">.</span><span style="color: #000000">pBuffer </span><span style="color: #000000">=</span><span style="color: #000000"> tmpInputBuff</span><span style="color: #000000">;</span>
<span style="color: #000000">        in</span><span style="color: #000000">.</span><span style="color: #000000">pcmType</span><span style="color: #000000">.</span><span style="color: #000000">bitPerSample </span><span style="color: #000000">=</span><span style="color: #000000"> pInfo</span><span style="color: #000000">-&gt;</span><span style="color: #000000">params</span><span style="color: #000000">.</span><span style="color: #000000">pcmType</span><span style="color: #000000">.</span><span style="color: #000000">bitPerSample</span><span style="color: #000000">;</span>
<span style="color: #000000">        in</span><span style="color: #000000">.</span><span style="color: #000000">pcmType</span><span style="color: #000000">.</span><span style="color: #000000">nChannels </span><span style="color: #000000">=</span><span style="color: #000000"> pInfo</span><span style="color: #000000">-&gt;</span><span style="color: #000000">params</span><span style="color: #000000">.</span><span style="color: #000000">pcmType</span><span style="color: #000000">.</span><span style="color: #000000">nChannels</span><span style="color: #000000">;</span>
<span style="color: #000000">        in</span><span style="color: #000000">.</span><span style="color: #000000">pcmType</span><span style="color: #000000">.</span><span style="color: #000000">sample_frequency </span><span style="color: #000000">=</span><span style="color: #000000"> pInfo</span><span style="color: #000000">-&gt;</span><span style="color: #000000">params</span><span style="color: #000000">.</span><span style="color: #000000">pcmType</span><span style="color: #000000">.</span><span style="color: #000000">sample_frequency</span><span style="color: #000000">;</span>
<span style="color: #000000">        </span><span style="color: #008000">/* Set the output buffer */</span>
<span style="color: #000000">        out</span><span style="color: #000000">.</span><span style="color: #000000">pBuffer </span><span style="color: #000000">=</span><span style="color: #000000"> tmpOutputBuff</span><span style="color: #000000">;</span>
<span style="color: #000000">        outpcm</span><span style="color: #000000">.</span><span style="color: #000000">pBuffer </span><span style="color: #000000">=</span><span style="color: #000000"> tmpOutputPCMBuff</span><span style="color: #000000">;</span>
<span style="color: #000000">        </span><span style="color: #008000">/* Encode a frame */</span>
<span style="color: #000000">        </span><span style="color: #0000ff">if</span><span style="color: #000000">(</span><span style="color: #000000">USC_NoError </span><span style="color: #000000">!=</span><span style="color: #000000"> USC_Gxxx_Fnxs</span><span style="color: #000000">-&gt;</span><span style="color: #000000">Encode</span><span style="color: #000000"> </span><span style="color: #000000">(</span><span style="color: #000000">hUSCEncoder</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #000000">&amp;</span><span style="color: #000000">in</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #000000">&amp;</span><span style="color: #000000">out</span><span style="color: #000000">))</span>
<span style="color: #000000">            </span><span style="color: #000000">exit</span><span style="color: #000000">(</span><span style="color: #000000">6</span><span style="color: #000000">);</span>
<span style="color: #000000">        </span><span style="color: #008000">/* Decode a frame */</span>
<span style="color: #000000">        </span><span style="color: #0000ff">if</span><span style="color: #000000">(</span><span style="color: #000000">USC_NoError </span><span style="color: #000000">!=</span><span style="color: #000000"> USC_Gxxx_Fnxs</span><span style="color: #000000">-&gt;</span><span style="color: #000000">Decode</span><span style="color: #000000"> </span><span style="color: #000000">(</span><span style="color: #000000">hUSCDecoder</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #000000">&amp;</span><span style="color: #000000">out</span><span style="color: #000000">,</span>
<span style="color: #000000">                    </span><span style="color: #000000">&amp;</span><span style="color: #000000">outpcm</span><span style="color: #000000">))</span>
<span style="color: #000000">            </span><span style="color: #000000">exit</span><span style="color: #000000">(</span><span style="color: #000000">6</span><span style="color: #000000">);</span>
<span style="color: #000000">        </span><span style="color: #008000">/* Move to the next frame */</span>
<span style="color: #000000">        tmpInputBuff </span><span style="color: #000000">+=</span><span style="color: #000000"> in</span><span style="color: #000000">.</span><span style="color: #000000">nbytes</span><span style="color: #000000">;</span>
<span style="color: #000000">        tmpOutputBuff </span><span style="color: #000000">+=</span><span style="color: #000000"> out</span><span style="color: #000000">.</span><span style="color: #000000">nbytes</span><span style="color: #000000">;</span>
<span style="color: #000000">        tmpOutputPCMBuff </span><span style="color: #000000">+=</span><span style="color: #000000"> outpcm</span><span style="color: #000000">.</span><span style="color: #000000">nbytes</span><span style="color: #000000">;</span>
<span style="color: #000000">        </span><span style="color: #008000">/* calculate the size of the remaining PCM data */</span>
<span style="color: #000000">        bytesRemaining </span><span style="color: #000000">-=</span><span style="color: #000000"> in</span><span style="color: #000000">.</span><span style="color: #000000">nbytes</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #000000">}</span>
<span style="color: #000000">    </span><span style="color: #008000">/*</span>
<span style="color: #008000">    Release memory of the encoder instance</span>
<span style="color: #008000">    */</span>
<span style="color: #000000">    </span><span style="color: #0000ff">for</span><span style="color: #000000">(</span><span style="color: #000000">i</span><span style="color: #000000">=</span><span style="color: #000000">0</span><span style="color: #000000">;</span><span style="color: #000000"> i</span><span style="color: #000000">&lt;</span><span style="color: #000000">nbanksEnc</span><span style="color: #000000">;</span><span style="color: #000000"> i</span><span style="color: #000000">++)</span><span style="color: #000000"> </span><span style="color: #000000">{</span>
<span style="color: #000000">        </span><span style="color: #000000">free</span><span style="color: #000000">(</span><span style="color: #000000">pBanksEnc</span><span style="color: #000000">[</span><span style="color: #000000">i</span><span style="color: #000000">].</span><span style="color: #000000">pMem</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #000000">}</span>
<span style="color: #000000">    </span><span style="color: #000000">free</span><span style="color: #000000">(</span><span style="color: #000000">pBanksEnc</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #008000">/*</span>
<span style="color: #008000">    Release memory of the decoder instance</span>
<span style="color: #008000">    */</span>
<span style="color: #000000">    </span><span style="color: #0000ff">for</span><span style="color: #000000">(</span><span style="color: #000000">i</span><span style="color: #000000">=</span><span style="color: #000000">0</span><span style="color: #000000">;</span><span style="color: #000000"> i</span><span style="color: #000000">&lt;</span><span style="color: #000000">nbanksDec</span><span style="color: #000000">;</span><span style="color: #000000"> i</span><span style="color: #000000">++)</span><span style="color: #000000"> </span><span style="color: #000000">{</span>
<span style="color: #000000">        </span><span style="color: #000000">free</span><span style="color: #000000">(</span><span style="color: #000000">pBanksDec</span><span style="color: #000000">[</span><span style="color: #000000">i</span><span style="color: #000000">].</span><span style="color: #000000">pMem</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #000000">}</span>
<span style="color: #000000">    </span><span style="color: #000000">free</span><span style="color: #000000">(</span><span style="color: #000000">pBanksDec</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #000000">free</span><span style="color: #000000">(</span><span style="color: #000000">pInfo</span><span style="color: #000000">);</span>
<span style="color: #000000">}</span></tt></pre></div></div>
</div></div>
<div class="paragraph"><p>The C code below demonstrates how to use <code><a href="#_reinit">Reinit</a></code> and <code><a href="#_control">Control</a></code> functions.</p></div>
<div class="exampleblock">
<div class="title">Example 2. Using ReInit and Control Functions</div>
<div class="content">
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.1
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #008000">/*</span>
<span style="color: #008000">Some declarations and definitions</span>
<span style="color: #008000">*/</span>
<span style="color: #0000ff">#include</span><span style="color: #000000"> </span><span style="color: #A31515">"usc.h"</span>
<span style="color: #0000ff">#include</span><span style="color: #000000"> </span><span style="color: #A31515">&lt;stdlib.h&gt;</span>

<span style="color: #0000ff">#define</span><span style="color: #000000"> PCMDATA_LEN </span><span style="color: #000000">10000</span><span style="color: #000000"> </span><span style="color: #008000">/* length of the input PCM data */</span>
<span style="color: #0000ff">static</span><span style="color: #000000"> </span><span style="color: #0000ff">int</span><span style="color: #000000"> lenSrc </span><span style="color: #000000">=</span><span style="color: #000000"> PCMDATA_LEN</span><span style="color: #000000">;</span>

<span style="color: #0000ff">extern</span><span style="color: #000000"> </span><span style="color: #000000">USC_Fxns</span><span style="color: #000000"> USC_G729I_Fxns</span><span style="color: #000000">;</span><span style="color: #000000"> </span><span style="color: #008000">/* For example, linking to the G729I</span>
<span style="color: #008000">codec */</span>
<span style="color: #000000">USC_Fxns</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">USC_Gxxx_Fnxs </span><span style="color: #000000">=</span><span style="color: #000000"> </span><span style="color: #000000">&amp;</span><span style="color: #000000">USC_G729I_Fxns</span><span style="color: #000000">;</span>
<span style="color: #008000">/*</span>
<span style="color: #008000">main program: foo codec initialization and re-initialization</span>
<span style="color: #008000">*/</span>
<span style="color: #0000ff">int</span><span style="color: #000000"> </span><span style="color: #000000">main</span><span style="color: #000000">(</span><span style="color: #0000ff">int</span><span style="color: #000000"> argc</span><span style="color: #000000">,</span><span style="color: #000000"> </span><span style="color: #0000ff">char</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">argv</span><span style="color: #000000">[])</span><span style="color: #000000"> </span><span style="color: #000000">{</span>
<span style="color: #000000">    </span><span style="color: #008000">/* Local variables */</span>
<span style="color: #000000">    </span><span style="color: #000000">USC_CodecInfo</span><span style="color: #000000"> </span><span style="color: #000000">*</span><span style="color: #000000">pInfo</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #0000ff">int</span><span style="color: #000000"> infoSize</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #0000ff">int</span><span style="color: #000000"> i</span><span style="color: #000000">,</span><span style="color: #000000"> nbanksEnc</span><span style="color: #000000">;</span>
<span style="color: #000000">    USC_MemBank</span><span style="color: #000000">*</span><span style="color: #000000"> pBanksEnc</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #000000">USC_Handle</span><span style="color: #000000"> hUSCEncoder</span><span style="color: #000000">;</span>

<span style="color: #000000">    </span><span style="color: #008000">/* Get the size of the Gxxx codec status structure */</span>
<span style="color: #000000">    </span><span style="color: #0000ff">if</span><span style="color: #000000">(</span><span style="color: #000000">USC_NoError </span><span style="color: #000000">!=</span><span style="color: #000000"> USC_Gxxx_Fnxs</span><span style="color: #000000">-&gt;</span><span style="color: #000000">std</span><span style="color: #000000">.</span><span style="color: #000000">GetInfoSize</span><span style="color: #000000">(&amp;</span><span style="color: #000000">infoSize</span><span style="color: #000000">))</span>
<span style="color: #000000">        </span><span style="color: #000000">exit</span><span style="color: #000000">(</span><span style="color: #000000">1</span><span style="color: #000000">);</span>
<span style="color: #000000">    pInfo </span><span style="color: #000000">=</span><span style="color: #000000"> </span><span style="color: #000000">(</span><span style="color: #000000">USC_CodecInfo </span><span style="color: #000000">*)</span><span style="color: #000000">malloc</span><span style="color: #000000">(</span><span style="color: #000000">infoSize</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #008000">/* Get the Gxxx codec status */</span>
<span style="color: #000000">    </span><span style="color: #0000ff">if</span><span style="color: #000000">(</span><span style="color: #000000">USC_NoError </span><span style="color: #000000">!=</span><span style="color: #000000"> USC_Gxxx_Fnxs</span><span style="color: #000000">-&gt;</span><span style="color: #000000">std</span><span style="color: #000000">.</span><span style="color: #000000">GetInfo</span><span style="color: #000000">((</span><span style="color: #000000">USC_Handle</span><span style="color: #000000">)</span><span style="color: #000000">NULL</span><span style="color: #000000">,</span><span style="color: #000000">pInfo</span><span style="color: #000000">))</span>
<span style="color: #000000">        </span><span style="color: #000000">exit</span><span style="color: #000000">(</span><span style="color: #000000">2</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #008000">/*</span>
<span style="color: #008000">    creation of the encoder instance</span>
<span style="color: #008000">    */</span>
<span style="color: #000000">    pInfo</span><span style="color: #000000">-&gt;</span><span style="color: #000000">params</span><span style="color: #000000">.</span><span style="color: #000000">direction </span><span style="color: #000000">=</span><span style="color: #000000"> </span><span style="color: #000000">0</span><span style="color: #000000">;</span><span style="color: #000000"> </span><span style="color: #008000">/* Direction: encode */</span>
<span style="color: #000000">    pInfo</span><span style="color: #000000">-&gt;</span><span style="color: #000000">params</span><span style="color: #000000">.</span><span style="color: #000000">modes</span><span style="color: #000000">.</span><span style="color: #000000">vad </span><span style="color: #000000">=</span><span style="color: #000000"> </span><span style="color: #000000">0</span><span style="color: #000000">;</span><span style="color: #000000"> </span><span style="color: #008000">/* Suppress silence compression */</span>
<span style="color: #000000">    pInfo</span><span style="color: #000000">-&gt;</span><span style="color: #000000">params</span><span style="color: #000000">.</span><span style="color: #000000">law </span><span style="color: #000000">=</span><span style="color: #000000"> </span><span style="color: #000000">0</span><span style="color: #000000">;</span><span style="color: #000000"> </span><span style="color: #008000">/* Linear PCM input */</span>
<span style="color: #000000">    pInfo</span><span style="color: #000000">-&gt;</span><span style="color: #000000">params</span><span style="color: #000000">.</span><span style="color: #000000">modes</span><span style="color: #000000">.</span><span style="color: #000000">bitrate </span><span style="color: #000000">=</span>
<span style="color: #000000">           pInfo</span><span style="color: #000000">-&gt;</span><span style="color: #000000">pRateTbl</span><span style="color: #000000">[</span><span style="color: #000000">pInfo</span><span style="color: #000000">-&gt;</span><span style="color: #000000">nRates</span><span style="color: #000000">-</span><span style="color: #000000">1</span><span style="color: #000000">].</span><span style="color: #000000">bitrate</span><span style="color: #000000">;</span><span style="color: #000000"> </span><span style="color: #008000">/*For example, set</span>
<span style="color: #008000">                                    the highest bitrate*/</span>
<span style="color: #000000">    </span><span style="color: #008000">/* determine how many memory blocks the encoder needs */</span>
<span style="color: #000000">    </span><span style="color: #0000ff">if</span><span style="color: #000000">(</span><span style="color: #000000">USC_NoError </span><span style="color: #000000">!=</span>
<span style="color: #000000">            USC_Gxxx_Fnxs</span><span style="color: #000000">-&gt;</span><span style="color: #000000">std</span><span style="color: #000000">.</span><span style="color: #000000">NumAlloc</span><span style="color: #000000">(&amp;</span><span style="color: #000000">pInfo</span><span style="color: #000000">-&gt;</span><span style="color: #000000">params</span><span style="color: #000000">,&amp;</span><span style="color: #000000">nbanksEnc</span><span style="color: #000000">))</span>
<span style="color: #000000">        </span><span style="color: #000000">exit</span><span style="color: #000000">(</span><span style="color: #000000">3</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #008000">/* allocate memory for the memory bank table */</span>
<span style="color: #000000">    pBanksEnc </span><span style="color: #000000">=</span><span style="color: #000000"> </span><span style="color: #000000">(</span><span style="color: #000000">USC_MemBank</span><span style="color: #000000">*)</span><span style="color: #000000">malloc</span><span style="color: #000000">(</span><span style="color: #0000ff">sizeof</span><span style="color: #000000">(</span><span style="color: #000000">USC_MemBank</span><span style="color: #000000">)*</span><span style="color: #000000">nbanksEnc</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #008000">/* Determine the size of each block */</span>
<span style="color: #000000">    </span><span style="color: #0000ff">if</span><span style="color: #000000">(</span><span style="color: #000000">USC_NoError </span><span style="color: #000000">!=</span>
<span style="color: #000000">            USC_Gxxx_Fnxs</span><span style="color: #000000">-&gt;</span><span style="color: #000000">std</span><span style="color: #000000">.</span><span style="color: #000000">MemAlloc</span><span style="color: #000000">(&amp;</span><span style="color: #000000">pInfo</span><span style="color: #000000">-&gt;</span><span style="color: #000000">params</span><span style="color: #000000">,</span><span style="color: #000000">pBanksEnc</span><span style="color: #000000">))</span>
<span style="color: #000000">        </span><span style="color: #000000">exit</span><span style="color: #000000">(</span><span style="color: #000000">4</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #008000">/* allocate memory for each block */</span>
<span style="color: #000000">    </span><span style="color: #0000ff">for</span><span style="color: #000000">(</span><span style="color: #000000">i</span><span style="color: #000000">=</span><span style="color: #000000">0</span><span style="color: #000000">;</span><span style="color: #000000"> i</span><span style="color: #000000">&lt;</span><span style="color: #000000">nbanksEnc</span><span style="color: #000000">;</span><span style="color: #000000"> i</span><span style="color: #000000">++)</span><span style="color: #000000"> </span><span style="color: #000000">{</span>
<span style="color: #000000">        pBanksEnc</span><span style="color: #000000">[</span><span style="color: #000000">i</span><span style="color: #000000">].</span><span style="color: #000000">pMem </span><span style="color: #000000">=</span><span style="color: #000000"> </span><span style="color: #000000">(</span><span style="color: #0000ff">unsigned</span><span style="color: #000000"> </span><span style="color: #0000ff">char</span><span style="color: #000000">*)</span><span style="color: #000000">malloc</span><span style="color: #000000">(</span><span style="color: #000000">pBanksEnc</span><span style="color: #000000">[</span><span style="color: #000000">i</span><span style="color: #000000">].</span><span style="color: #000000">nbytes</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #000000">}</span>
<span style="color: #000000">    </span><span style="color: #008000">/* Create an encoder instance */</span>
<span style="color: #000000">    </span><span style="color: #0000ff">if</span><span style="color: #000000">(</span><span style="color: #000000">USC_NoError </span><span style="color: #000000">!=</span>
<span style="color: #000000">            USC_Gxxx_Fnxs</span><span style="color: #000000">-&gt;</span><span style="color: #000000">std</span><span style="color: #000000">.</span><span style="color: #000000">Init</span><span style="color: #000000">(&amp;</span><span style="color: #000000">pInfo</span><span style="color: #000000">-&gt;</span><span style="color: #000000">params</span><span style="color: #000000">,</span><span style="color: #000000"> pBanksEnc</span><span style="color: #000000">,&amp;</span><span style="color: #000000">hUSCEncoder</span><span style="color: #000000">))</span>
<span style="color: #000000">        </span><span style="color: #000000">exit</span><span style="color: #000000">(</span><span style="color: #000000">5</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #008000">/*Some processing*/</span>
<span style="color: #000000">    </span><span style="color: #008000">/*Now we change bitrate on the fly*/</span>
<span style="color: #000000">    pInfo</span><span style="color: #000000">-&gt;</span><span style="color: #000000">params</span><span style="color: #000000">.</span><span style="color: #000000">modes</span><span style="color: #000000">.</span><span style="color: #000000">bitrate </span><span style="color: #000000">=</span><span style="color: #000000"> pInfo</span><span style="color: #000000">-&gt;</span><span style="color: #000000">pRateTbl</span><span style="color: #000000">[</span><span style="color: #000000">0</span><span style="color: #000000">].</span><span style="color: #000000">bitrate</span><span style="color: #000000">;</span><span style="color: #000000"> </span><span style="color: #008000">/* For example,</span>
<span style="color: #008000">                                        set the lowest bitrate*/</span>
<span style="color: #000000">    </span><span style="color: #0000ff">if</span><span style="color: #000000">(</span><span style="color: #000000">USC_NoError </span><span style="color: #000000">!=</span><span style="color: #000000"> USC_Gxxx_Fnxs</span><span style="color: #000000">-&gt;</span><span style="color: #000000">std</span><span style="color: #000000">.</span><span style="color: #000000">Control</span><span style="color: #000000">(&amp;</span><span style="color: #000000">pInfo</span><span style="color: #000000">-&gt;</span><span style="color: #000000">params</span><span style="color: #000000">.</span><span style="color: #000000">modes</span><span style="color: #000000">,</span>
<span style="color: #000000">            hUSCEncoder</span><span style="color: #000000">))</span>
<span style="color: #000000">        </span><span style="color: #000000">exit</span><span style="color: #000000">(</span><span style="color: #000000">6</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #008000">/*Some processing with the new bitrate*/</span>
<span style="color: #000000">    </span><span style="color: #008000">/*Now we re-initialize the encoder instance*/</span>
<span style="color: #000000">    </span><span style="color: #0000ff">if</span><span style="color: #000000">(</span><span style="color: #000000">USC_NoError </span><span style="color: #000000">!=</span>
<span style="color: #000000">            USC_Gxxx_Fnxs</span><span style="color: #000000">-&gt;</span><span style="color: #000000">std</span><span style="color: #000000">.</span><span style="color: #000000">Reinit</span><span style="color: #000000">(&amp;</span><span style="color: #000000">pInfo</span><span style="color: #000000">-&gt;</span><span style="color: #000000">params</span><span style="color: #000000">.</span><span style="color: #000000">modes</span><span style="color: #000000">,</span><span style="color: #000000">hUSCEncoder</span><span style="color: #000000">))</span>
<span style="color: #000000">        </span><span style="color: #000000">exit</span><span style="color: #000000">(</span><span style="color: #000000">7</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #008000">/*</span>
<span style="color: #008000">    Release memory of the encoder instance</span>
<span style="color: #008000">    */</span>
<span style="color: #000000">    </span><span style="color: #0000ff">for</span><span style="color: #000000">(</span><span style="color: #000000">i</span><span style="color: #000000">=</span><span style="color: #000000">0</span><span style="color: #000000">;</span><span style="color: #000000"> i</span><span style="color: #000000">&lt;</span><span style="color: #000000">nbanksEnc</span><span style="color: #000000">;</span><span style="color: #000000"> i</span><span style="color: #000000">++)</span><span style="color: #000000"> </span><span style="color: #000000">{</span>
<span style="color: #000000">        </span><span style="color: #000000">free</span><span style="color: #000000">(</span><span style="color: #000000">pBanksEnc</span><span style="color: #000000">[</span><span style="color: #000000">i</span><span style="color: #000000">].</span><span style="color: #000000">pMem</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #000000">}</span>
<span style="color: #000000">    </span><span style="color: #000000">free</span><span style="color: #000000">(</span><span style="color: #000000">pBanksEnc</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #000000">free</span><span style="color: #000000">(</span><span style="color: #000000">pInfo</span><span style="color: #000000">);</span>
<span style="color: #000000">}</span></tt></pre></div></div>
</div></div>
<h1 id="_bibliography">Bibliography</h1>
<div class="paragraph"><p>This bibliography provides a list of reference books and other sources of additional information that might
be helpful to the application programmer using the Intel&#174; Integrated Performance Primitives
Unified Speech Component interface.</p></div>
<div class="ulist"><ul>
<li>
<p>
<a id="RFC2833"></a> H. Schulzrinne, S. Petrack. RTP Payload for DTMF Digits, Telephony Tones and Telephony Signals. May 2000. Available from <a href="http://www.ietf.org/rfc/rfc2833.txt?number=2833">http://www.ietf.org/rfc/rfc2833.txt?number=2833</a>.
</p>
</li>
</ul></div>
</div>
<div id="footnotes"><hr /></div>
<div id="footer">
<div id="footer-text">
</div>
</div>
</body>
</html>
